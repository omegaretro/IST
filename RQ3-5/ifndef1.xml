<rows>
  <row Id="722932" PostTypeId="1" AcceptedAnswerId="722958" CreationDate="2009-04-06T19:56:45.120" Score="1" ViewCount="17418" Body="&lt;p&gt;I'm getting the LNK2005: already defined in (...) error when building my project in Visual Studio 2008. I've referenced other related questions, but mine seems to be a bit more complicated due if nothing else to the number of files I'm working with.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;First, I think it will be helpful for me to map out the #include statements I have in the files of my project in the format [current_file] -&gt;includes_this_file&lt;/p&gt;&#xA;&#xA;&lt;p&gt;All my header files are guarded with the standard #ifndef [Header] #define [Header] ... #endif.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[Modulator.h]&lt;/p&gt;&#xA;&#xA;&lt;p&gt;prototypes for Modulator class&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[ChorusUnit.h] -&gt;Modulator.h&lt;/p&gt;&#xA;&#xA;&lt;p&gt;prototypes for Chorus classes which have member objects of type Modulator&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[AudioHandler.h] -&gt;ChorusUnit.h&lt;/p&gt;&#xA;&#xA;&lt;p&gt;prototypes for AudioHandler class which has member objects of Chorus classes&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[Chorus.cpp] -&gt;AudioHandler.h&lt;/p&gt;&#xA;&#xA;&lt;p&gt;definitions for the members of Modulator and Chorus classes&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[AudioHandler.cpp] -&gt;Chorus.cpp&lt;/p&gt;&#xA;&#xA;&lt;p&gt;definitions for the members of AudioHandler class&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[ChorusUnit.cpp] -&gt;AudioHandler.cpp&lt;/p&gt;&#xA;&#xA;&lt;p&gt;the file containing the main() function that actually runs the code of my project.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The ordering of includes is because all the definitions of functions to the classes found in Modulator.h, ChorusUnit.h, and AudioHandler.h need to reference members of the other classes, so I needed the prototypes defined first for all the classes to see each other.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The error specifically says that every single definition found in Chorus.cpp and AudioHandler.cpp in file Chorus.obj is already defined in AudioHandler.obj.&#xA;Also there is another set of the same error type that says every single definition found in Chorus.cpp and AudioHandler.cpp in file ChorusUnit.obj is already defined in AudioHandler.obj.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;There is probably a pretty straightforward solution, but I am not particularly experience (being mostly a Java programmer) in linking in general. As far as my limited knowledge on the subject goes, I only defined everything once and everything was only included once so I'm personally at a loss as to why these are already defined. Some please enlighten me!&lt;/p&gt;&#xA;" OwnerUserId="72401" LastActivityDate="2009-04-06T20:04:11.967" Title="Complicated error LNK2005: already defined C++" Tags="&lt;c++&gt;&lt;visual-studio-2008&gt;&lt;linker&gt;" AnswerCount="4" CommentCount="0" FavoriteCount="1" />
  <row Id="1421485" PostTypeId="1" AcceptedAnswerId="1421497" CreationDate="2009-09-14T13:14:50.567" Score="0" ViewCount="1393" Body="&lt;p&gt;I currently have a program where my main code is in a file main.cpp.&#xA;Main.cpp includes a header file &quot;class.h&quot; that declares a class that is used within main.cpp.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Also in main.cpp I have function declarations that declare the functions I use within main.cpp.&#xA;The code for these functions is in a separate .cpp file fucntions.cpp. &#xA;Like main.cpp, functions.cpp also includes class.h as the class type is used within the functions.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;class.h contains the class declaration only.&#xA;The implementation code for class.h is in a separate .cpp file classimplementation.cpp.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It all works fine until I try to make the class in class.h a template class.&#xA;Then I get linking problems. Research and testing has shown me that this is because the definition of the template class functions needs to reside in class.h with the declaration. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I therefore took the required code out of classimplementations.cpp and put it into class.h.&#xA;This did solve my original linking issues but instead I get more linking errors that seem to be telling me I am trying to redefine the functions that I moved to into class.h. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;This I think is because class.h is being called by main.cpp and again by functions.cpp.&#xA;Therefore the functions in class.h are being defined twice: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Error   41  error LNK2005: &quot;public: __thiscall RecordPocket::RecordPocket(int)&quot; (??0?$RecordPocket@VT@@@@QAE@H@Z) already defined in classimplementation.obj  functions.obj&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I know that class implementation code should really be kept out of include files but due to the template class limitation of having to keep the class functions local I appear (in my novice mind) to have no choice.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Has anyone been in this scenario and can offer any advice.&#xA;I have tried surrounding the functions I moved from classimplementation.cpp to class.h with the standard ifndef &lt;em&gt;CLASSIMP&lt;/em&gt;, #define &lt;em&gt;CLASSIMP&lt;/em&gt; code and PRAGMA ONCE but neither make any difference.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If all else fails I will move the functions from functions.cpp into main.cpp so that class.h gets called just the once but I’d rather find out what I’m doing wrong as I’m sure it will happen again.&lt;/p&gt;&#xA;" OwnerUserId="119253" LastEditorDisplayName="Roger Pate" LastEditDate="2010-10-25T14:44:49.730" LastActivityDate="2010-10-25T14:44:49.730" Title="template class, implementation code causing linking issues" Tags="&lt;c++&gt;&lt;class&gt;&lt;templates&gt;&lt;linker&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="1554910" PostTypeId="1" AcceptedAnswerId="1555046" CreationDate="2009-10-12T14:28:25.577" Score="6" ViewCount="1049" Body="&lt;p&gt;I am creating my own implementation of XUL in C++ using the Windows API. The fact that the elements are constructed by the XML parser requires that they have identical interfaces, so that we don't need to write custom code for each element constructor. The result is that most of my elements look like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class Button : public Element&#xA;{&#xA;public:&#xA;    static const char * Type() { return &quot;button&quot;; }&#xA;&#xA;private:&#xA;    friend class Element;&#xA;    Button(Element * inParent, const AttributesMapping &amp;amp; inAttributesMapping);&#xA;};&#xA;&#xA;&#xA;class Label : public Element&#xA;{&#xA;public:&#xA;    static const char * Type() { return &quot;label&quot;; }&#xA;&#xA;private:&#xA;    friend class Element;&#xA;    Label(Element * inParent, const AttributesMapping &amp;amp; inAttributesMapping);&#xA;};&#xA;&#xA;&#xA;class Description : public Element&#xA;{&#xA;public:&#xA;    static const char * Type() { return &quot;description&quot;; }&#xA;&#xA;    virtual bool init();&#xA;&#xA;private:&#xA;    friend class Element;&#xA;    Description(Element * inParent, const AttributesMapping &amp;amp; inAttributesMapping);&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So there is a lot of code duplication here. I wonder if it would be a good idea to replace them with macro calls like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#define DECLARE_ELEMENT(ElementType, XULName)           \&#xA;class ElementType : public Element                      \&#xA;{                                                       \&#xA;public:                                                 \&#xA;    static const char * Type() { return XULName; }      \&#xA;                                                        \&#xA;private:                                                \&#xA;    friend class Element;                               \&#xA;    ElementType(                                        \&#xA;        Element * inParent,                             \&#xA;        const AttributesMapping &amp;amp; inAttributesMapping); \&#xA;};                                                      \&#xA;&#xA;&#xA;DECLARE_ELEMENT(Window, &quot;window&quot;)&#xA;DECLARE_ELEMENT(Button, &quot;button&quot;)&#xA;DECLARE_ELEMENT(Label, &quot;label&quot;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I haven't completely worked out the concept yet, so a few things are missing here, like the class definitions, and (maybe) the ability to add methods per element.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;But I'd like to know your opinion of using macros in this situation. Feel free to share your thoughts.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am now using a small ruby script that generates the source and header files from a set of templates. I enhanced the scripts so that the files are also automatically marked for addition on SVN, and the Visual Studio project file is modified to include the files. This saves me a lot of manual labor. I'm quite happy with this solution. FYI this is what the templates look like now:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef {{ELEMENT_NAME_UPPER}}_H_INCLUDED&#xA;#define {{ELEMENT_NAME_UPPER}}_H_INCLUDED&#xA;&#xA;&#xA;#include &quot;XULWin/Element.h&quot;&#xA;&#xA;&#xA;namespace XULWin&#xA;{&#xA;&#xA;    class {{ELEMENT_NAME}} : public Element&#xA;    {&#xA;    public:&#xA;        static ElementPtr Create(Element * inParent, const AttributesMapping &amp;amp; inAttr)&#xA;        { return Element::Create&amp;lt;{{ELEMENT_NAME}}&amp;gt;(inParent, inAttr); }&#xA;&#xA;        static const char * Type() { return &quot;{{ELEMENT_TYPE}}&quot;; }&#xA;&#xA;        virtual bool init();&#xA;&#xA;    private:&#xA;        friend class Element;&#xA;        {{ELEMENT_NAME}}(Element * inParent, const AttributesMapping &amp;amp; inAttributesMapping);&#xA;    };&#xA;&#xA;} // namespace XULWin&#xA;&#xA;&#xA;#endif // {{ELEMENT_NAME_UPPER}}_H_INCLUDED&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CPP document:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;XULWin/{{ELEMENT_NAME}}.h&quot;&#xA;#include &quot;XULWin/{{ELEMENT_NAME}}Impl.h&quot;&#xA;#include &quot;XULWin/AttributeController.h&quot;&#xA;#include &quot;XULWin/Decorator.h&quot;&#xA;&#xA;&#xA;namespace XULWin&#xA;{&#xA;&#xA;    {{ELEMENT_NAME}}::{{ELEMENT_NAME}}(Element * inParent, const AttributesMapping &amp;amp; inAttributesMapping) :&#xA;        Element({{ELEMENT_NAME}}::Type(),&#xA;                inParent,&#xA;                new {{ELEMENT_NAME}}Impl(inParent-&amp;gt;impl(), inAttributesMapping))&#xA;    {&#xA;    }&#xA;&#xA;&#xA;    bool {{ELEMENT_NAME}}::init()&#xA;    {&#xA;        return Element::init();&#xA;    }&#xA;&#xA;} // namespace XULWin&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="75889" LastEditorUserId="75889" LastEditDate="2009-10-16T00:06:42.910" LastActivityDate="2009-10-16T00:06:42.910" Title="D.R.Y vs &quot;avoid macros&quot;" Tags="&lt;c++&gt;&lt;dry&gt;" AnswerCount="12" CommentCount="4" FavoriteCount="3" />
  <row Id="1576102" PostTypeId="1" AcceptedAnswerId="1576210" CreationDate="2009-10-16T02:05:15.270" Score="0" ViewCount="1362" Body="&lt;p&gt;I'm not really familiar with the connection protocols.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm using the following code to examine connect() so I can get the hostname:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   NI_MAXHOST&#xA;#define   NI_MAXHOST 1025&#xA;#endif&#xA;&#xA;int error;&#xA;&#xA; char hostname[NI_MAXHOST] = &quot;&quot;;&#xA;&#xA;&#xA; error = getnameinfo(serv_addr, addrlen, hostname, NI_MAXHOST, NULL, 0, 0);&#xA;&#xA; if (error !=0) {&#xA;  ALogTCP(@&quot;coudldn't resolve hostname or internal connect&quot;);&#xA;  [pool release];&#xA;  return orig__connect(sockfd, serv_addr, addrlen);&#xA;  }&#xA;&#xA;&#xA; if (error == 0) {&#xA;  ALogTCP(@&quot;hostname: %s&quot;, hostname);&#xA;  NSString *hostFirst = [NSString stringWithCString:hostname];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;can I use the &quot;same&quot; code to get the hostname if I hook into sendto() (so I can examine UDP)?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;thanks in advance.&lt;/p&gt;&#xA;" OwnerUserId="144417" LastActivityDate="2009-10-16T05:21:53.587" Title="C: getting hostname from TCP and UDP socket?" Tags="&lt;c#&gt;&lt;objective-c&gt;&lt;tcp&gt;&lt;udp&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="1597566" PostTypeId="1" AcceptedAnswerId="1604047" CreationDate="2009-10-20T21:59:24.637" Score="0" ViewCount="1403" Body="&lt;p&gt;I'm currently writing an MobileSubstrate plugin (code injection for iPhone). It gets the hostname by hooking into connect() and this piece of code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   NI_MAXHOST&#xA;#define   NI_MAXHOST 1025&#xA;#endif&#xA;&#xA;int error;&#xA;&#xA; char hostname[NI_MAXHOST] = &quot;&quot;;&#xA;&#xA;&#xA; error = getnameinfo(serv_addr, addrlen, hostname, NI_MAXHOST, NULL, 0, 0);&#xA;&#xA; if (error !=0) {&#xA;  ALogTCP(@&quot;coudldn't resolve hostname or internal connect&quot;);&#xA;&#xA;  return orig__connect(sockfd, serv_addr, addrlen);&#xA;  }&#xA;&#xA;&#xA; if (error == 0) {&#xA;  ALogTCP(@&quot;hostname: %s&quot;, hostname);&#xA;  NSString *hostFirst = [NSString stringWithCString:hostname];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now I've noticed that some hostnames won't get resolved properly (wrong host: like connect.xyz.com instead of irc.xyz.com)  (depending on the DNS Server).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm not very used to all the networking functions and an extensive search didn't turn up any solution.:&#xA;I'm thinking about hooking into a function which is responsible for all hostname-&gt;IP &quot;conversions&quot;, getting the hostname and use it later in the above code. Is there such a function? and how is it called?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thank you very much in advance.&lt;/p&gt;&#xA;" OwnerUserId="144417" LastEditorUserId="11182" LastEditDate="2009-10-21T06:51:07.423" LastActivityDate="2009-10-21T22:35:18.807" Title="iPhone, C/objC: getting hostname (not by resolving from IP) by hooking into system wide functions?" Tags="&lt;iphone&gt;&lt;objective-c&gt;" AnswerCount="1" CommentCount="6" FavoriteCount="1" />
  <row Id="2001373" PostTypeId="1" AcceptedAnswerId="2001996" CreationDate="2010-01-04T18:50:21.553" Score="0" ViewCount="795" Body="&lt;p&gt;Platform : Windows running Oracle 10g&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have to modify some old dll library codes and precompile with Oracle&#xA;Pro*C/C++ 9.0.1.1.1, now I discovered the codes &#xA;for(;;) whenever not found do break is no longer working, it just keep&#xA;looping.&#xA;I have prepared some codes here showing before and after precompile and&#xA;also a log.&#xA;Thanks in advance to whoever might be able to help. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;(A) the PC program &#xA;&#xA;/************************************************************************/ &#xA;/* fmt_clnt.pc                                                          */ &#xA;/************************************************************************/ &#xA;#include &amp;lt;stdlib.h&amp;gt; &#xA;#include &amp;lt;string.h&amp;gt; &#xA;#include &amp;lt;process.h&amp;gt; &#xA;#include &amp;lt;stdio.h&amp;gt; &#xA;#include &amp;lt;windows.h&amp;gt; &#xA;/*--------------------------------------------------------------------------+ &#xA; | Copyright (c) Oracle Corporation 1993.  All Rights Reserved, Worldwide.  | &#xA; |                                                                          | &#xA; | NAME                                                                     | &#xA; |   ue.h - User Exit Functions Header File.                                | &#xA; |                                                                          | &#xA; | FUNCTION                                                                 | &#xA; |    Define the exitr structure. Misc defines.                             | &#xA; |                                                                          | &#xA; | CONTENTS                                                                 | &#xA; |                                                                          | &#xA; | NOTES                                                                    | &#xA; |                                                                          | &#xA; | MODIFIED                                                                 | &#xA; |  KMajkut  03/23/93 Created. Split off from old ue.h                      | &#xA; |                    Added definition of exitr from usrxit.h               | &#xA; +-------------------------------------------------------------------------*/ &#xA;&#xA;#ifndef UE &#xA;#define UE &#xA;&#xA;#define MAX_ERRBUF_SIZE    256 &#xA;&#xA;extern char  SRWERB[]; &#xA;&#xA;struct  exitr                           /* Struct definition for exits */ &#xA;{ &#xA;         char     *exnam;               /* Name of the user exit */ &#xA;         int       (*exfp)(/*_ char* _*/);   /* Pointer to exit routine */ &#xA;         int       extyp;               /* Type code for exit routine  */ &#xA;#define  XITCC1    1                    /* C (for existing exits)      */ &#xA;#define  XITCC     2                    /* C (call-by-reference)       */ &#xA;#define  XITCOB    3                    /* Cobol                      */ &#xA;#define  XITFOR    4                    /* Fortran                    */ &#xA;#define  XITPLI    5                    /* PL/I                             */ &#xA;#define  XITPAS    6                    /* Pascal                           */ &#xA;#define  XITAda    7                    /* Ada                              */ &#xA;}; &#xA;&#xA;/* Failure and Success return codes */ &#xA;#define    FATAL_ERR  535    /* Use this on really bad errors */ &#xA;#define    FAILURE  1403   /* Use this on recoverable error */ &#xA;#define    SUCCESS  0      /* Use for success */ &#xA;&#xA;typedef struct exitr exitr; &#xA;&#xA;extern exitr iapxtb[]; &#xA;&#xA;&#xA;#endif /* UE */ &#xA;&#xA;#define NORMAL      0 &#xA;#define HYFAILED      1 &#xA;&#xA;&#xA;# define externdef globaldef &#xA;&#xA;&#xA;extern int fmt_clnt(); &#xA;extern int inv_msp(); &#xA;extern int inv_ism(); &#xA;extern int readmsp(); &#xA;extern int coll_bad(); &#xA;/*******************************************************************/ &#xA;exec sql begin declare section; &#xA;char   frm_batch_str[10]; &#xA;int    status; &#xA;long   batch; &#xA;long   todays_batch; &#xA;int    loopcnt; &#xA;char   sub_code[2]; &#xA;char   description[61]; &#xA;&#xA;exec sql end declare section; &#xA;/*******************************************************************/ &#xA;/* exec sql INCLUDE sqlca; */ &#xA;&#xA;#ifndef    SQLCODE &#xA;struct     sqlca &#xA;{ &#xA;           unsigned char  sqlcaid[8]; &#xA;           long           sqlcabc; &#xA;           long           sqlcode; &#xA;           short          sqlerrml; &#xA;           unsigned char  sqlerrmc[70]; &#xA;           unsigned char  sqlerrp[8]; &#xA;           long           sqlerrd[6]; &#xA;           unsigned char  sqlwarn[11]; &#xA;           unsigned char  sqlstate[5]; &#xA;}; &#xA;#define      SQLCODE   sqlca.sqlcode &#xA;#define      SQLWARN0  sqlca.sqlwarn[0] &#xA;#define      SQLWARN1  sqlca.sqlwarn[1] &#xA;#define      SQLWARN2  sqlca.sqlwarn[2] &#xA;#define      SQLWARN3  sqlca.sqlwarn[3] &#xA;#define      SQLWARN4  sqlca.sqlwarn[4] &#xA;#define      SQLWARN5  sqlca.sqlwarn[5] &#xA;#define      SQLWARN6  sqlca.sqlwarn[6] &#xA;#define      SQLWARN7  sqlca.sqlwarn[7] &#xA;#define      SQLWARN8  sqlca.sqlwarn[8] &#xA;#define      SQLWARN9  sqlca.sqlwarn[9] &#xA;#define      SQLWARNA  sqlca.sqlwarn[10] &#xA;#define      SQLSTATE  sqlca.sqlstate &#xA;#endif &#xA;struct sqlca sqlca; &#xA;&#xA;/********************************************/ &#xA;&#xA;FILE   *logfp; &#xA;int    sql_err(); &#xA;int    call_sqlca_flags (); &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*                         Main program                            */ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;int fmt_clnt() &#xA;{         &#xA;   int i = 1; &#xA;   int status = 0; &#xA;   logfp = fopen(&quot;format.txt&quot;, &quot;w&quot;); &#xA;   fprintf(logfp, &quot;fmt_clnt version is HY2009Q4\n&quot;); &#xA;   strcpy(frm_batch_str, &quot; &quot;); &#xA;   /****************************************************/ &#xA;   /* get batch number from Forms program              */ &#xA;   /****************************************************/ &#xA;   /* exec iaf get reqdata.batch into :frm_batch_str;  */ &#xA;   exec tools get reqdata.batch into :frm_batch_str;  &#xA;   /*****************************************************/ &#xA;   /* Make sure dbms is accessible                      */ &#xA;   /*****************************************************/ &#xA;   exec sql whenever sqlerror do sql_err(&quot;Debug 1\n&quot;);  &#xA;   exec sql select max(batch) into :todays_batch from bill_test; &#xA;   fprintf(logfp, &quot;High batch is %d\n&quot;, todays_batch); &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*                         For Loop Debug                          */ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;   fprintf(logfp, &quot;Only 8 entries in table but will loop forever\n&quot;); &#xA;   fprintf(logfp, &quot;For (;;) loop change to max 20 to force breaking out\n&quot;); &#xA;   exec sql declare c1 cursor for &#xA;       select sub_code, description from submission_code where 1=1 order by sub_code; &#xA;   exec sql OPEN c1; &#xA;   exec sql whenever not found do break; &#xA;   for (i; i &amp;lt; 20 ; ++ i) &#xA;      { &#xA;      exec sql fetch c1 into :sub_code, :description; &#xA;      fprintf(logfp, &quot;When i=%d sqlcode=%d sub_code=%s desc=%s\n&quot;, i,sqlca.sqlcode,sub_code,description);  &#xA;      } &#xA;   exec sql CLOSE c1; &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*                       End For Loop Debug                        */ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;   if (status == HYFAILED || status == IAPFAIL)  &#xA;      return (IAPFAIL); &#xA;   fclose(logfp); &#xA;   return (IAPSUCC); &#xA;} &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*                       SQL_ERR trapping                          */ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;int sql_err(msg) &#xA;char *msg; &#xA;{ &#xA;char err_msg[128]; &#xA;int  msg_len;     &#xA;/*hy   strcpy (err_msg, sqlca.sqlerrm.sqlerrmc);  */ &#xA;   msg_len = strlen (err_msg); &#xA;   fprintf(logfp, &quot;error %s\n&quot;, err_msg); &#xA;   exec sql ROLLBACK; &#xA;   return (IAPFAIL); &#xA;} &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;&#xA;&#xA;&#xA;(B) the C program after the precompile &#xA;&#xA;/* Result Sets Interface */ &#xA;#ifndef SQL_CRSR &#xA;#  define SQL_CRSR &#xA;  struct sql_cursor &#xA;  { &#xA;    unsigned int curocn; &#xA;    void *ptr1; &#xA;    void *ptr2; &#xA;    unsigned long magic; &#xA;  }; &#xA;  typedef struct sql_cursor sql_cursor; &#xA;  typedef struct sql_cursor SQL_CURSOR; &#xA;#endif /* SQL_CRSR */ &#xA;&#xA;/* Thread Safety */ &#xA;typedef void * sql_context; &#xA;typedef void * SQL_CONTEXT; &#xA;&#xA;/* Object support */ &#xA;struct sqltvn &#xA;{ &#xA;  unsigned char *tvnvsn; &#xA;  unsigned short tvnvsnl; &#xA;  unsigned char *tvnnm; &#xA;  unsigned short tvnnml; &#xA;  unsigned char *tvnsnm; &#xA;  unsigned short tvnsnml; &#xA;}; &#xA;typedef struct sqltvn sqltvn; &#xA;&#xA;struct sqladts &#xA;{ &#xA;  unsigned int adtvsn; &#xA;  unsigned short adtmode; &#xA;  unsigned short adtnum;  &#xA;  sqltvn adttvn[1];       &#xA;}; &#xA;typedef struct sqladts sqladts; &#xA;&#xA;static struct sqladts sqladt = { &#xA;  1,1,0, &#xA;}; &#xA;&#xA;/* Binding to PL/SQL Records */ &#xA;struct sqltdss &#xA;{ &#xA;  unsigned int tdsvsn; &#xA;  unsigned short tdsnum; &#xA;  unsigned char *tdsval[1]; &#xA;}; &#xA;typedef struct sqltdss sqltdss; &#xA;static struct sqltdss sqltds = &#xA;{ &#xA;  1, &#xA;  0, &#xA;}; &#xA;&#xA;&#xA;static char sqh000[] = &quot;REQDATA.BATCH&quot;; &#xA;/* File name &amp;amp; Package Name */ &#xA;struct sqlcxp &#xA;{ &#xA;  unsigned short fillen; &#xA;           char  filnam[22]; &#xA;}; &#xA;static const struct sqlcxp sqlfpn = &#xA;{ &#xA;    21, &#xA;    &quot;C:\\puzzle\\FMT_CLNT.PC&quot; &#xA;}; &#xA;&#xA;&#xA;static unsigned long sqlctx = 146507995; &#xA;&#xA;&#xA;static struct sqlexd { &#xA;   unsigned int   sqlvsn; &#xA;   unsigned int   arrsiz; &#xA;   unsigned int   iters; &#xA;   unsigned int   offset; &#xA;   unsigned short selerr; &#xA;   unsigned short sqlety; &#xA;   unsigned int   occurs; &#xA;      const short *cud; &#xA;   unsigned char  *sqlest; &#xA;      const char  *stmt; &#xA;   sqladts *sqladtp; &#xA;   sqltdss *sqltdsp; &#xA;            void  **sqphsv; &#xA;   unsigned int   *sqphsl; &#xA;            int   *sqphss; &#xA;            void  **sqpind; &#xA;            int   *sqpins; &#xA;   unsigned int   *sqparm; &#xA;   unsigned int   **sqparc; &#xA;   unsigned short  *sqpadto; &#xA;   unsigned short  *sqptdso; &#xA;            void  *sqhstv[2]; &#xA;   unsigned int   sqhstl[2]; &#xA;            int   sqhsts[2]; &#xA;            void  *sqindv[2]; &#xA;            int   sqinds[2]; &#xA;   unsigned int   sqharm[2]; &#xA;   unsigned int   *sqharc[2]; &#xA;   unsigned short  sqadto[2]; &#xA;   unsigned short  sqtdso[2]; &#xA;} sqlstm = {10,2}; &#xA;&#xA;/* SQLLIB Prototypes */ &#xA;extern void sqlcxt (void **, unsigned long *, &#xA;                    struct sqlexd *, const struct sqlcxp *); &#xA;extern void sqlcx2t(void **, unsigned long *, &#xA;                    struct sqlexd *, const struct sqlcxp *); &#xA;extern void sqlbuft(void **, char *); &#xA;extern void sqlgs2t(void **, char *); &#xA;extern void sqlorat(void **, unsigned long *, void *); &#xA;&#xA;/* Forms Interface */ &#xA;static const int IAPSUCC = 0; &#xA;static const int IAPFAIL = 1403; &#xA;static const int IAPFTL  = 535; &#xA;extern void sqliem(char *, int *); &#xA;&#xA; static const char *sq0003 = &#xA;&quot;select sub_code ,description  from submission_code where 1=1 order by sub_co\ &#xA;de            &quot;; &#xA;&#xA;typedef struct { unsigned short len; unsigned char arr[1]; } VARCHAR; &#xA;typedef struct { unsigned short len; unsigned char arr[1]; } varchar; &#xA;&#xA;/* cud (compilation unit data) array */ &#xA;static const short sqlcud0[] = &#xA;{10,4130,178,0,0, &#xA;5,0,0,1,0,0,51,152,0,0,2,1,0,1,0,1,1,0,0,2,97,0,0, &#xA;28,0,0,2,43,0,4,157,0,0,1,0,0,1,0,2,3,0,0, &#xA;47,0,0,3,90,0,9,168,0,0,0,0,0,1,0, &#xA;62,0,0,3,0,0,13,172,0,0,2,0,0,1,0,2,97,0,0,2,97,0,0, &#xA;85,0,0,3,0,0,15,175,0,0,0,0,0,1,0, &#xA;100,0,0,4,0,0,31,200,0,0,0,0,0,1,0, &#xA;}; &#xA;&#xA;&#xA;/************************************************************************/ &#xA;/* fmt_clnt.pc                                                          */ &#xA;/************************************************************************/ &#xA;#include &amp;lt;stdlib.h&amp;gt; &#xA;#include &amp;lt;string.h&amp;gt; &#xA;#include &amp;lt;process.h&amp;gt; &#xA;#include &amp;lt;stdio.h&amp;gt; &#xA;#include &amp;lt;windows.h&amp;gt; &#xA;/*--------------------------------------------------------------------------+ &#xA; | Copyright (c) Oracle Corporation 1993.  All Rights Reserved, Worldwide.  | &#xA; |                                                                          | &#xA; | NAME                                                                     | &#xA; |   ue.h - User Exit Functions Header File.                                | &#xA; |                                                                          | &#xA; | FUNCTION                                                                 | &#xA; |    Define the exitr structure. Misc defines.                             | &#xA; |                                                                          | &#xA; | CONTENTS                                                                 | &#xA; |                                                                          | &#xA; | NOTES                                                                    | &#xA; |                                                                          | &#xA; | MODIFIED                                                                 | &#xA; |  KMajkut  03/23/93 Created. Split off from old ue.h                      | &#xA; |                    Added definition of exitr from usrxit.h               | &#xA; +-------------------------------------------------------------------------*/ &#xA;&#xA;#ifndef UE &#xA;#define UE &#xA;&#xA;#define MAX_ERRBUF_SIZE    256 &#xA;&#xA;extern char  SRWERB[]; &#xA;&#xA;struct  exitr                           /* Struct definition for exits */ &#xA;{ &#xA;         char     *exnam;               /* Name of the user exit */ &#xA;         int       (*exfp)(/*_ char* _*/);   /* Pointer to exit routine */ &#xA;         int       extyp;               /* Type code for exit routine  */ &#xA;#define  XITCC1    1                    /* C (for existing exits)      */ &#xA;#define  XITCC     2                    /* C (call-by-reference)       */ &#xA;#define  XITCOB    3                    /* Cobol                      */ &#xA;#define  XITFOR    4                    /* Fortran                    */ &#xA;#define  XITPLI    5                    /* PL/I                             */ &#xA;#define  XITPAS    6                    /* Pascal                           */ &#xA;#define  XITAda    7                    /* Ada                              */ &#xA;}; &#xA;&#xA;/* Failure and Success return codes */ &#xA;#define    FATAL_ERR  535    /* Use this on really bad errors */ &#xA;#define    FAILURE  1403   /* Use this on recoverable error */ &#xA;#define    SUCCESS  0      /* Use for success */ &#xA;&#xA;typedef struct exitr exitr; &#xA;&#xA;extern exitr iapxtb[]; &#xA;&#xA;&#xA;#endif /* UE */ &#xA;&#xA;#define NORMAL      0 &#xA;#define HYFAILED      1 &#xA;&#xA;&#xA;# define externdef globaldef &#xA;&#xA;&#xA;extern int fmt_clnt(); &#xA;extern int inv_msp(); &#xA;extern int inv_ism(); &#xA;extern int readmsp(); &#xA;extern int coll_bad(); &#xA;/*******************************************************************/ &#xA;/* exec sql begin declare section; */ &#xA;&#xA;char   frm_batch_str[10]; &#xA;int    status; &#xA;long   batch; &#xA;long   todays_batch; &#xA;int    loopcnt; &#xA;char   sub_code[2]; &#xA;char   description[61]; &#xA;&#xA;/* exec sql end declare section; */ &#xA;&#xA;/*******************************************************************/ &#xA;/* exec sql INCLUDE sqlca; */ &#xA;&#xA;#ifndef    SQLCODE &#xA;struct     sqlca &#xA;{ &#xA;           unsigned char  sqlcaid[8]; &#xA;           long           sqlcabc; &#xA;           long           sqlcode; &#xA;           short          sqlerrml; &#xA;           unsigned char  sqlerrmc[70]; &#xA;           unsigned char  sqlerrp[8]; &#xA;           long           sqlerrd[6]; &#xA;           unsigned char  sqlwarn[11]; &#xA;           unsigned char  sqlstate[5]; &#xA;}; &#xA;#define      SQLCODE   sqlca.sqlcode &#xA;#define      SQLWARN0  sqlca.sqlwarn[0] &#xA;#define      SQLWARN1  sqlca.sqlwarn[1] &#xA;#define      SQLWARN2  sqlca.sqlwarn[2] &#xA;#define      SQLWARN3  sqlca.sqlwarn[3] &#xA;#define      SQLWARN4  sqlca.sqlwarn[4] &#xA;#define      SQLWARN5  sqlca.sqlwarn[5] &#xA;#define      SQLWARN6  sqlca.sqlwarn[6] &#xA;#define      SQLWARN7  sqlca.sqlwarn[7] &#xA;#define      SQLWARN8  sqlca.sqlwarn[8] &#xA;#define      SQLWARN9  sqlca.sqlwarn[9] &#xA;#define      SQLWARNA  sqlca.sqlwarn[10] &#xA;#define      SQLSTATE  sqlca.sqlstate &#xA;#endif &#xA;struct sqlca sqlca; &#xA;&#xA;/********************************************/ &#xA;&#xA;FILE   *logfp; &#xA;int    sql_err(); &#xA;int    call_sqlca_flags (); &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*                         Main program                            */ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;int fmt_clnt() &#xA;{         &#xA;   int i = 1; &#xA;   int status = 0; &#xA;   logfp = fopen(&quot;format.txt&quot;, &quot;w&quot;); &#xA;   fprintf(logfp, &quot;fmt_clnt version is HY2009Q4\n&quot;); &#xA;   strcpy(frm_batch_str, &quot; &quot;); &#xA;   /****************************************************/ &#xA;   /* get batch number from Forms program              */ &#xA;   /****************************************************/ &#xA;   /* exec iaf get reqdata.batch into :frm_batch_str;  */ &#xA;   /* exec tools get reqdata.batch into :frm_batch_str; */ &#xA;&#xA;{ &#xA;   struct sqlexd sqlstm; &#xA;   sqlstm.sqlvsn = 10; &#xA;   sqlstm.arrsiz = 2; &#xA;   sqlstm.sqladtp = &amp;amp;sqladt; &#xA;   sqlstm.sqltdsp = &amp;amp;sqltds; &#xA;   sqlstm.stmt = &quot;&quot;; &#xA;   sqlstm.iters = (unsigned int  )1; &#xA;   sqlstm.offset = (unsigned int  )5; &#xA;   sqlstm.cud = sqlcud0; &#xA;   sqlstm.sqlest = (unsigned char  *)&amp;amp;sqlca; &#xA;   sqlstm.sqlety = (unsigned short)256; &#xA;   sqlstm.occurs = (unsigned int  )0; &#xA;   sqlstm.sqhstv[0] = (         void  *)sqh000; &#xA;   sqlstm.sqhstl[0] = (unsigned int  )13; &#xA;   sqlstm.sqhsts[0] = (         int  )0; &#xA;   sqlstm.sqindv[0] = (         void  *)0; &#xA;   sqlstm.sqinds[0] = (         int  )0; &#xA;   sqlstm.sqharm[0] = (unsigned int  )0; &#xA;   sqlstm.sqadto[0] = (unsigned short )0; &#xA;   sqlstm.sqtdso[0] = (unsigned short )0; &#xA;   sqlstm.sqhstv[1] = (         void  *)frm_batch_str; &#xA;   sqlstm.sqhstl[1] = (unsigned int  )10; &#xA;   sqlstm.sqhsts[1] = (         int  )0; &#xA;   sqlstm.sqindv[1] = (         void  *)0; &#xA;   sqlstm.sqinds[1] = (         int  )0; &#xA;   sqlstm.sqharm[1] = (unsigned int  )0; &#xA;   sqlstm.sqadto[1] = (unsigned short )0; &#xA;   sqlstm.sqtdso[1] = (unsigned short )0; &#xA;   sqlstm.sqphsv = sqlstm.sqhstv; &#xA;   sqlstm.sqphsl = sqlstm.sqhstl; &#xA;   sqlstm.sqphss = sqlstm.sqhsts; &#xA;   sqlstm.sqpind = sqlstm.sqindv; &#xA;   sqlstm.sqpins = sqlstm.sqinds; &#xA;   sqlstm.sqparm = sqlstm.sqharm; &#xA;   sqlstm.sqparc = sqlstm.sqharc; &#xA;   sqlstm.sqpadto = sqlstm.sqadto; &#xA;   sqlstm.sqptdso = sqlstm.sqtdso; &#xA;   sqlcxt((void **)0, &amp;amp;sqlctx, &amp;amp;sqlstm, &amp;amp;sqlfpn); &#xA;} &#xA;&#xA;&#xA;   /*****************************************************/ &#xA;   /* Make sure dbms is accessible                      */ &#xA;   /*****************************************************/ &#xA;   /* exec sql whenever sqlerror do sql_err(&quot;Debug 1\n&quot;); */ &#xA;&#xA;   /* exec sql select max(batch) into :todays_batch from bill_test; */ &#xA;&#xA;{ &#xA;   struct sqlexd sqlstm; &#xA;   sqlstm.sqlvsn = 10; &#xA;   sqlstm.arrsiz = 2; &#xA;   sqlstm.sqladtp = &amp;amp;sqladt; &#xA;   sqlstm.sqltdsp = &amp;amp;sqltds; &#xA;   sqlstm.stmt = &quot;select max(batch) into :b0  from bill_test &quot;; &#xA;   sqlstm.iters = (unsigned int  )1; &#xA;   sqlstm.offset = (unsigned int  )28; &#xA;   sqlstm.selerr = (unsigned short)1; &#xA;   sqlstm.cud = sqlcud0; &#xA;   sqlstm.sqlest = (unsigned char  *)&amp;amp;sqlca; &#xA;   sqlstm.sqlety = (unsigned short)256; &#xA;   sqlstm.occurs = (unsigned int  )0; &#xA;   sqlstm.sqhstv[0] = (         void  *)&amp;amp;todays_batch; &#xA;   sqlstm.sqhstl[0] = (unsigned int  )sizeof(long); &#xA;   sqlstm.sqhsts[0] = (         int  )0; &#xA;   sqlstm.sqindv[0] = (         void  *)0; &#xA;   sqlstm.sqinds[0] = (         int  )0; &#xA;   sqlstm.sqharm[0] = (unsigned int  )0; &#xA;   sqlstm.sqadto[0] = (unsigned short )0; &#xA;   sqlstm.sqtdso[0] = (unsigned short )0; &#xA;   sqlstm.sqphsv = sqlstm.sqhstv; &#xA;   sqlstm.sqphsl = sqlstm.sqhstl; &#xA;   sqlstm.sqphss = sqlstm.sqhsts; &#xA;   sqlstm.sqpind = sqlstm.sqindv; &#xA;   sqlstm.sqpins = sqlstm.sqinds; &#xA;   sqlstm.sqparm = sqlstm.sqharm; &#xA;   sqlstm.sqparc = sqlstm.sqharc; &#xA;   sqlstm.sqpadto = sqlstm.sqadto; &#xA;   sqlstm.sqptdso = sqlstm.sqtdso; &#xA;   sqlcxt((void **)0, &amp;amp;sqlctx, &amp;amp;sqlstm, &amp;amp;sqlfpn); &#xA;   if (sqlca.sqlcode &amp;lt; 0) sql_err(&quot;Debug 1\n&quot;); &#xA;} &#xA;&#xA;&#xA;   fprintf(logfp, &quot;High batch is %d\n&quot;, todays_batch); &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*                         For Loop Debug                          */ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;   fprintf(logfp, &quot;Only 8 entries in table but will loop forever\n&quot;); &#xA;   fprintf(logfp, &quot;For (;;) loop change to max 20 to force breaking out\n&quot;); &#xA;   /* exec sql declare c1 cursor for &#xA;       select sub_code, description from submission_code where 1=1 order by sub_code; */ &#xA;&#xA;   /* exec sql OPEN c1; */ &#xA;&#xA;{ &#xA;   struct sqlexd sqlstm; &#xA;   sqlstm.sqlvsn = 10; &#xA;   sqlstm.arrsiz = 2; &#xA;   sqlstm.sqladtp = &amp;amp;sqladt; &#xA;   sqlstm.sqltdsp = &amp;amp;sqltds; &#xA;   sqlstm.stmt = sq0003; &#xA;   sqlstm.iters = (unsigned int  )1; &#xA;   sqlstm.offset = (unsigned int  )47; &#xA;   sqlstm.selerr = (unsigned short)1; &#xA;   sqlstm.cud = sqlcud0; &#xA;   sqlstm.sqlest = (unsigned char  *)&amp;amp;sqlca; &#xA;   sqlstm.sqlety = (unsigned short)256; &#xA;   sqlstm.occurs = (unsigned int  )0; &#xA;   sqlcxt((void **)0, &amp;amp;sqlctx, &amp;amp;sqlstm, &amp;amp;sqlfpn); &#xA;   if (sqlca.sqlcode &amp;lt; 0) sql_err(&quot;Debug 1\n&quot;); &#xA;} &#xA;&#xA;&#xA;   /* exec sql whenever not found do break; */ &#xA;&#xA;   for (i; i &amp;lt; 20 ; ++ i) &#xA;      { &#xA;      /* exec sql fetch c1 into :sub_code, :description; */ &#xA;&#xA;{ &#xA;      struct sqlexd sqlstm; &#xA;      sqlstm.sqlvsn = 10; &#xA;      sqlstm.arrsiz = 2; &#xA;      sqlstm.sqladtp = &amp;amp;sqladt; &#xA;      sqlstm.sqltdsp = &amp;amp;sqltds; &#xA;      sqlstm.iters = (unsigned int  )1; &#xA;      sqlstm.offset = (unsigned int  )62; &#xA;      sqlstm.selerr = (unsigned short)1; &#xA;      sqlstm.cud = sqlcud0; &#xA;      sqlstm.sqlest = (unsigned char  *)&amp;amp;sqlca; &#xA;      sqlstm.sqlety = (unsigned short)256; &#xA;      sqlstm.occurs = (unsigned int  )0; &#xA;      sqlstm.sqhstv[0] = (         void  *)sub_code; &#xA;      sqlstm.sqhstl[0] = (unsigned int  )2; &#xA;      sqlstm.sqhsts[0] = (         int  )0; &#xA;      sqlstm.sqindv[0] = (         void  *)0; &#xA;      sqlstm.sqinds[0] = (         int  )0; &#xA;      sqlstm.sqharm[0] = (unsigned int  )0; &#xA;      sqlstm.sqadto[0] = (unsigned short )0; &#xA;      sqlstm.sqtdso[0] = (unsigned short )0; &#xA;      sqlstm.sqhstv[1] = (         void  *)description; &#xA;      sqlstm.sqhstl[1] = (unsigned int  )61; &#xA;      sqlstm.sqhsts[1] = (         int  )0; &#xA;      sqlstm.sqindv[1] = (         void  *)0; &#xA;      sqlstm.sqinds[1] = (         int  )0; &#xA;      sqlstm.sqharm[1] = (unsigned int  )0; &#xA;      sqlstm.sqadto[1] = (unsigned short )0; &#xA;      sqlstm.sqtdso[1] = (unsigned short )0; &#xA;      sqlstm.sqphsv = sqlstm.sqhstv; &#xA;      sqlstm.sqphsl = sqlstm.sqhstl; &#xA;      sqlstm.sqphss = sqlstm.sqhsts; &#xA;      sqlstm.sqpind = sqlstm.sqindv; &#xA;      sqlstm.sqpins = sqlstm.sqinds; &#xA;      sqlstm.sqparm = sqlstm.sqharm; &#xA;      sqlstm.sqparc = sqlstm.sqharc; &#xA;      sqlstm.sqpadto = sqlstm.sqadto; &#xA;      sqlstm.sqptdso = sqlstm.sqtdso; &#xA;      sqlcxt((void **)0, &amp;amp;sqlctx, &amp;amp;sqlstm, &amp;amp;sqlfpn); &#xA;      if (sqlca.sqlcode == 1403) break; &#xA;      if (sqlca.sqlcode &amp;lt; 0) sql_err(&quot;Debug 1\n&quot;); &#xA;} &#xA;&#xA;&#xA;      fprintf(logfp, &quot;When i=%d sqlcode=%d sub_code=%s desc=%s\n&quot;, i,sqlca.sqlcode,sub_code,description);  &#xA;      } &#xA;   /* exec sql CLOSE c1; */ &#xA;&#xA;{ &#xA;   struct sqlexd sqlstm; &#xA;   sqlstm.sqlvsn = 10; &#xA;   sqlstm.arrsiz = 2; &#xA;   sqlstm.sqladtp = &amp;amp;sqladt; &#xA;   sqlstm.sqltdsp = &amp;amp;sqltds; &#xA;   sqlstm.iters = (unsigned int  )1; &#xA;   sqlstm.offset = (unsigned int  )85; &#xA;   sqlstm.cud = sqlcud0; &#xA;   sqlstm.sqlest = (unsigned char  *)&amp;amp;sqlca; &#xA;   sqlstm.sqlety = (unsigned short)256; &#xA;   sqlstm.occurs = (unsigned int  )0; &#xA;   sqlcxt((void **)0, &amp;amp;sqlctx, &amp;amp;sqlstm, &amp;amp;sqlfpn); &#xA;   if (sqlca.sqlcode &amp;lt; 0) sql_err(&quot;Debug 1\n&quot;); &#xA;} &#xA;&#xA;&#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*                       End For Loop Debug                        */ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;   if (status == HYFAILED || status == IAPFAIL)  &#xA;      return (IAPFAIL); &#xA;   fclose(logfp); &#xA;   return (IAPSUCC); &#xA;} &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;/*                       SQL_ERR trapping                          */ &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;int sql_err(msg) &#xA;char *msg; &#xA;{ &#xA;char err_msg[128]; &#xA;int  msg_len;     &#xA;/*hy   strcpy (err_msg, sqlca.sqlerrm.sqlerrmc);  */ &#xA;   msg_len = strlen (err_msg); &#xA;   fprintf(logfp, &quot;error %s\n&quot;, err_msg); &#xA;   /* exec sql ROLLBACK; */ &#xA;&#xA;{ &#xA;   struct sqlexd sqlstm; &#xA;   sqlstm.sqlvsn = 10; &#xA;   sqlstm.arrsiz = 2; &#xA;   sqlstm.sqladtp = &amp;amp;sqladt; &#xA;   sqlstm.sqltdsp = &amp;amp;sqltds; &#xA;   sqlstm.iters = (unsigned int  )1; &#xA;   sqlstm.offset = (unsigned int  )100; &#xA;   sqlstm.cud = sqlcud0; &#xA;   sqlstm.sqlest = (unsigned char  *)&amp;amp;sqlca; &#xA;   sqlstm.sqlety = (unsigned short)256; &#xA;   sqlstm.occurs = (unsigned int  )0; &#xA;   sqlcxt((void **)0, &amp;amp;sqlctx, &amp;amp;sqlstm, &amp;amp;sqlfpn); &#xA;   if (sqlca.sqlcode &amp;lt; 0) sql_err(&quot;Debug 1\n&quot;); &#xA;} &#xA;&#xA;&#xA;   return (IAPFAIL); &#xA;} &#xA;/*******************************************************************/ &#xA;/*******************************************************************/ &#xA;&#xA;fmt_clnt version is HY2009Q4 &#xA;High batch is 20091224 &#xA;Only 8 entries in table but will loop forever &#xA;For (;;) loop change to max 20 to force breaking out &#xA;When i=1 sqlcode=0 sub_code=0 desc=Normal submission                                           &#xA;When i=2 sqlcode=0 sub_code=A desc=Requested pre-approval claim                                &#xA;When i=3 sqlcode=0 sub_code=C desc=Subscriber coverage problem                                 &#xA;When i=4 sqlcode=0 sub_code=D desc=Duplicate claim                                             &#xA;When i=5 sqlcode=0 sub_code=I desc=ICBC claim                                                  &#xA;When i=6 sqlcode=0 sub_code=R desc=Re-submitted claim                   &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="243342" LastEditorUserId="635608" LastEditDate="2013-09-14T10:28:16.703" LastActivityDate="2013-09-14T10:28:16.703" Title="Oracle Precompiler dll library" Tags="&lt;oracle&gt;&lt;dll&gt;&lt;oracle-pro-c&gt;" AnswerCount="3" CommentCount="2" FavoriteCount="0" />
  <row Id="2012496" PostTypeId="1" AcceptedAnswerId="2019014" CreationDate="2010-01-06T11:19:58.720" Score="6" ViewCount="1765" Body="&lt;p&gt;My &lt;strong&gt;C&lt;/strong&gt; project uses preprocessor directives to activate / deactivate some features. It's not unusual to find some of the less common configurations do not compile anymore due to a change made a few days ago within an &lt;code&gt;#ifdef&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;We use a script to compile the most common configurations, but I'm looking for a tool to ensure everything is compiled (testing is not a problem in our case, we just want to detect ASAP nothing stops compiling). Usually ifdefs / ifndefs are independent, so normally each module have to be compiled just twice (all symbols defined, all undefined). But sometimes the ifdefs are nested, so those modules have to be compiled more times.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Do you know of any tool to search all ifdef / ifndef (also nested ones) and gives how many times a module have to be compiled (with the set of preprocessor symbols to be defined in each one) to ensure every single source line of code is analyzed by the compiler?&lt;/p&gt;&#xA;" OwnerUserId="220816" LastEditorUserId="4370109" LastEditDate="2016-02-20T22:14:58.703" LastActivityDate="2016-02-20T22:14:58.703" Title="Tool for compiling automatically all ifdef / ifndef directives" Tags="&lt;c&gt;&lt;c-preprocessor&gt;&lt;conditional-compilation&gt;" AnswerCount="8" CommentCount="0" FavoriteCount="2" ClosedDate="2016-02-21T11:37:22.830" />
  <row Id="2038640" PostTypeId="1" AcceptedAnswerId="2038651" CreationDate="2010-01-10T21:12:47.683" Score="7" ViewCount="646" Body="&lt;p&gt;Why does each .h file starts with #ifndef #define #endif? We can certainly compile the program without those directives.&lt;/p&gt;&#xA;" OwnerUserId="133466" LastEditorUserId="4370109" LastEditDate="2016-02-20T22:19:03.003" LastActivityDate="2016-02-20T22:19:03.003" Title="In C and C++, why is each .h file usually surrounded with #ifndef #define #endif directives?" Tags="&lt;c++&gt;&lt;c&gt;&lt;c-preprocessor&gt;&lt;include-guards&gt;" AnswerCount="5" CommentCount="1" />
  <row Id="2441882" PostTypeId="1" AcceptedAnswerId="2442813" CreationDate="2010-03-14T10:51:31.253" Score="0" ViewCount="364" Body="&lt;p&gt;Hello (and thanks in advance)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm in a bit of a quandry, I cant seem to figure out why I'm seg faulting.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;A couple of notes:&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;It's for a course -- and sadly I am&#xA;required to use use C-strings&#xA;instead of std::string.   &lt;/li&gt;&#xA;&lt;li&gt;Please dont fix my code (I wont learn that way and I will keep bugging you). &#xA;please just point out the flaws in my logic and suggest a different function/way.&lt;/li&gt;&#xA;&lt;li&gt;platform: gcc version 4.4.1 on Suse&#xA;Linux 11.2 (2.6.31 kernel)&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;Here's the code&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;main.cpp:&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// INCLUDES (C/C++ Std Library)&#xA;#include    &amp;lt;cstdlib&amp;gt;      /// EXIT_SUCCESS, EXIT_FAILURE&#xA;#include    &amp;lt;iostream&amp;gt;     /// cin, cout, ifstream&#xA;#include    &amp;lt;cassert&amp;gt;      /// assert&#xA;&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// DEPENDENCIES (custom header files)&#xA;#include    &quot;dict.h&quot;       /// Header for the dictionary class&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// PRE-PROCESSOR CONSTANTS&#xA;#define     ENTER    '\n'     /// Used to accept new lines, quit program.&#xA;#define     SPACE    ' '      /// One way to end the program&#xA;&#xA;&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// CUSTOM DATA TYPES&#xA;&#xA;/// File Namespace -- keep it local&#xA;namespace&#xA;{&#xA;   /// Possible program prompts to display for the user.&#xA;   enum  FNS_Prompts     &#xA;   {&#xA;      fileName_,     /// prints out the name of the file&#xA;      noFile_,       /// no file was passed to the program&#xA;      tooMany_,      /// more than one file was passed to the program&#xA;      noMemory_,     /// Not enough memory to use the program&#xA;      usage_,        /// how to use the program&#xA;      word_,         /// ask the user to define a word.&#xA;      notFound_,     /// the word is not in the dictionary&#xA;      done_,         /// the program is closing normally&#xA;   };&#xA;&#xA;}&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// Namespace&#xA;using    namespace   std;     /// Nothing special in the way of namespaces&#xA;&#xA;&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// FUNCTIONS&#xA;&#xA;/** prompt()   prompts the user to do something, uses enum Prompts for parameter.&#xA;*/&#xA;void  prompt(FNS_Prompts    msg   /** determines the prompt to use*/)&#xA;{&#xA;   switch(msg)&#xA;      {&#xA;         case  fileName_   :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; &quot;The file name is: &quot;;&#xA;               break;&#xA;            }&#xA;         case  noFile_     :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; &quot;...Sorry, a dictionary file is needed.  Try again.&quot; &amp;lt;&amp;lt; endl;&#xA;               break;&#xA;            }&#xA;         case  tooMany_    :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; &quot;...Sorry, you can only specify one dictionary file.  Try again.&quot; &amp;lt;&amp;lt; endl;&#xA;               break;&#xA;            }&#xA;         case  noMemory_   :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; &quot;...Sorry, there isn't enough memory available to run this program.&quot; &amp;lt;&amp;lt; endl;&#xA;               break;&#xA;            }&#xA;         case  usage_   :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; &quot;USAGE:&quot; &amp;lt;&amp;lt; endl&#xA;                  &amp;lt;&amp;lt; &quot;    lookup.exe   [dictionary file name]&quot; &amp;lt;&amp;lt; endl &amp;lt;&amp;lt; endl;&#xA;               break;&#xA;            }&#xA;         case  done_       :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; &quot;like Master P says, \&quot;Word.\&quot;&quot; &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; endl;&#xA;               break;&#xA;            }&#xA;         case  word_       :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; &quot;Enter a word in the dictionary to get it's definition.&quot; &amp;lt;&amp;lt; ENTER&#xA;                  &amp;lt;&amp;lt; &quot;Enter \&quot;?\&quot; to get a sorted list of all words in the dictionary.&quot; &amp;lt;&amp;lt; ENTER&#xA;                  &amp;lt;&amp;lt; &quot;... Press the Enter key to quit the program: &quot;;&#xA;               break;&#xA;            }&#xA;         case  notFound_   :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; &quot;...Sorry, that word is not in the dictionary.&quot; &amp;lt;&amp;lt; endl;&#xA;               break;&#xA;            }&#xA;         default           :&#xA;            {&#xA;               cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; &quot;something passed an invalid enum to prompt(). &quot; &amp;lt;&amp;lt; endl;&#xA;               assert(false);    /// something passed in an invalid enum&#xA;            }&#xA;      }&#xA;}&#xA;&#xA;&#xA;&#xA;&#xA;/** useDictionary()  uses the dictionary created by createDictionary&#xA; * - prompts user to lookup a word&#xA; * - ends when the user enters an empty word&#xA; */&#xA;void    useDictionary(Dictionary    &amp;amp;d)&#xA;{&#xA;   char  *userEntry = new char;  /// user's input on the command line&#xA;   if(   !userEntry     )        // check the pointer to the heap&#xA;      {  cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; MEM_ERR_MSG &amp;lt;&amp;lt; endl;     exit(EXIT_FAILURE);&#xA;      }&#xA;&#xA;   do&#xA;      {&#xA;         prompt(word_);&#xA;         // test code&#xA;         cout &amp;lt;&amp;lt; endl &amp;lt;&amp;lt; &quot;----------------------------------------&quot; &amp;lt;&amp;lt; endl&#xA;            &amp;lt;&amp;lt; &quot;Enter something: &quot;;&#xA;&#xA;         cin.getline(userEntry,  INPUT_LINE_MAX_LEN,  ENTER);&#xA;&#xA;         cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; userEntry &amp;lt;&amp;lt; endl;&#xA;&#xA;      }while (  userEntry[0] != NIL    &amp;amp;&amp;amp;    userEntry[0] != SPACE  );&#xA;&#xA;   // GARBAGE COLLECTION&#xA;   delete[] userEntry;&#xA;&#xA;}&#xA;&#xA;&#xA;&#xA;&#xA;/** Program Entry&#xA; * Reads in the required, single file from the command prompt.&#xA; * - If there is no file, state such and error out.&#xA; * - If there is more than one file, state such and error out.&#xA; * - If there is a single file:&#xA; *    - Create the database object&#xA; *    - Populate the database object&#xA; *    - Prompt the user for entry&#xA; * main() will return EXIT_SUCCESS upon termination.&#xA; */&#xA;int   main(int    argc,    /// the number of files being passed into the program&#xA;           char   *argv[]  /// pointer to the filename being passed into tthe program&#xA;          )&#xA;{&#xA;&#xA;   // EXECUTE&#xA;&#xA;   /* Testing code * /&#xA;         char  tempFile[INPUT_LINE_MAX_LEN] = {NIL};&#xA;         cout  &amp;lt;&amp;lt; &quot;enter filename: &quot;;&#xA;         cin.getline(tempFile, INPUT_LINE_MAX_LEN, '\n');&#xA;   */&#xA;   // uncomment after successful debugging&#xA;   if(argc &amp;lt;= 1)&#xA;      {&#xA;            prompt(noFile_);     prompt(usage_);&#xA;            return   EXIT_FAILURE;  /// no file was passed to the program&#xA;      }&#xA;   else if(argc &amp;gt; 2)&#xA;      {&#xA;         prompt(tooMany_);    prompt(usage_);&#xA;         return   EXIT_FAILURE;  /// more than one file was passed to the program&#xA;      }&#xA;   else&#xA;      {&#xA;         prompt(fileName_);   cout &amp;lt;&amp;lt; argv[1];  // print out name of dictionary file&#xA;&#xA;         if(   !argv[1]    )&#xA;            {&#xA;            prompt(noFile_);     prompt(usage_);&#xA;            return   EXIT_FAILURE;  /// file does not exist&#xA;            }&#xA;         /*&#xA;            file.open( argv[1] );                  // open file&#xA;            numEntries &amp;gt;&amp;gt; in.getline(file);        // determine number of dictionary objects to create&#xA;            file.close();                          // close file&#xA;            Dictionary[ numEntries ](argv[1]);     // create the dictionary object&#xA;         */&#xA;&#xA;         // TEMPORARY FILE FOR TESTING!!!!&#xA;         //Dictionary  scrabble(tempFile);&#xA;&#xA;         Dictionary  scrabble(argv[1]);         // creaate the dicitonary object&#xA;         //*/&#xA;         useDictionary(scrabble);               // prompt the user, use the dictionary&#xA;      }&#xA;&#xA;   // exit&#xA;   return   EXIT_SUCCESS;     /// terminate program.&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Dict.h/.cpp&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  DICT_H&#xA;#define  DICT_H&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// DEPENDENCIES (Custom header files)&#xA;#include    &quot;entry.h&quot;   /// class for dictionary entries&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// PRE-PROCESSOR MACROS&#xA;#define  INPUT_LINE_MAX_LEN   256   /// Maximum length of each line in the dictionary file&#xA;&#xA;&#xA;class  Dictionary&#xA;{&#xA;  public  :&#xA;&#xA;      //&#xA;      // Do NOT modify the public section of this class&#xA;      //&#xA;&#xA;      typedef void  (*WordDefFunc)(const char  *word, const char  *definition);&#xA;&#xA;      Dictionary( const char  *filename );&#xA;      ~Dictionary();&#xA;&#xA;      const char  *lookupDefinition( const char  *word );&#xA;&#xA;      void  forEach( WordDefFunc  func );&#xA;&#xA;   private  :&#xA;&#xA;      //&#xA;      // You get to provide the private members&#xA;      //&#xA;&#xA;      // VARIABLES&#xA;&#xA;      int      m_numEntries;        /// stores the number of entries in the dictionary&#xA;      Entry    *m_DictEntry_ptr;    /// points to an array of class Entry&#xA;&#xA;      // Private Functions&#xA;&#xA;};&#xA;&#xA;#endif&#xA;-----------------------------------&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// INCLUDES (C/C++ Std Library)&#xA;#include    &amp;lt;iostream&amp;gt;     /// cout, getline&#xA;#include    &amp;lt;fstream&amp;gt;      // ifstream&#xA;#include    &amp;lt;cstring&amp;gt;      /// strchr&#xA;&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// DEPENDENCIES (custom header files)&#xA;#include    &quot;dict.h&quot;       /// Header file required by assignment&#xA;//#include    &quot;entry.h&quot;      /// Dicitonary Entry Class&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// PRE-PROCESSOR MACROS&#xA;#define  COMMA    ','   /// Delimiter for file&#xA;#define  ENTER    '\n'  /// Carriage return character&#xA;&#xA;#define  FILE_ERR_MSG   &quot;The data file could not be opened.  Program will now terminate.&quot;&#xA;&#xA;#pragma     warning(disable : 4996)    /// turn off MS compiler warning about strcpy()&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// Namespace reference&#xA;using    namespace   std;&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// PRIVATE MEMBER FUNCTIONS&#xA;&#xA;/**&#xA; * Sorts the dictionary entries.&#xA;*/&#xA;/*&#xA;   static   void  sortDictionary(?)&#xA;   {&#xA;     // sort through the words using qsort&#xA;&#xA;   }&#xA;*/&#xA;&#xA;&#xA;/**   NO LONGER NEEDED??&#xA; * parses out the length of the first cell in a delimited cell&#xA; * /&#xA;int   getWordLength(char  *str       /// string of data to parse&#xA;                    )&#xA;{&#xA;   return strcspn(str, COMMA);&#xA;}&#xA; */&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// PUBLIC MEMBER FUNCTIONS&#xA;&#xA;/** constructor for the class&#xA;*  - opens/reads in file&#xA;*  - creates initializes the array of member vars&#xA;*  - creates pointers to entry objects&#xA;*  - stores pointers to entry objects in member var&#xA;*  - ? sort now or later?&#xA;*/&#xA;Dictionary::Dictionary( const char  *filename )&#xA;   {&#xA;      // Create a filestream, open the file to be read in&#xA;      ifstream    dataFile(filename,   ios::in );&#xA;&#xA;      /*&#xA;      if(   dataFile.fail()   )&#xA;         {  cout &amp;lt;&amp;lt; FILE_ERR_MSG &amp;lt;&amp;lt; endl;    exit(EXIT_FAILURE);&#xA;         }&#xA;      */&#xA;&#xA;      if(   dataFile.is_open()   )&#xA;         {&#xA;            // read first line of data&#xA;            // TEST CODE in.getline(dataFile,   INPUT_LINE_MAX_LEN)  &amp;gt;&amp;gt; m_numEntries;&#xA;            // TEST CODE char  temp[INPUT_LINE_MAX_LEN]   = {NIL};&#xA;            // TEST CODE dataFile.getline(temp,INPUT_LINE_MAX_LEN,'\n');&#xA;            dataFile &amp;gt;&amp;gt; m_numEntries;  /** Number of terms in the dictionary file&#xA;                                  *  \todo find out how many lines in the file, subtract one, ingore first line&#xA;                                  */&#xA;&#xA;            //create the array of entries&#xA;            m_DictEntry_ptr   =  new   Entry[m_numEntries];&#xA;&#xA;            // check for valid memory allocation&#xA;            if(   !m_DictEntry_ptr   )&#xA;               {  cout &amp;lt;&amp;lt; MEM_ERR_MSG &amp;lt;&amp;lt; endl;     exit(EXIT_FAILURE);&#xA;               }&#xA;&#xA;            // loop thru each line of the file, parsing words/def's and populating entry objects&#xA;&#xA;            for(int EntryIdx = 0;   EntryIdx &amp;lt; m_numEntries;   ++EntryIdx)&#xA;               {&#xA;                  // VARIABLES               &#xA;                  char  *tempW_ptr;    /// points to a temporary word&#xA;                  char  *tempD_ptr;    /// points to a temporary def&#xA;                  char  *w_ptr;        /// points to the word in the Entry object&#xA;                  char  *d_ptr;        /// points to the definition in the Entry&#xA;&#xA;                  int   tempWLen;      /// length of the temp word string&#xA;                  int   tempDLen;      /// length of the temp def string&#xA;&#xA;                  char  tempLine[INPUT_LINE_MAX_LEN] = {NIL};  /// stores a single line from the file&#xA;&#xA;&#xA;                  // EXECUTE&#xA;                  // getline(dataFile, tempLine)            // get a &quot;word,def&quot; line from the file&#xA;                  dataFile.getline(tempLine, INPUT_LINE_MAX_LEN);    // get a &quot;word,def&quot; line from the file&#xA;&#xA;                  // Parse the string&#xA;                  tempW_ptr = tempLine;                  // point the temp word pointer at the first char in the line&#xA;                  tempD_ptr = strchr(tempLine, COMMA);   // point the def pointer at the comma&#xA;                  *tempD_ptr = NIL;                      // replace the comma with a NIL&#xA;                  ++tempD_ptr;                           // increment the temp def pointer&#xA;&#xA;                  // find the string lengths... +1 to account for terminator&#xA;                  tempWLen = strlen(tempW_ptr)  + 1;&#xA;                  tempDLen = strlen(tempD_ptr)  + 1;&#xA;&#xA;                  // Allocate heap memory for the term and defnition&#xA;                  w_ptr    =  new char[ tempWLen ];&#xA;                  d_ptr    =  new char[ tempDLen ];&#xA;&#xA;                  // check memory allocation&#xA;                  if(   !w_ptr   &amp;amp;&amp;amp;    !d_ptr   )&#xA;                     {  cout &amp;lt;&amp;lt; MEM_ERR_MSG &amp;lt;&amp;lt; endl;     exit(EXIT_FAILURE);&#xA;                     }&#xA;&#xA;                  // copy the temp word, def into the newly allocated memory and terminate the strings&#xA;                  strcpy(w_ptr,tempW_ptr);   w_ptr[tempWLen] = NIL;&#xA;                  strcpy(d_ptr,tempD_ptr);   d_ptr[tempDLen] = NIL;&#xA;&#xA;                  // set the pointers for the entry objects&#xA;                  m_DictEntry_ptr[ EntryIdx ].setWordPtr(w_ptr);&#xA;                  m_DictEntry_ptr[ EntryIdx ].setDefPtr(d_ptr);&#xA;               }&#xA;&#xA;            // close the file&#xA;            dataFile.close();&#xA;         }&#xA;&#xA;      else&#xA;         {  cout &amp;lt;&amp;lt; ENTER &amp;lt;&amp;lt; FILE_ERR_MSG &amp;lt;&amp;lt; endl;    exit(EXIT_FAILURE);&#xA;         }&#xA;   }&#xA;&#xA;&#xA;/**&#xA; * cleans up dynamic memory&#xA; */&#xA;Dictionary::~Dictionary()&#xA;   {&#xA;      delete[]    m_DictEntry_ptr;  /// thou shalt not have memory leaks.&#xA;   }&#xA;&#xA;&#xA;/**&#xA; * Looks up definition&#xA; */&#xA;/*&#xA;const char  *lookupDefinition( const char  *word )&#xA;   {&#xA;     // print out the word ---- definition&#xA;   }&#xA; */&#xA;&#xA;/**&#xA; * prints out the entire dictionary in sorted order&#xA; */&#xA;/*&#xA;void  forEach( WordDefFunc  func )&#xA;  {&#xA;      // to sort before or now.... that is the question&#xA;  }&#xA;*/&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Entry.h/cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef     ENTRY_H&#xA;#define     ENTRY_H&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// INCLUDES (C++ Std lib)&#xA;#include    &amp;lt;cstdlib&amp;gt;      /// EXIT_SUCCESS, NULL&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// PRE-PROCESSOR MACROS&#xA;#define  NIL            '\0'  /// C-String terminator&#xA;#define  MEM_ERR_MSG    &quot;Memory allocation has failed.  Program will now terminate.&quot;&#xA;&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// CLASS DEFINITION&#xA;class    Entry&#xA;{&#xA;   public:&#xA;      Entry(void) : m_word_ptr(NULL), m_def_ptr(NULL) {  /* default constructor */  };&#xA;&#xA;      void  setWordPtr(char  *w_ptr);  /// sets the pointer to the word - only if the pointer is empty&#xA;      void  setDefPtr(char  *d_ptr);   /// sets the ponter to the definition - only if the pointer is empty&#xA;&#xA;      /// returns what is pointed to by the word pointer&#xA;      char  getWord(void)  const    {  return   *m_word_ptr;    }&#xA;&#xA;      /// returns what is pointed to by the definition pointer&#xA;      char  getDef(void)   const    {  return   *m_def_ptr;     }&#xA;&#xA;   private:&#xA;&#xA;      char  *m_word_ptr;   /** points to a dictionary word */&#xA;      char  *m_def_ptr;     /** points to a dictionary definition */&#xA;};&#xA;&#xA;#endif&#xA;--------------------------------------------------&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// DEPENDENCIES (custom header files)&#xA;#include    &quot;entry.h&quot;      /// class header file&#xA;&#xA;// ///////////////////////////////////////////////////////////////////////////////////&#xA;// PUBLIC FUNCTIONS&#xA;&#xA;/*&#xA; * only change the word member var if it is in its initial state&#xA; */&#xA;void  Entry::setWordPtr(char  *w_ptr)&#xA;{&#xA;   if(m_word_ptr == NULL)&#xA;      {  m_word_ptr = w_ptr;&#xA;      }&#xA;}&#xA;&#xA;&#xA;&#xA;/*&#xA; * only change the def member var if it is in its initial state&#xA; */&#xA;void  Entry::setDefPtr(char  *d_ptr)&#xA;{&#xA;   if(m_def_ptr == NULL)&#xA;      {  m_word_ptr = d_ptr;&#xA;      }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="293332" LastEditorUserId="310574" LastEditDate="2010-03-14T17:05:20.987" LastActivityDate="2010-03-14T17:17:11.700" Title="file doesn't open, running outside of debugger results in seg fault (c++)" Tags="&lt;c++&gt;&lt;segmentation-fault&gt;&lt;cstring&gt;&lt;ifstream&gt;" AnswerCount="3" CommentCount="4" />
  <row Id="2627134" PostTypeId="1" AcceptedAnswerId="2627156" CreationDate="2010-04-13T05:17:49.470" Score="0" ViewCount="641" Body="&lt;p&gt;I have a header file with all the enums listed (#ifndef #define #endif construct has been used to avoid multiple inclusion of the file) that I use in multiple cpp files in my application.One of the enums in the files is &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;enum StatusSubsystem {ENABLED,INCORRECT_FRAME,INVALID_DATA,DISABLED};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;There are functions in the application delcared as &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ShowStatus(const StatusSubsystem&amp;amp;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Earlier in the application when I made calls to the above function like&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ShowStatus(INCORRECT_FRAME);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;my application used to compile perfectly. But after some code was added The compilation halts giving the following error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;File.cpp:71: error: invalid conversion from `int' to `StatusSubsystem'&#xA;File.cpp:71: error:   initializing argument 1 of `void Class::ShowStatus(const StatusSubsystem&amp;amp;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I checked the code for any conflicting enums in the new code and it looked fine. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;My Question is what is wrong with the function call that compiler shows as erroneous?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;For your reference the function definition is:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;void Class::ShowStatus(const StatusSubsystem&amp;amp; eStatus)&#xA;{&#xA;&#xA;   QPalette palette;&#xA;   mStatus=eStatus;//store current Communication status of system &#xA;   if(eStatus==DISABLED)&#xA;   {&#xA;     //select red color for  label, if it is to be shown disabled&#xA;     palette.setColor(QPalette::Window,QColor(Qt::red));&#xA;     mLabel-&amp;gt;setText(&quot;SYSTEM&quot;);&#xA;&#xA;   }&#xA;   else if(eStatus==ENABLED)&#xA;   {&#xA;      //select green color for label,if it is to be shown enabled&#xA;      palette.setColor(QPalette::Window,QColor(Qt::green));&#xA;     mLabel-&amp;gt;setText(&quot;SYSTEM&quot;);&#xA;&#xA;   }&#xA;   else if(eStatus==INCORRECT_FRAME)&#xA;   {&#xA;      //select yellow color for  label,to show that it is sending incorrect frames&#xA;      palette.setColor(QPalette::Window,QColor(Qt::yellow));&#xA;      mLabel-&amp;gt;setText(&quot;SYSTEM(I)&quot;);&#xA;&#xA;   }&#xA;   //Set the color on the  Label&#xA;   mLabel-&amp;gt;setPalette(palette);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;A strange side effect of this situation is it compiles when I cast all the calls to ShowStatus() as&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ShowStatus((StatusSubsystem)INCORRECT_FRAME);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Though this removes any compilation error, but a strange thing happens. Though I make call to INCORRECT_FRAME above but in function definition it matches with ENABLED. How on earth is that possible? Its like while passing INCORRECT_FRAME by reference, it magically converts to ENABLED, which should be impossible. This is driving me nuts.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Can you find any flaw in what I am doing? or is it something else?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The application is made using C++,Qt-4.2.1 on RHEL4. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks.&lt;/p&gt;&#xA;" OwnerUserId="126691" LastActivityDate="2010-04-13T05:34:16.890" Title="Passing enums to functions in C++" Tags="&lt;c++&gt;&lt;linux&gt;&lt;qt&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="2703528" PostTypeId="1" AcceptedAnswerId="2703668" CreationDate="2010-04-24T06:52:11.127" Score="22" ViewCount="6814" Body="&lt;p&gt;I've never understood the need of &lt;code&gt;#pragma once&lt;/code&gt; when &lt;a href=&quot;http://stackoverflow.com/questions/787533/is-pragma-once-a-safe-include-guard&quot;&gt;&lt;code&gt;#ifndef #define #endif&lt;/code&gt;&lt;/a&gt; always works.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've seen the usage of &lt;code&gt;#pragma comment&lt;/code&gt; to link with other files, but setting up the compiler settings was easier with an IDE.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What are some other usages of &lt;code&gt;#pragma&lt;/code&gt; that is useful, but not widely known?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm &lt;em&gt;not&lt;/em&gt; just after a list of #pragma directives. Perhaps I should rephrase this question a bit more:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;What code have you written with &lt;code&gt;#pragma&lt;/code&gt; you found useful?&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Answers at a glance:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks to all who answered and/or commented. Here's a summary of some inputs I found useful:&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Jason suggested that using &lt;code&gt;#pragma once&lt;/code&gt; or &lt;code&gt;#ifndef #define #endif&lt;/code&gt; would allow faster compiling on a large-scale system. Steve jumped in and supported this.&lt;/li&gt;&#xA;&lt;li&gt;280Z28 stepped ahead and mentioned that &lt;code&gt;#pragma once&lt;/code&gt; is preferred for MSVC, while GCC compiler is optimised for &lt;code&gt;#ifndef #define #endif&lt;/code&gt;. Therefore one should use either, not both.&lt;/li&gt;&#xA;&lt;li&gt;Jason also mentioned about &lt;code&gt;#pragma pack&lt;/code&gt; for binary compatibility, and Clifford is against this, due to possible issues of portability and endianness. Evan provided an example code, and Dennis informed that most compilers will enforce padding for alignment.&lt;/li&gt;&#xA;&lt;li&gt;sblom suggested using &lt;code&gt;#pragma warning&lt;/code&gt; to isolate the real problems, and disable the warnings that have already been reviewed.&lt;/li&gt;&#xA;&lt;li&gt;Evan suggested using &lt;code&gt;#pragma comment(lib, header)&lt;/code&gt; for easy porting between projects without re-setting up your IDE again. Of course, this is not too portable.&lt;/li&gt;&#xA;&lt;li&gt;sbi provided a nifty &lt;code&gt;#pragma message&lt;/code&gt; trick for VC users to output messages with line number information. James took one step further and allows &lt;code&gt;error&lt;/code&gt; or &lt;code&gt;warning&lt;/code&gt; to match MSVC's messages, and will show up appropriately such as the Error List.&lt;/li&gt;&#xA;&lt;li&gt;Chris provided &lt;code&gt;#pragma region&lt;/code&gt; to be able to collapse code with custom message in MSVC.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Whoa, wait, what if I want to post about &lt;em&gt;not&lt;/em&gt; using #pragmas unless necessary?&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Clifford posted from another point of view about &lt;em&gt;not&lt;/em&gt; to use &lt;code&gt;#pragma&lt;/code&gt;. Kudos.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;I will add more to this list if the SOers feel the urge to post an answer. Thanks everyone!&lt;/p&gt;&#xA;" OwnerUserId="319952" LastEditorUserId="50776" LastEditDate="2012-04-06T18:04:20.103" LastActivityDate="2012-04-06T18:04:20.103" Title="What code have you written with #pragma you found useful?" Tags="&lt;c++&gt;&lt;compiler-construction&gt;&lt;pragma&gt;" AnswerCount="8" CommentCount="5" FavoriteCount="13" ClosedDate="2012-04-06T18:04:16.467" CommunityOwnedDate="2010-04-24T18:16:27.777" />
  <row Id="2733871" PostTypeId="1" CreationDate="2010-04-28T23:44:53.470" Score="1" ViewCount="3242" Body="&lt;pre&gt;&lt;code&gt;// File: Lab13Frac.h&#xA;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;using namespace std;&#xA;#ifndef &quot;Lab13Frac.h&quot;&#xA;#define &quot;Lab13Frac.h&quot;&#xA;&#xA;// prototpes&#xA;&#xA;#endif &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="328389" LastEditorUserId="179910" LastEditDate="2010-04-28T23:49:02.387" LastActivityDate="2010-04-28T23:58:19.400" Title="fatal error C1016: #if[n]def expected an identifier" Tags="&lt;c++&gt;&lt;compiler-errors&gt;" AnswerCount="2" CommentCount="5" />
  <row Id="2939368" PostTypeId="1" CreationDate="2010-05-30T16:06:36.237" Score="11" ViewCount="13847" Body="&lt;p&gt;what is concerned best practice regarding the following &quot;pattern&quot;?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef BLAFOO_H&#xA;#define BLAFOO_H&#xA;/* ...&#xA; * ...&#xA; */&#xA;#endif /* BLAFOO_H */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;how should i name the header in the &lt;code&gt;#define&lt;/code&gt; directive? i've seen all from said &lt;code&gt;BLAFOO_H&lt;/code&gt; to &lt;code&gt;__BLAFOO_H&lt;/code&gt; to &lt;code&gt;_BLAFOO_H_&lt;/code&gt; etc..&lt;/p&gt;&#xA;" OwnerUserId="350414" LastEditorUserId="50049" LastEditDate="2010-05-30T18:02:38.803" LastActivityDate="2010-05-31T16:43:19.717" Title="best-practice on C header files with #ifndef #define #endif" Tags="&lt;c&gt;&lt;coding-style&gt;&lt;header&gt;" AnswerCount="5" CommentCount="1" FavoriteCount="4" />
  <row Id="3398005" PostTypeId="1" CreationDate="2010-08-03T15:21:51.097" Score="1" ViewCount="933" Body="&lt;p&gt;I'm supposed to write a program with two functions:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;One function is responsible for building a data structure populated by a list of functions within a run (you get a function pointer) its run time (a few seconds after starting a given program running). You should know to operate the function, adding the data structure of organs, how to do it more efficiently, saving tests, cross checks, etc.. &#xA;The second function runs all the functions in order. If for example the start of the program once you have two functions were one of the five second time period of 12, first ran after 5 seconds and the other seven seconds after the first. (Total 12 since the beginning).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Again have to pay attention to how to do it, even in relation to the first function. &#xA;Everything was closed after the run, ie after a function has finished running is no longer an excuse again. All re-run of the program will be entering her new functions. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Attached are two implentations: one awkward and not going through compiling (at least for me) with the main and an output for user, and the other is not cumbersome but without the main output and the user. &#xA;I need to use cumbersome with output to the user (and then of course you also need main). Can anyone help me please? Why do I need a function pointer here? Any explanation or additional documentation on help me better understand what's going on. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Many thanks in advance &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    /*First implemntation: heavy and doesn't compile*/&#xA;&#xA;&#xA;#ifndef  __MY_TIMER_H__&#xA;#define  __MY_TIMER_H__&#xA;&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;#include &amp;lt;unistd.h&amp;gt;&#xA;&#xA;typedef void(*fun_t)(int);&#xA;typedef struct timer&#xA;{&#xA;  int   time;&#xA;  fun_t func;&#xA;  struct timer *next;&#xA;}timers;&#xA;&#xA;void add_timer(int sec, fun_t func,timers *head);&#xA;&#xA;void run_timers(timers *head);&#xA;&#xA;void timer_func(int);&#xA;&#xA;#endif /* __MY_TIMER_H__ */&#xA;&#xA;----------------------------------------------------------------------&#xA;&#xA;#include &quot;my_timer.h&quot;&#xA;&#xA;#undef  DEBUG&#xA;#define DEBUG 1&#xA;&#xA;int main()&#xA;{&#xA;  int time = 1;&#xA;  timers *head = NULL;&#xA;  fun_t func = timer_func;&#xA;&#xA;  while (time &amp;lt; 1000)&#xA;  {&#xA;    printf(&quot;\nCalling add_timer(time=%d, func=0x%x, head=0x%x)\n&quot;, time, func, &amp;amp;head);&#xA;    add_timer(time, func,&amp;amp;head);&#xA;    time *= 2;&#xA;  }&#xA;&#xA;  run_timers(&amp;amp;head);&#xA;  return 0;&#xA;}&#xA;&#xA;timers *head;&#xA;&#xA;void timer_func(int time)&#xA;{&#xA;  printf(&quot;Called %s at time %d.\n&quot;, __FUNCTION__, time);&#xA;  return;&#xA;}&#xA;&#xA;void add_timer(int sec, fun_t func, timers *head)&#xA;{&#xA;  timers *curr = head, *prev = NULL;&#xA;  timers *new_timer = NULL;&#xA;&#xA;  new_timer = (timers*)malloc(sizeof(timers));&#xA;  new_timer-&amp;gt;time = sec;&#xA;  new_timer-&amp;gt;func = func;&#xA;  new_timer-&amp;gt;next = NULL;&#xA;&#xA;  if (curr == NULL) {&#xA;    head = new_timer;&#xA;    return;&#xA;  }&#xA;&#xA;  while (curr != NULL &amp;amp;&amp;amp; curr-&amp;gt;time &amp;lt; sec) {&#xA;    prev = curr;&#xA;    curr = curr-&amp;gt;next;&#xA;  }&#xA;&#xA;  if (curr == head) {&#xA;    new_timer-&amp;gt;next = curr;&#xA;    head = new_timer;&#xA;  }&#xA;  else {&#xA;    new_timer-&amp;gt;next = prev-&amp;gt;next;&#xA;    prev-&amp;gt;next = new_timer;&#xA;  }    &#xA;&#xA;  return;&#xA;}&#xA;&#xA;void run_timers(timers *head)&#xA;{&#xA;  int elapsed_time = 0;&#xA;  timers *curr = head;&#xA;  timers *timer_p = NULL;&#xA;&#xA;  while (curr != NULL) {&#xA;    printf(&quot;\nGoing to sleep for %d secs\n&quot;, curr-&amp;gt;time - elapsed_time);&#xA;    printf(&quot;\ncurr-&amp;gt;time = %d elapsed_time = %d\n&quot;, curr-&amp;gt;time, elapsed_time);&#xA;    usleep(curr-&amp;gt;time - elapsed_time);&#xA;    printf(&quot;\nWoke up after %d secs\n&quot;, curr-&amp;gt;time - elapsed_time);&#xA;    elapsed_time = curr-&amp;gt;time;&#xA;    curr-&amp;gt;func(curr-&amp;gt;time);&#xA;    timer_p = curr;&#xA;    curr = curr-&amp;gt;next;&#xA;    free(timer_p);&#xA;    head = curr;&#xA;  }&#xA;&#xA;  return;&#xA;} &#xA;&#xA;/*second implemntation: no main and no output for user*/ &#xA;&#xA;#include &amp;lt;stdio.h&amp;gt; &#xA;#include&amp;lt;conio.h&amp;gt; &#xA;#include &amp;lt;stdlib.h&amp;gt; &#xA;#include &amp;lt;windows.h&amp;gt; &#xA;&#xA;typedef void(*fun_t)(void); &#xA;&#xA;typedef struct timer_s{ &#xA;int time; &#xA;fun_t fun; &#xA;struct timer_s* next; &#xA;}timer; &#xA;&#xA;timer* head=NULL; &#xA;&#xA;void add_timer(int sec, fun_t fun) &#xA;{ &#xA;    timer* curr,*new_timer; &#xA;    new_timer=(timer*)malloc(sizeof(timer)); &#xA;    new_timer-&amp;gt;time=sec; &#xA;    new_timer-&amp;gt;fun=fun; &#xA;    new_timer-&amp;gt;next=NULL; &#xA;    curr=head; &#xA;&#xA;    if(curr==NULL) &#xA;    { &#xA;        head=new_timer; &#xA;        return; &#xA;    } &#xA;&#xA;    while((curr-&amp;gt;next!=NULL)&amp;amp;&amp;amp;(curr-&amp;gt;next-&amp;gt;time&amp;lt;sec)) &#xA;        curr=curr-&amp;gt;next; &#xA;&#xA;    new_timer-&amp;gt;next=curr-&amp;gt;next; &#xA;    curr-&amp;gt;next=new_timer; &#xA;&#xA;    return; &#xA;} &#xA;&#xA;void run_timers() &#xA;{ &#xA;    int elapsed=0; &#xA;    timer* tmp; &#xA;&#xA;    while(head) &#xA;    { &#xA;        Sleep((head-&amp;gt;time-elapsed)*1000); &#xA;        elapsed=head-&amp;gt;time; &#xA;        head-&amp;gt;fun(); &#xA;        tmp=head; &#xA;        head=head-&amp;gt;next; &#xA;        free(tmp); &#xA;    } &#xA;    return; &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="409821" LastActivityDate="2010-08-03T17:19:55.790" Title="Linked list of timers in C" Tags="&lt;c&gt;&lt;timer&gt;&lt;linked-list&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="3399019" PostTypeId="1" CreationDate="2010-08-03T17:26:36.663" Score="1" ViewCount="599" Body="&lt;p&gt;I have the following assignment:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Write a function in C that allocates block of memory and returns a pointer to the start of the memory under these conditions:&lt;/p&gt;&#xA;  &#xA;  &lt;ol&gt;&#xA;  &lt;li&gt;All addresses in the block are divisible by 32&lt;/li&gt;&#xA;  &lt;li&gt;Allocated at least the number of the bytes required&lt;/li&gt;&#xA;  &lt;li&gt;Every cell in the block is initialized to zero &lt;/li&gt;&#xA;  &lt;li&gt;No global variants, minimum complexity&lt;/li&gt;&#xA;  &lt;/ol&gt;&#xA;  &#xA;  &lt;p&gt;Write another function that also releases the memory that you allocated. (You know that the aforesaid memory was allocated by the first function that you just wrote ).&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Here is a debugging temporary solution:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&quot;aligned_malloc.h&quot;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  __ALIGNED_MALLOC_H__&#xA;#define  __ALIGNED_MALLOC_H__&#xA;&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;#include &amp;lt;malloc.h&amp;gt;&#xA;&#xA;#define ALIGNMENT 16&#xA;&#xA;#if ALIGNMENT &amp;gt; 255&#xA;#error &quot;This 'void *aligned_malloc(size_t size)' function can only handle alignment &amp;lt; 256&quot;&#xA;#endif&#xA;&#xA;#if ALIGNMENT &amp;lt; 0&#xA;#error &quot;This 'void *aligned_malloc(size_t size)' function can only handle a non negative alignment&quot;&#xA;#endif&#xA;&#xA;void* aligned_malloc(size_t size);&#xA;void aligned_free(void *aligned_p);&#xA;&#xA;#endif /* __ALIGNED_MALLOC_H__ */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&quot;alligned_malloc.c&quot;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;aligned_malloc.h&quot;&#xA;&#xA;#undef  DEBUG&#xA;#define DEBUG 1&#xA;&#xA;int main()&#xA;{&#xA;    size_t size = 0;&#xA;    void *memblk = NULL;&#xA;&#xA;    do while (size &amp;gt; 0 )&#xA;    {&#xA;        printf(&quot;\nPlease enter in bytes the memory block size you want to allocate (0 to exit): &quot;);&#xA;        scanf(&quot;%d&quot;, &amp;amp;size);&#xA;        memblk = aligned_malloc(size);&#xA;&#xA;        #ifdef     DEBUG&#xA;            printf(&quot;%s[%d]: memblk = 0x%x\n&quot;, __FUNCTION__, __LINE__, memblk);&#xA;        #endif  /* DEBUG */&#xA;&#xA;    }&#xA;&#xA;    if (memblk != NULL)&#xA;        aligned_free(memblk);&#xA;&#xA;    return 0;&#xA;}&#xA;&#xA;void *aligned_malloc(size_t size)&#xA;{&#xA;    int i = 0;&#xA;    void* memblk = malloc(size + ALIGNMENT);&#xA;    printf (&quot;\n%ld&quot;,(long)memblk);&#xA;&#xA;    //offset is the start address of memblk (long=8digit) modulo the ALIGNMENT&#xA;    unsigned char offset = ALIGNMENT - ((long)memblk % ALIGNMENT);&#xA;    printf (&quot;\n%d&quot;,offset);&#xA;&#xA;    if (memblk == NULL)&#xA;        return NULL;&#xA;    /* O/W: */  &#xA;    #ifdef     DEBUG&#xA;    printf(&quot;%s[%d]: memblk = 0x%x\n&quot;, __FUNCTION__, __LINE__, memblk);&#xA;    #endif  /* DEBUG */&#xA;    for (i = offset; i &amp;lt; size + ALIGNMENT; i++) &#xA;    {&#xA;        printf(&quot;%02d: %08d\n&quot;, i, memblk+i);&#xA;        memblk[i] = 0;&#xA;    }&#xA;&#xA;    *(memblk + offset - 1) = offset;&#xA;&#xA;    return (void*)(memblk + offset);&#xA;}&#xA;&#xA;void aligned_free(void *aligned_p)&#xA;{&#xA;    unsigned char offset = (unsigned char)(*((unsigned char *)aligned_p-1));&#xA;    #ifdef     DEBUG&#xA;    printf(&quot;%s[%d]: offset = %d\n&quot;, __FUNCTION__, __LINE__, offset);&#xA;    printf(&quot;%s[%d]: aligned_p-1 = 0x%x\n&quot;, __FUNCTION__, __LINE__, (unsigned char *)aligned_p-1);&#xA;    printf(&quot;%s[%d]: aligned_p-offset = 0x%x\n&quot;, __FUNCTION__, __LINE__, aligned_p-offset);&#xA;    #endif  /* DEBUG */&#xA;    free(aligned_p-offset);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now I have several problems here:&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;There is a compilation error in &lt;code&gt;main()&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;I cannot catch how to use &lt;code&gt;calloc&lt;/code&gt; instead of &lt;code&gt;malloc&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;If I use the &lt;code&gt;void*&lt;/code&gt; is there an option to cast it to 32 bytes chunks?&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;" OwnerUserId="409821" LastEditorUserId="68204" LastEditDate="2010-08-05T05:22:00.890" LastActivityDate="2010-08-05T05:22:00.890" Title="Alligned memory allocation" Tags="&lt;c&gt;&lt;malloc&gt;" AnswerCount="3" CommentCount="2" />
  <row Id="3512744" PostTypeId="1" AcceptedAnswerId="3518457" CreationDate="2010-08-18T13:45:36.563" Score="3" ViewCount="590" Body="&lt;p&gt;In linux kernel in the implementation of spinlocks, e.g.&#xA;&lt;a href=&quot;http://lxr.linux.no/#linux+v2.6.18/include/asm-i386/semaphore.h#L97&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://lxr.linux.no/#linux+v2.6.18/include/asm-i386/semaphore.h#L97&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  97static inline void down(struct semaphore * sem)&#xA;  98{&#xA;  99        might_sleep();&#xA; 100        __asm__ __volatile__(&#xA; 101                &quot;# atomic down operation\n\t&quot;&#xA; 102                LOCK_PREFIX &quot;decl %0\n\t&quot;     /* --sem-&amp;gt;count */&#xA; 103                &quot;js 2f\n&quot;&#xA; 104                &quot;1:\n&quot;&#xA; 105                LOCK_SECTION_START(&quot;&quot;)&#xA; 106                &quot;2:\tlea %0,%%eax\n\t&quot;&#xA; 107                &quot;call __down_failed\n\t&quot;&#xA; 108                &quot;jmp 1b\n&quot;&#xA; 109                LOCK_SECTION_END&#xA; 110                :&quot;+m&quot; (sem-&amp;gt;count)&#xA; 111                :&#xA; 112                :&quot;memory&quot;,&quot;ax&quot;);&#xA; 113}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;LOCK_SECTION_START and LOCK_SECTION_END are used. They are defined in &lt;a href=&quot;http://lxr.linux.no/#linux+v2.6.18/include/linux/spinlock.h#L63&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://lxr.linux.no/#linux+v2.6.18/include/linux/spinlock.h#L63&lt;/a&gt; as&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  61#define LOCK_SECTION_NAME &quot;.text.lock.&quot;KBUILD_BASENAME&#xA;  62&#xA;  63#define LOCK_SECTION_START(extra)               \&#xA;  64        &quot;.subsection 1\n\t&quot;                     \&#xA;  65        extra                                   \&#xA;  66        &quot;.ifndef &quot; LOCK_SECTION_NAME &quot;\n\t&quot;     \&#xA;  67        LOCK_SECTION_NAME &quot;:\n\t&quot;               \&#xA;  68        &quot;.endif\n&quot;&#xA;  69&#xA;  70#define LOCK_SECTION_END                        \&#xA;  71        &quot;.previous\n\t&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So all locked operations are partly putted in &lt;code&gt;subsection 1&lt;/code&gt; or section .text.lock.SMTH_STRING.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What reason is for it?&lt;/p&gt;&#xA;" OwnerUserId="196561" LastActivityDate="2010-08-19T03:13:11.243" Title="Why spinlock in linux kernel is in the &quot;.subsection 1&quot; (or &quot;.text.lock.smth&quot;)?" Tags="&lt;assembly&gt;&lt;locking&gt;&lt;linux-kernel&gt;&lt;spinlock&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="3515169" PostTypeId="1" AcceptedAnswerId="3674299" CreationDate="2010-08-18T18:06:32.590" Score="4" ViewCount="3422" Body="&lt;p&gt;While working within C++ libraries, I've noticed that I am not granted any intellisense while inside directive blocks like &quot;#ifndef CLIENT_DLL ... #endif&quot;.  This is obviously due to the fact that &quot;CLIENT_DLL&quot; has been defined.  I realize that I can work around this by simply commenting out the directives.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Are there any intellisense options that will enable intellisense regardless of directive evaluation? &lt;/p&gt;&#xA;" OwnerUserId="345140" LastEditorUserId="4370109" LastEditDate="2016-06-17T11:39:09.623" LastActivityDate="2016-06-17T11:39:09.623" Title="Can intellisense be enabled in VS2008 within preprocessor directive blocks like #ifndef ... #endif" Tags="&lt;c++&gt;&lt;visual-studio&gt;&lt;visual-studio-2008&gt;&lt;c-preprocessor&gt;&lt;intellisense&gt;" AnswerCount="5" CommentCount="2" />
  <row Id="3600162" PostTypeId="1" CreationDate="2010-08-30T12:10:41.280" Score="0" ViewCount="52" Body="&lt;p&gt;Our codebase has thousands of lines and legacy code. Across time different developers have coded as per their suitability and standards. One of the wrongly implemented code is that a common header is included is declared and defined in different directories to be lined to different binaries with little difference. Ex:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;dir1/xxx.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class ABC{&#xA;&#xA;public:&#xA;&#xA;int init();&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;dir1/xxx.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ABC::init()&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Similarly &lt;/p&gt;&#xA;&#xA;&lt;p&gt;dir2 has its own copy.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The issue was that developers wanted to keep different versions - primary because they should know when the need to call source code under dir1 or dir2 which is independent of modifications to each.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Now its the hierarchy of how we are linking code in our binary is our issue. The header file in concern is conditionally compiled using same inclusive directive #ifndef .. #define .. #endif. The header files gets archived into lib1.a lib2.a and so on. Hence when we link our library and if incase we required it from lib3.a during linking we need to make sure that it linked the first:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;ldd .. lib1.a lib2.a lib3.a&lt;/code&gt; -- so the exact header does not gets linked properly. Note that all .a have some additional interfaces compiled and linked.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Its unfortunate is that the required header contains common declaration (defines same methods but are little bit different)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How can we resolve the issue? Including Namespace would mean a lot of revamp in our codebase? Is there a better way to do that?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What would be best design for such a code base - so that later onwards no developer can accidentally include these fatal signatures?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Please help&lt;/p&gt;&#xA;" OwnerUserId="304974" LastEditorUserId="224671" LastEditDate="2010-08-30T12:13:19.733" LastActivityDate="2010-09-15T16:52:20.743" Title="Linking Issue While building different binaries" Tags="&lt;c++&gt;&lt;linker&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="4019770" PostTypeId="1" AcceptedAnswerId="4019800" CreationDate="2010-10-26T00:03:31.620" Score="0" ViewCount="871" Body="&lt;p&gt;Here's the situation:&#xA;I have three files, Test1.cpp and Test2.cpp.  Test1.cpp can be compiled as-is into a stand-alone application.  Test1.cpp also contains some functions that I would like to re-use in Test2.cpp.  I'm using an #ifndef #endif block to conditionally exclude the main function of Test1.cpp so that when I compile Test2.cpp, the main function in Test2.cpp will be able to call functions defined in Test1.cpp.  Example code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;--------------------------------------------&#xA;//File: Test1.h&#xA;#include &amp;lt;iostream&amp;gt;&#xA;void do_something();&#xA;--------------------------------------------&#xA;//File: Test1.h&#xA;#include &quot;Test1.h&quot;&#xA;void do_something();&#xA;{&#xA;  std::cout&amp;lt;&amp;lt;&quot;Done&quot;&amp;lt;&amp;lt;std::endl;&#xA;}&#xA;#ifndef FN_MAIN&#xA;int main()&#xA;{&#xA;  do_something();&#xA;  return 0;&#xA;}&#xA;#endif&#xA;--------------------------------------&#xA;//File: Test2.cpp&#xA;#define FN_MAIN&#xA;#include &quot;Test1.h&quot;&#xA;int main()&#xA;{&#xA;  do_something();&#xA;  return 0;&#xA;}&#xA;--------------------------------------&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Calling g++ with Test1.cpp works fine and behaves as expected, but calling g++ with Test2.cpp and Test1.cpp fails because main gets defined multiple times.  However, calling g++ with -DFN_MAIN and the two source files fixes this problem.  Is there any way to get around this?  I'm thinking that this problem is coming from my less-than-complete understanding of the C++ preprocessor.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Note: My motivation for doing this is to reduce the size of the code on the project that I'm working on.  The actual project includes both a stand-alone version of Test1.cpp and several other programs that use functions from Test1.cpp.&lt;/p&gt;&#xA;" OwnerUserId="487056" LastEditorUserId="4370109" LastEditDate="2016-06-18T17:06:06.217" LastActivityDate="2016-06-18T17:06:06.217" Title="Regarding C++ preprocessor while using #define to conditionally exclude a main function" Tags="&lt;c++&gt;&lt;macros&gt;&lt;c-preprocessor&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="4029274" PostTypeId="1" AcceptedAnswerId="4029304" CreationDate="2010-10-27T01:18:35.707" Score="2" ViewCount="2618" Body="&lt;p&gt;I'm trying to compile an open source project on windows under mingw/msys.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The makefile contains (among others) this line&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;@${MAKE} --no-print-directory -C . -f physfs.make&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;physfs.make contains (among others) these lines:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ifndef CC&#xA;  CC = gcc&#xA;endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;when I ran make I get the following error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Creating obj/Debug/physfs&#xA;physfs.c&#xA;make[1]: cc: Command not found&#xA;make[1]: *** [obj/Debug/physfs/physfs.o] Error 127&#xA;make: *** [physfs] Error 2&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;If I comment the ifndef / endif pair leaving CC = gcc intact, the build works. If instead of make I issue this command:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;make -e CC=gcc&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;the build works as well. But when I run the following command in msys:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;echo $CC&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;nothing is displayed.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I think there is something basic about how environment variables work in MSYS and make that I don't understand.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Could please some help me troubleshoot this issue, so I can understand &lt;em&gt;why&lt;/em&gt; simple 'make' command complains and why the ifndef block doesn't function as I expect it to function.&lt;/p&gt;&#xA;" OwnerUserId="284111" LastActivityDate="2010-10-27T01:40:31.667" Title="Mingw and make variables" Tags="&lt;c&gt;&lt;makefile&gt;&lt;mingw&gt;&lt;gnu&gt;" AnswerCount="1" CommentCount="0" FavoriteCount="3" />
  <row Id="4640514" PostTypeId="1" AcceptedAnswerId="4640541" CreationDate="2011-01-09T17:15:33.657" Score="0" ViewCount="454" Body="&lt;p&gt;I'm looking to have vista/win7 use Aero-style windows while XP users use normal window style (how does one get windows XP stlye and not win95 styles btw?)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The idea is something like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;OSVERSIONINFOEX osvi;&#xA;osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFOEX);&#xA;GetVersionEx((OSVERSIONINFO*)&amp;amp;osvi);&#xA;if (osvi.dwMajorVersion &amp;gt; 5) {&#xA;               #pragma comment(linker,&quot;/manifestdependency:\&quot;type='win32' &quot;\&#xA;               &quot;name='Microsoft.Windows.Common-Controls' &quot;\&#xA;               &quot;version='6.0.0.0' &quot;\&#xA;               &quot;processorArchitecture='x86' &quot;\&#xA;               &quot;publicKeyToken='6595b64144ccf1df' &quot;\&#xA;               &quot;language='*' &quot;\&#xA;               &quot;\&quot;&quot;)&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now, the #pragma gets executed no matter if the if-statement is true or false, which I guess is just the way #pragma works. Surely there is some other way to get this to working (something like #ifndef  #define ... #endif I guess)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Cheers&lt;/p&gt;&#xA;" OwnerUserId="528590" LastActivityDate="2012-01-13T00:02:15.520" Title="Changing visual style of controls based on windows version" Tags="&lt;c++&gt;&lt;windows&gt;&lt;winapi&gt;&lt;controls&gt;&lt;coding-style&gt;" AnswerCount="2" CommentCount="3" />
  <row Id="4782859" PostTypeId="1" CreationDate="2011-01-24T14:03:27.730" Score="1" ViewCount="728" Body="&lt;p&gt;Ok, I have a pretty good understanding of how header files are to be used in C programs but I keep having this problem that I can't seem to get around. Here is the situation:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Device.c contains &lt;code&gt;#include &quot;Device.h&quot;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Device.h contains a definition for a struct and the following...&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef DEVICE_H&#xA;#define DEVICE_H&#xA;#include &quot;SubDevice.h&quot;&#xA;typedef struct {&#xA;    subDevice * subDevice1;&#xA;    subDevice * subDevice2;&#xA;} device;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;SubDevice.c contains &lt;code&gt;#include SubDevice.h&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;SubDevice.h contains the definition of the subDevice struct and the following...&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef SUBDEVICE_H&#xA;#define SUBDEVICE_H&#xA;#include &quot;Device.h&quot;&#xA;typedef struct{&#xA;    int MyInt;&#xA;    double MyDouble;&#xA;}subDevice;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The problem is that I get a compiler error in Device.h in my struct definition. At the line &lt;code&gt;subDevice * subDevice1;&lt;/code&gt; it says &lt;code&gt;syntax error before subDevice&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is the problem that I am including the header file of the other file in each file? I thought the #ifndef - #define statements would prevent that from causing a problem...&lt;/p&gt;&#xA;" OwnerUserId="233087" LastEditorUserId="233087" LastEditDate="2011-01-24T16:53:38.087" LastActivityDate="2011-01-24T18:34:53.030" Title="help with header files in C" Tags="&lt;c&gt;&lt;header&gt;&lt;struct&gt;" AnswerCount="6" CommentCount="6" />
  <row Id="4975394" PostTypeId="1" AcceptedAnswerId="4975435" CreationDate="2011-02-12T00:21:46.767" Score="6" ViewCount="7799" Body="&lt;p&gt;I am trying to iterate and print using the iterator pattern but i get an erorr&lt;/p&gt;&#xA;&#xA;&lt;p&gt;here is the error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;error C2679: binary '&amp;lt;&amp;lt;' : no operator found which takes a right-hand operand of type 'std::string'     (or there is no acceptable conversion)&#xA;1&amp;gt; could be 'std::basic_ostream&amp;lt;_Elem,_Traits&amp;gt; &amp;amp;std::operator &amp;lt;&amp;lt;&amp;lt;char,std::char_traits&amp;lt;char&amp;gt;&amp;gt;   (std::basic_ostream&amp;lt;_Elem,_Traits&amp;gt; &amp;amp;,const char *)'&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;here is where the error originates at &#xA;std::cout &amp;lt;&amp;lt; menuItem-&gt;getName();&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _ROBOT1_&#xA;#define _ROBOT1_&#xA;&#xA;namespace guitars {&#xA;namespace Composite {&#xA;namespace InventoryParts {&#xA;using namespace std;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;//#include &amp;lt;string&amp;gt;&#xA;&#xA;class Robot1 {&#xA;&#xA;Menu* _partsMenu;&#xA;&#xA;private: &#xA;&#xA;&#xA;public: Robot1( Menu* parts ) : _partsMenu( parts ) { assert( parts ); &#xA;}&#xA;public: void printMenu() {&#xA;    Iterator&amp;lt;MenuItem&amp;gt;* partsIterator = _partsMenu-&amp;gt;createIterator();&#xA;&#xA;&#xA;    std::cout &amp;lt;&amp;lt; &quot;Parts List&quot; &amp;lt;&amp;lt; std::endl;&#xA;    printMenu( partsIterator );&#xA;&#xA;}&#xA;private: void printMenu( Iterator&amp;lt;MenuItem&amp;gt;* iterator ) { assert( iterator );&#xA;    while( iterator-&amp;gt;hasNext() ) {&#xA;        MenuItem* menuItem = dynamic_cast&amp;lt; MenuItem* &amp;gt;( iterator-&amp;gt;next() );&#xA;        std::cout &amp;lt;&amp;lt; menuItem-&amp;gt;getName();&#xA;        std::cout &amp;lt;&amp;lt; menuItem-&amp;gt;getPrice() &amp;lt;&amp;lt; &quot; -- &quot;;&#xA;        std::cout &amp;lt;&amp;lt; menuItem-&amp;gt;getDescription() &amp;lt;&amp;lt; std::endl;&#xA;    }&#xA;}&#xA;&#xA;&#xA;&#xA;};&#xA;&#xA;} &#xA;} &#xA;} &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;i will include more files incase its somewhere else&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _ELECTRIC_MENU_ITERATOR_&#xA;#define _ELECTRIC_MENU_ITERATOR_&#xA;#include &quot;Iterator.h&quot;&#xA;&#xA;namespace guitars {&#xA;namespace Composite {&#xA;namespace InventoryParts {&#xA;&#xA;&#xA;class ElectricMenuIterator : public Iterator&amp;lt;MenuItem&amp;gt; {&#xA;private: mutable std::vector&amp;lt; MenuItem* &amp;gt; _items;&#xA;private: mutable MenuItem* _position;&#xA;&#xA;&#xA;public: explicit ElectricMenuIterator( std::vector&amp;lt; MenuItem* &amp;gt; items ) :&#xA;    _items( items ) {&#xA;    _position = *items.begin();&#xA;}&#xA;public: MenuItem* next() const {&#xA;    return _position;&#xA;}&#xA;public: bool hasNext() const {&#xA;    for( std::vector&amp;lt; MenuItem* &amp;gt;::iterator iterator = _items.begin(); iterator != _items.end(); iterator++ ) {&#xA;        if( *iterator == _position ) {&#xA;            if( ++iterator != _items.end() ) {&#xA;                _position = *iterator;&#xA;                return true;&#xA;            }&#xA;            else&#xA;                return false;&#xA;        }&#xA;    }&#xA;    return false;&#xA;}&#xA; };&#xA;&#xA;}&#xA;} &#xA;} &#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;iterator&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _ITERATOR_&#xA;#define _ITERATOR_&#xA;&#xA;namespace guitars {&#xA;namespace Composite {&#xA;namespace InventoryParts {&#xA;&#xA;template &amp;lt;class T&amp;gt;&#xA;class Iterator&#xA;{&#xA;&#xA;public:&#xA;&#xA;virtual bool hasNext() const = 0;&#xA;virtual T* next() const = 0;&#xA;virtual ~Iterator() = 0 {&#xA;}&#xA;&#xA;&#xA;};&#xA;}&#xA;}&#xA;}&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;menu&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _MENU_&#xA;#define _MENU_&#xA;&#xA;#include &quot;MenuComponent.h&quot;&#xA;#include &quot;InventoryItem.h&quot;&#xA;#include &quot;Iterator.h&quot;&#xA;#include &amp;lt;assert.h&amp;gt;&#xA;#include &amp;lt;vector&amp;gt;&#xA;#include &quot;MenuItem.h&quot;&#xA;&#xA;&#xA;namespace guitars {&#xA;namespace Composite {&#xA;namespace InventoryParts {&#xA;&#xA;&#xA;class Menu : public MenuComponent {&#xA;&#xA;private: &#xA;&#xA;&#xA;public: &#xA;&#xA;     virtual Iterator&amp;lt;MenuItem&amp;gt;* createIterator() const = 0;&#xA;     virtual ~Menu() = 0 {&#xA;}&#xA;&#xA;};&#xA;&#xA;} &#xA;} &#xA;} &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and the electric guitar menu&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _ELECTRIC_MENU_&#xA;#define _ELECTRIC_MENU_&#xA;#include &quot;Menu.h&quot;&#xA;#include &quot;MenuItem.h&quot;&#xA;#include &quot;ElectricMenuIterator.h&quot;&#xA;&#xA;namespace guitars {&#xA;namespace Composite {&#xA;namespace InventoryParts {&#xA;&#xA;class ElectricMenu : public Menu {&#xA;&#xA;&#xA;&#xA;private: &#xA;std::vector&amp;lt; MenuItem* &amp;gt; _menuItems;&#xA;&#xA;&#xA;&#xA;public: ElectricMenu() { &#xA;    addItem( &quot;Electric Guitar&quot;,&quot;comes with an assortment of goodies&quot;,542.99);&#xA;    //addItem( &quot;Regular acoustic&quot;,&quot;standard style&quot;,false,245.99);&#xA;&#xA;}&#xA;public: void addItem( std::string name, std::string description, double price ) {&#xA;    MenuItem* menuItem = new MenuItem( name, description, price );&#xA;    _menuItems.push_back( menuItem );&#xA;}&#xA;public: std::vector&amp;lt; MenuItem* &amp;gt; getMenuItems() const {&#xA;    return _menuItems;&#xA;}&#xA;public: Iterator&amp;lt;MenuItem&amp;gt;* createIterator() const {&#xA;    return dynamic_cast&amp;lt;Iterator&amp;lt;MenuItem&amp;gt;* &amp;gt; ( new ElectricMenuIterator( _menuItems) );&#xA;}&#xA;&#xA;};&#xA;&#xA;} &#xA;} &#xA;} &#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;please forgive me for the formatting&lt;/p&gt;&#xA;" OwnerDisplayName="user249375" LastEditorDisplayName="user249375" LastEditDate="2011-02-12T00:27:57.810" LastActivityDate="2015-06-13T18:47:09.523" Title="iterator pattern - error C2679: binary '&lt;&lt;' : no operator found which takes a right-hand operand of type 'std::string'" Tags="&lt;c++&gt;&lt;iterator&gt;" AnswerCount="2" CommentCount="0" ClosedDate="2017-03-01T10:51:27.633" />
  <row Id="5010286" PostTypeId="1" AcceptedAnswerId="5010401" CreationDate="2011-02-15T22:30:02.840" Score="1" ViewCount="398" Body="&lt;p&gt;Can anyone explain  the definition of #indef , void (*destroy)(void *data) &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;int (*match)(const void *key1,const void *key2)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;in the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef LIST_H&#xA;#define LIST_H&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;&#xA;typedef struct _ListElmt{&#xA;&#xA;void                *data;&#xA;struct ListElmt     *next;&#xA;&#xA;} ListElmt;&#xA;typedef struct _List{&#xA;&#xA;int                 size;&#xA;int                 (*match)(const void *key1, const void *key2);&#xA;void                (*destroy)(void *data);&#xA;&#xA;ListElmt             *head;&#xA;ListElmt             *tail;&#xA;&#xA;} List;&#xA;&#xA;void list_init(List *list, void (*destroy)(void *data));&#xA;&#xA;void list_destroy(List *list);&#xA;&#xA;int list_ins_next(List *list, ListElmt *element, const void *data);&#xA;&#xA;int list_rem_next(List *list, ListElmt *element, void **data);&#xA;&#xA;int list_size(const List *list);&#xA;&#xA;ListElmt *list_head(const List *list);&#xA;&#xA;ListElmt *list_tail(const List *list);&#xA;&#xA;int list_is_head(const ListElmt *element);&#xA;&#xA;int list_is_tail(const ListElmt *element);&#xA;&#xA;void *list_data(const ListElmt *element);&#xA;&#xA;ListElmt *list_next(const ListElmt *element);&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="470087" LastEditorUserId="501557" LastEditDate="2011-02-15T22:35:54.843" LastActivityDate="2011-02-15T22:42:52.783" Title="#ifndef (*destroy) (*match)" Tags="&lt;c&gt;" AnswerCount="2" CommentCount="3" />
  <row Id="5127512" PostTypeId="1" AcceptedAnswerId="5129966" CreationDate="2011-02-26T14:41:20.337" Score="6" ViewCount="5846" Body="&lt;p&gt;I guess this makes sense somehow, but I can't grasp why: In the following code, I get &lt;strong&gt;both&lt;/strong&gt; warnings (note that the original code was indented with tabs):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;define variable-definition&#xA;    ifndef $1&#xA;        $(warning $1 is undefined)&#xA;    else&#xA;        $(warning $1 is defined)&#xA;    endif&#xA;endef&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;PS: I want to check whether the variable with the name passed as &lt;code&gt;$1&lt;/code&gt; exists, not whether &lt;code&gt;$1&lt;/code&gt; was passed.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;PPS: Dedenting the entire thing doesn't help.&lt;/p&gt;&#xA;" OwnerUserId="96588" LastEditorUserId="96588" LastEditDate="2011-02-26T14:51:48.547" LastActivityDate="2011-02-26T21:47:59.343" Title="Variables defined *and* undefined" Tags="&lt;makefile&gt;" AnswerCount="2" CommentCount="0" FavoriteCount="1" />
  <row Id="5213178" PostTypeId="1" CreationDate="2011-03-06T20:29:40.593" Score="1" ViewCount="1608" Body="&lt;p&gt;I'm porting an iPhone game to Mac and I'm writing a file with common defines that has the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// first reset all defines&#xA;&#xA;#undef TARGET_IPHONE&#xA;#undef TARGET_MAC&#xA;&#xA;// set defines&#xA;&#xA;#if TARGET_OS_MAC&#xA;#if TARGET_OS_IPHONE&#xA;#define TARGET_IPHONE&#xA;#else&#xA;#define TARGET_MAC&#xA;#endif&#xA;#endif&#xA;&#xA;#ifdef TARGET_IPHONE&#xA;#error err1&#xA;#endif&#xA;&#xA;#ifndef TARGET_IPHONE&#xA;#error err2&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But when building for iPhone, both err1 and err2 are thrown by the compiler. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I don't get it, what's the problem there?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT:&lt;/strong&gt; After about an hour of trying things with no luck, I had to add my own define to xcode build options. &lt;/p&gt;&#xA;" OwnerUserId="85057" LastEditorUserId="4370109" LastEditDate="2016-03-09T15:29:25.800" LastActivityDate="2016-03-09T15:29:25.800" Title="Porting C code with #ifdef and #ifndef (C preprocessor)" Tags="&lt;c&gt;&lt;osx&gt;&lt;c-preprocessor&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="5402665" PostTypeId="1" AcceptedAnswerId="5664334" CreationDate="2011-03-23T08:42:14.100" Score="6" ViewCount="5851" Body="&lt;p&gt;I need the code I am writing for a project to match some style guidelines. However the standard templates included with CDT don't match this style. Especially the layout of the header guards is not the way it should be. I had a look at the template and for my Eclipse it looks like this: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;${filecomment}&#xA;&#xA;#ifndef ${include_guard_symbol}&#xA;#define ${include_guard_symbol}&#xA;&#xA;${typecomment}&#xA;${declarations}&#xA;&#xA;#endif /* ${include_guard_symbol} */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So I am guessing the variable &lt;code&gt;${include_guard_symbol}&lt;/code&gt; is set somewhere in the CDT, but is it possible to change this setting without needing to modify the CDT itself?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;On a slightly different, but related note:&#xA;Is it possible to add your own templates, so you just could add new files of other types (test-cases, specialized classes etc) using the normal new dialog for the project?&lt;/p&gt;&#xA;" OwnerUserId="663957" LastActivityDate="2011-07-22T01:58:13.077" Title="How to customize eclipse CDT code templates" Tags="&lt;eclipse&gt;&lt;eclipse-cdt&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="5420451" PostTypeId="1" AcceptedAnswerId="5420498" CreationDate="2011-03-24T14:10:16.417" Score="8" ViewCount="1019" Body="&lt;p&gt;My C headers usually resemble the following style to avoid multiple inclusion:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &amp;lt;FILENAME&amp;gt;_H&#xA;#define &amp;lt;FILENAME&amp;gt;_H&#xA;&#xA;// define public data structures / prototypes, macros etc.&#xA;&#xA;#endif  /* !&amp;lt;FILENAME&amp;gt;_H */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However, in his &lt;a href=&quot;http://www.lysator.liu.se/c/pikestyle.html&quot; rel=&quot;noreferrer&quot;&gt;Notes on Programming in C&lt;/a&gt;, Rob Pike makes the following argument about header files:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;There's a little dance involving &lt;code&gt;#ifdef&lt;/code&gt;'s that can prevent a file being read twice, but it's usually done wrong in practice - the &lt;code&gt;#ifdef&lt;/code&gt;'s are in the file itself, not the file that includes it.  The result is often thousands of needless lines of code passing through the lexical analyzer, which is (in good compilers) the most expensive phase.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;On the one hand, Pike is the only programmer I actually admire. On the other hand, putting several &lt;code&gt;#ifdef&lt;/code&gt;s in multiple source files instead of putting one &lt;code&gt;#ifdef&lt;/code&gt; in a single header file feels needlessly awkward.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What is the best way to handle the problem of multiple inclusion?&lt;/p&gt;&#xA;" OwnerUserId="663456" LastActivityDate="2015-11-26T17:37:00.870" Title="Good C header style" Tags="&lt;c&gt;&lt;coding-style&gt;&lt;header-files&gt;" AnswerCount="7" CommentCount="0" />
  <row Id="5444860" PostTypeId="1" AcceptedAnswerId="5444923" CreationDate="2011-03-26T19:46:52.197" Score="0" ViewCount="101" Body="&lt;p&gt;I have &lt;code&gt;test.h&lt;/code&gt; file and &lt;code&gt;example.h&lt;/code&gt; file and I want to include each one in the other &#xA;I tried the following but didn't work.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In file test.h:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; #ifndef &quot;example.h&quot;&#xA;&#xA; #define &quot;example.h&quot;`&#xA;&#xA;...&#xA;&#xA; #endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And in file example.h :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;test.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And later tried :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &quot;test.h&quot;&#xA;&#xA; #define &quot;test.h&quot;&#xA;&#xA;...&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But nothing worked.&lt;/p&gt;&#xA;" OwnerUserId="559465" LastEditorUserId="368070" LastEditDate="2011-03-26T19:52:08.383" LastActivityDate="2011-03-26T20:02:55.990" Title="including files problem" Tags="&lt;c++&gt;&lt;include&gt;" AnswerCount="3" CommentCount="3" FavoriteCount="0" />
  <row Id="5537107" PostTypeId="1" AcceptedAnswerId="5537123" CreationDate="2011-04-04T10:16:06.837" Score="7" ViewCount="2823" Body="&lt;p&gt;To avoid multiple includes of a header file, one of my friend suggested the following way &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  #ifndef _INTERFACEMESSAGE_HPP&#xA;  #define _INTERFACEMESSAGE_HPP&#xA;  class CInterfaceMessage&#xA;  {&#xA;     / /Declaration of class goes here&#xA;  //i.e declaration of member variables and methods &#xA;   private:&#xA;   int m_nCount;&#xA;     CString m_cStrMessage;&#xA;    public:&#xA;    CString foo(int);&#xA; }&#xA;   #endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;where _INTERFACEMESSAGE_HPP is just an identifier&lt;/p&gt;&#xA;&#xA;&lt;p&gt;but when i declare a class using visual studio 2005 IDE I get a statement as&#xA;     #pragma once&#xA;at the starting of the class definition&#xA;when i took the help of msdn to find the purpose of #pragma once&#xA;it gave me the following explanation &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&quot;Specifies that the file will be included (opened) only once by the compiler when compiling a source code file. &quot;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Someone please tell which is the right approach?, if both are correct then what is the difference? is one approach is better than the other?&lt;/p&gt;&#xA;" OwnerUserId="644073" LastActivityDate="2011-04-04T10:21:14.940" Title="Which is efficient to use #pragma once or #ifndef #endif?" Tags="&lt;visual-c++&gt;&lt;mfc&gt;" AnswerCount="3" CommentCount="1" />
  <row Id="6358546" PostTypeId="1" AcceptedAnswerId="6358603" CreationDate="2011-06-15T13:36:34.360" Score="2" ViewCount="114" Body="&lt;p&gt;I've been wondering if the msvc++ 2008 compiler takes care of multiple header includes of the same file, considering this example:&#xA;&lt;br&gt;&lt;strong&gt;main.cpp&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;header.h&quot;&#xA;#include &quot;header.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Will the compiler include this file multiple times or just one? (I'm aware I can use the #ifndef &quot;trick&quot; to prevent this from happening)&#xA;Also, if I include &quot;header.h&quot; which contains 10 functions, but I only call or use 2, will it still include all 10 or just the 2 I need and all of their needs?&lt;/p&gt;&#xA;" OwnerUserId="700911" LastActivityDate="2011-06-15T20:49:28.013" Title="What MSVC++ 2008 Express Editon compiler does and doesn't" Tags="&lt;c++&gt;&lt;visual-studio-2008&gt;&lt;compiler-construction&gt;&lt;compiler-optimization&gt;" AnswerCount="5" CommentCount="0" />
  <row Id="6469849" PostTypeId="1" AcceptedAnswerId="6469872" CreationDate="2011-06-24T15:14:49.370" Score="30" ViewCount="43045" Body="&lt;p&gt;DebugUtil.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef DEBUG_UTIL_H&#xA;#define DEBUG_UTIL_H&#xA;&#xA;#include &amp;lt;windows.h&amp;gt;&#xA;&#xA;int DebugMessage(const char* message)&#xA;{&#xA;    const int MAX_CHARS = 1023;&#xA;    static char s_buffer[MAX_CHARS+1];&#xA;&#xA;    return 0;&#xA;}&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When I try to run this I get this error:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Terrain.obj : error LNK2005: &quot;int&#xA;  __cdecl DebugMessage(char const *)&quot; (?DebugMessage@@YAHPBD@Z) already&#xA;  defined in Loodus.obj&lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;Renderer.obj : error LNK2005: &quot;int&#xA;  __cdecl DebugMessage(char const *)&quot; (?DebugMessage@@YAHPBD@Z) already&#xA;  defined in Loodus.obj&lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;test.obj : error LNK2005: &quot;int __cdecl&#xA;  DebugMessage(char const *)&quot;&#xA;  (?DebugMessage@@YAHPBD@Z) already&#xA;  defined in Loodus.obj&lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;C:\Users\Tiago\Desktop\Loodus&#xA;  Engine\Debug\Loodus Engine.exe : fatal&#xA;  error LNK1169: one or more multiply&#xA;  defined symbols found&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;But why does this happen? I have #ifndef #define and #endif in the header so multiple definitions shouldn't happen&lt;/p&gt;&#xA;" OwnerUserId="419921" LastEditorUserId="560648" LastEditDate="2011-06-24T15:23:11.823" LastActivityDate="2011-06-24T15:24:54.637" Title="One or more multiply defined symbols found" Tags="&lt;c++&gt;" AnswerCount="8" CommentCount="2" FavoriteCount="7" />
  <row Id="6683925" PostTypeId="1" CreationDate="2011-07-13T18:43:59.647" Score="3" ViewCount="307" Body="&lt;p&gt;We had been using some directives in our code that are invalid in today's standards.&#xA;eg. #COMMENT1&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This used to work in very old version of gcc (2.x). I'm trying to move it off to new gcc (4.x) however I'm getting errors such as :&#xA;&quot;error: invalid preprocessing directive #COMMENT1&quot;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Easy fix is to change # to // in those directives, but we cannot do that due to some other dependencies.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Question is, is there a way to tell cpp to ignore these invalid directives ? &lt;/p&gt;&#xA;&#xA;&lt;p&gt;However it should interpret the valid directives as it should eg #ifndef #define etc&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thank you!&lt;/p&gt;&#xA;" OwnerUserId="406481" LastActivityDate="2014-11-25T17:04:24.893" Title="Ignore invalid directives in cpp" Tags="&lt;gcc&gt;" AnswerCount="3" CommentCount="0" />
  <row Id="6845302" PostTypeId="1" CreationDate="2011-07-27T13:40:11.630" Score="12" ViewCount="3209" Body="&lt;p&gt;I want an automatically generated include-guard by creating a new C++-class with Eclipse/CDT, but I don't find any way to change the &lt;code&gt;${include_guard_symbol}&lt;/code&gt; attribute.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My wish is an include-guard with a namespace prefix like following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef NAMSPACE1_NAMESPACE2_HEADER_HPP&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But if I use &lt;code&gt;#ifndef ${namespace_name}_${include_guard_symbol}&lt;/code&gt; for this, it will produce:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;namepace1::namespace2::_HEADER_HPP&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;How can I do this?&lt;/p&gt;&#xA;" OwnerUserId="828424" LastEditorUserId="63550" LastEditDate="2012-12-16T19:14:07.557" LastActivityDate="2012-12-16T19:24:05.313" Title="Customizing include-guard for Eclipse CDT" Tags="&lt;customization&gt;&lt;eclipse-cdt&gt;&lt;include-guards&gt;" AnswerCount="1" CommentCount="1" FavoriteCount="4" />
  <row Id="6868349" PostTypeId="1" CreationDate="2011-07-29T03:31:29.843" Score="0" ViewCount="2551" Body="&lt;p&gt;I received this error when compiling a large program parts of which I had changed, but it showed up in a part I hadn't changed.  I was using gcc on unix. I've seen discussion online about similar errors, but those involve templates, which I'm not using. Also constructors should appear inside of a class not before it. Here is the part which gave the error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   __GRIDG_H&#xA;#define   __GRIDG_H&#xA;&#xA;#include &quot;part1g.h&quot;&#xA;&#xA; //=================== GridParams Class&#xA; // class for specifying the computational grid&#xA;&#xA; class GridParams :public ParameterGroup&#xA; {IntParameter J;&#xA; IntParameter K;&#xA; ScalarParameter x1s;&#xA; ScalarParameter x1f;&#xA; ScalarParameter n1;&#xA; ScalarParameter x2s;&#xA; ScalarParameter x2f;&#xA; ScalarParameter n2;&#xA; StringParameter dx1;&#xA; StringParameter dx2;&#xA; IntParameter PeriodicFlagX1;&#xA; IntParameter PeriodicFlagX2;&#xA; IntParameter Geometry;  //  which geometry, RZ, XY, or even R-Theta&#xA;&#xA;// storage used by GUI&#xA;protected:&#xA;Vector2** X;&#xA;&#xA;public:&#xA;      GridParams();&#xA;&#xA;  ~GridParams();&#xA;&#xA;int getJ() {return J.getValue();}&#xA;int getK() {return K.getValue();}&#xA;&#xA; int getPeriodicFlagX1() {return PeriodicFlagX1.getValue();}&#xA; int getPeriodicFlagX2() {return PeriodicFlagX2.getValue();}&#xA;&#xA;  Scalar getX1s() {return x1s.getValue();}&#xA;      Scalar getX1f() {return x1f.getValue();}&#xA;  Scalar getX2s() {return x2s.getValue();}&#xA;  Scalar getX2f() {return x2f.getValue();}&#xA;&#xA;  Scalar mapping_function(Scalar x, Scalar x1, Scalar x2, Scalar n);&#xA;&#xA;  Grid* CreateCounterPart();&#xA; #ifdef MPI_VERSION&#xA;       Grid* CreateCounterPart(const ostring &amp;amp;MPIpartition);&#xA;  #endif /*MPI_VERSION */&#xA;  public:&#xA;    /**&#xA;     * Due to problems with conversion from double to float and back to double&#xA;     * in the process of initializing the cell vertices when OOPIC is run in &#xA;     * parallel, I'm changing the signature of the &#xA;     * Vector2** createCellVertices(); member function to make sure that the&#xA;     * same deltaX is used in each region. The new signature has the beginning&#xA;     * of the region's x1 coordinates and the deltaX1. The latter&#xA;     * will be calculated in the same way on all processes. All arguments &#xA;     * become of type Scalar as well for consistent handling of the float&#xA;     * and double types.&#xA;     * dad, Fri May  3 2002.&#xA;     */ &#xA;     /*&#xA;      * Removed all hard-coded floats from the code, so conversion from&#xA;      * double to float to double should no longer happen. RT, 2003/12/09    &#xA;&#xA;   */&#xA;Vector2** createCellVertices(Scalar x1min, Scalar deltaX1);&#xA;Vector2** getCellVertices();&#xA;    void deleteCellVertices();&#xA; };&#xA;&#xA;&#xA;&#xA;#endif  //  __GRIDG_H&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and here is part1g.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  //part1.h&#xA;&#xA; #ifndef   __PART1G_H&#xA; #define   __PART1G_H&#xA;&#xA;#include &quot;param.h&quot;&#xA; class Evaluator;&#xA;//=================== ParameterGroup Class&#xA; // Abstract base class for conceptual groups of parameters&#xA;&#xA;  class ParameterGroup :public BaseParameter&#xA; {protected:&#xA;&#xA;  oopicList&amp;lt;BaseParameter&amp;gt; parameterList;&#xA;  oopicList&amp;lt;RuleBase&amp;gt; RuleList;&#xA;  oopicList&amp;lt;ParameterGroup&amp;gt; parameterGroupList;&#xA;  //  list of rules constraining parameters in the group&#xA;&#xA; public:&#xA;  ostring name; // name of group&#xA;  ostring errorMessages;&#xA;  // contains errors in input (not an integer or not a scalar)&#xA;  BOOL legal;&#xA;  oopicList&amp;lt;ostring&amp;gt; ruleMessages;&#xA;&#xA;  int LegalParamName(ostring pname) {&#xA;     // search the parameterList for this name &#xA;    int ans=0;&#xA;    oopicListIter&amp;lt;BaseParameter&amp;gt; plistI(parameterList);&#xA;    for(plistI.restart();!plistI.Done();plistI++) &#xA;      ans|=plistI.current()-&amp;gt;getName() == pname;&#xA;    return ans;&#xA;  }&#xA;&#xA;  ParameterGroup * LookupGroupByName(ostring pname); &#xA;&#xA;&#xA;  //  contains messages due to rule firings&#xA;&#xA; public:&#xA;  ParameterGroup() : BaseParameter() {};&#xA;&#xA;  virtual ~ParameterGroup() {};&#xA;&#xA;  virtual void setValues(oopicList&amp;lt;ostring&amp;gt; &amp;amp;ostringList);&#xA;  // Set the values of the parameters in the group from a list&#xA;  // of ostrings of the form   ostring(&quot;name value&quot;)&#xA;&#xA;  oopicList&amp;lt;BaseParameter&amp;gt;* getParameterList();&#xA;  // Return list of parameters in group&#xA;&#xA;BaseParameter* getParameter(ostring name);&#xA;  // Return a sub-parameter by name&#xA;&#xA;  ostring GetName() {return name;};&#xA;  void setName(ostring _name) {name = _name;};&#xA;&#xA;  void addLimitRule(ostring _name, ostring _op,&#xA;                          double _val, ostring _reason, int &#xA;_intrinsic);&#xA;&#xA;  ostring addRule(std::ifstream &amp;amp;fin);&#xA;  // Add a Rule to known rules via a stream&#xA;&#xA;  void addRelationRule(ostring _name1, ostring _op, ostring _name2,&#xA;             ostring _reason, int   _intrinsic);&#xA;&#xA;  void addAlgebraRule(ostring _name1, ostring _op1, ostring _name2,&#xA;     ostring _op2, double _val, ostring _reason, int _intrinsic);&#xA;&#xA;  virtual void checkRules();&#xA;  //  Fire all applicable rules and accumulate results into Messages.&#xA;&#xA;  void showRules();&#xA;  //  Diagnostic -- show all rules known by group&#xA;&#xA;  void showRuleMessages();&#xA;  //  Diagnostic -- show results of all rule violations&#xA;&#xA;  void showValues();&#xA;  //  Diagnostic  -- show names and values of all parameters in group&#xA;&#xA;  void describe();&#xA;&#xA;  virtual void writeOutputFile(std::ofstream &amp;amp;fout);&#xA;  //  writes to file&#xA;&#xA;  virtual ostring InitializeFromStream(std::ifstream &amp;amp;fin);&#xA;  //  initializes parametergroup from stream&#xA;&#xA;ostring getName();&#xA;&#xA;virtual oopicList&amp;lt;ostring&amp;gt;* getErrorMessages()&#xA;&#xA;{ return ruleMessages.isEmpty()&#xA;   ?(oopicList&amp;lt;ostring&amp;gt;* NULL:&amp;amp;ruleMessages; }&#xA;&#xA;virtual ostring getDescription()&#xA;    { return getName(); };&#xA;&#xA;&#xA;private:&#xA;&#xA;  ostring parseStringList(oopicList&amp;lt;ostring&amp;gt; &amp;amp;ostringList);&#xA;  // Support function for setValues&#xA;&#xA;  ostring parseName(ostring str);&#xA;  // Support function for parseStringList&#xA;&#xA;  ostring parseValue(ostring str);&#xA;  // Support function for parseStringList&#xA;};&#xA;&#xA;&#xA;&#xA;#endif  //  __PART1G_H&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="868671" LastEditorUserId="868671" LastEditDate="2011-07-29T04:08:22.890" LastActivityDate="2011-07-29T10:52:29.960" Title="C++ compilation error &quot;expected constructor, destructor, or type conversion before ‘class’&quot;" Tags="&lt;c++&gt;" AnswerCount="1" CommentCount="1" FavoriteCount="1" />
  <row Id="6973749" PostTypeId="1" AcceptedAnswerId="6974487" CreationDate="2011-08-07T15:37:27.287" Score="6" ViewCount="8824" Body="&lt;p&gt;I am trying to check whether an &lt;code&gt;#include &amp;lt;file.h&amp;gt;&lt;/code&gt; has already been declared using C++ macro.&lt;/p&gt;&#xA;&#xA;&lt;h3&gt;Example&lt;/h3&gt;&#xA;&#xA;&lt;p&gt;In file.h I do:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef FILE.H&#xA;#define FILE.H&#xA;class A&#xA;{&#xA;  //do routines &#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In a second file called &lt;code&gt;second.h&lt;/code&gt; I want to check if &lt;code&gt;file.h&lt;/code&gt; has been included already.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Typical psuedo-code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &quot;file.h&quot;&#xA;#include &quot;file.h&quot;&#xA;#endif&#xA;&#xA;#ifndef SECOND.H&#xA;#define SECOND.H&#xA;class second&#xA;{&#xA;  //do routine&#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I have tried a few &lt;code&gt;#ifndef&lt;/code&gt; directives but no joy. Do anyone know how to achieve this?&lt;/p&gt;&#xA;" OwnerUserId="340390" LastEditorUserId="560648" LastEditDate="2011-08-07T17:46:53.197" LastActivityDate="2011-08-07T18:13:56.250" Title="Checking whether #include is already declared" Tags="&lt;c++&gt;&lt;include&gt;" AnswerCount="5" CommentCount="1" FavoriteCount="3" />
  <row Id="7114569" PostTypeId="1" AcceptedAnswerId="7114615" CreationDate="2011-08-18T21:50:57.723" Score="3" ViewCount="253" Body="&lt;p&gt;I have two perl module files like :&lt;/p&gt;&#xA;&#xA;&lt;p&gt;is_date_holiday.pl :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;use strict;&#xA;use warnings;&#xA;sub IsDateHoliday&#xA;{&#xA;   ...&#xA;}&#xA;1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;calc_prev_working_date_mult.pl :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;use strict;&#xA;use warnings;&#xA;require &quot;is_date_holiday.pl&quot;; # IsDateHoliday&#xA;sub CalcPrevWorkingDateMult &#xA;{&#xA;   ...&#xA;}&#xA;1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;On using them both in a perl file like :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;require &quot;is_date_holiday.pl&quot;; # IsDateHoliday&#xA;require &quot;calc_prev_working_date_mult.pl&quot; # CalcPrevWorkingDateMult&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It complains that I am redefining the function IsDateHoliday&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How can do an equivalent of #ifndef ?&lt;/p&gt;&#xA;" OwnerUserId="408936" LastEditorUserId="589924" LastEditDate="2011-08-18T22:06:09.547" LastActivityDate="2011-08-18T22:23:42.613" Title="Perl library to avoid redefining an already defined function" Tags="&lt;perl&gt;&lt;module&gt;" AnswerCount="3" CommentCount="3" />
  <row Id="7352373" PostTypeId="1" AcceptedAnswerId="7353300" CreationDate="2011-09-08T17:50:48.437" Score="2" ViewCount="279" Body="&lt;p&gt;I am currently running Qt 4.7.4 on Mac OS X 10.6.  I installed Qt using MacPorts.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have been trying to use test-driven development as a part of my coding practice, and I am using QtTest for this purpose.  I have a class derived from QObject, and when I try to test the code, my test fails when it should pass.  I looked at the output of (test -vs), and I observe the following error:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;INFO   : periodictable::ElementTest::testName() Signal: QObject(7fff5fbfd860) destroyed ((QObject*)7fff5fbfd860)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;In a test case, I observe the above error twice, sandwiching the actual test.  This indicates that the child object is destroyed before usage and seemingly deleted again after the test.  I have used QPointer and confirmed that the object becomes invalid before usage.  The alternative is to initialize the variables within each test case, thus defeating the purpose of a single-shot initialization and in turn, increasing code bloat.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class Element : public QObject&#xA;{&#xA;   Q_OBJECT&#xA;   Q_PROPERTY(QString name READ name WRITE setName NOTIFY valueChanged)&#xA;public:&#xA;   Element(QObject* parent = 0) : QObject(parent) {}&#xA;   void setName(const QString&amp;amp; name);&#xA;   QString name() const;&#xA;Q_SIGNALS:&#xA;   void valueChanged(QString value);&#xA;private:&#xA;   QString elementName;&#xA;   Q_DISABLE_COPY(Element);&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I use the following command (via cmake):&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;g++ -D_FORTIFY_SOURCE=2 -D_GLIBCXX_FULLY_DYNAMIC_STRING -D_FORTIFY_SOURCE=2 -DQT_TEST_LIB -DQT_CORE_LIB -DQT_DEBUG -Wformat-security -Wmissing-format-attribute -Wformat=2 -Wctor-dtor-privacy -Wabi -Woverloaded-virtual -Wsign-promo -Wformat-nonliteral -Wdisabled-optimization -Wformat-y2k -Winit-self -Winvalid-pch -Wunsafe-loop-optimizations -Wmissing-format-attribute -Wmissing-include-dirs -Wstrict-aliasing=3 -Wswitch-enum -Wvariadic-macros -Wvolatile-register-var -std=gnu++0x -fmessage-length=0 -ftree-vectorize --param max-unroll-times=4 -pipe -fabi-version=4 -g -I/opt/local/include/QtCore -fPIC -fstack-protector -fPIC -fstack-protector -Wstack-protector&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;I cannot recall experiencing this problem with Qt 4.6, and I am confused as to the premature destruction.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I would like to think that this is not a bug within Qt, but I am curious if anyone else had encountered such a problem and found a solution.  I like Qt, but this problem will not be limited to the unit tests.  Any help will be certainly appreciated.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;-- Edit --&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Source code for test case:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;in .h file&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  TEST_ELEMENT_H&#xA;#define  TEST_ELEMENT_H&#xA;&#xA;#include    &amp;lt;QtCore/QObject&amp;gt;&#xA;#include    &amp;lt;QtCore/QPointer&amp;gt;&#xA;&#xA;namespace hashtable&#xA;{&#xA;&#xA;class Element;                                  // Forward declaration&#xA;&#xA;class ElementTest : public QObject&#xA;{&#xA;    Q_OBJECT&#xA;private Q_SLOTS:&#xA;    void initTestCase();&#xA;&#xA;    void testName();&#xA;&#xA;private:&#xA;    QString name;&#xA;    QPointer&amp;lt;Element&amp;gt; element;&#xA;};&#xA;&#xA;}&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;in .cpp file&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;void ElementTest::initTestCase()&#xA;{&#xA;    name = QString(&quot;Hydrogen&quot;);&#xA;    mass = 1.008;&#xA;    QPointer&amp;lt;Element&amp;gt; element(new Element(this));&#xA;    return;&#xA;}&#xA;&#xA;void ElementTest::testName()&#xA;{&#xA;&#xA;    element-&amp;gt;setProperty(&quot;name&quot;, name);&#xA;    QCOMPARE(element-&amp;gt;property(&quot;name&quot;).toString(), name);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="254274" LastEditorUserId="254274" LastEditDate="2011-09-08T18:59:56.697" LastActivityDate="2011-09-08T19:18:01.710" Title="QObject double deletion" Tags="&lt;c++&gt;&lt;qt&gt;&lt;qobject&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="7462205" PostTypeId="1" AcceptedAnswerId="7462238" CreationDate="2011-09-18T14:43:13.700" Score="0" ViewCount="39" Body="&lt;p&gt;I am trying to build a Dynamic DLL in VC++ 2008, now in a .h file, I declare the following&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  PREFILTER_LIBRARY_H&#xA;#define  PREFILTER_LIBRARY_H&#xA;&#xA;#ifdef PREFILTER_EXPORTS&#xA;#   define PREFILTER_API __declspec(dllexport)&#xA;#else&#xA;#   define PREFILTER_API __declspec(dllimport)&#xA;#endif&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;While in the PreFilter.h file I am writing&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class PREFILTER_API  PreFilter&#xA;{&#xA;...&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The problem is I keep getting:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;warning C4273: 'PreFilter::Apply' : inconsistent dll linkage&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I  see that the dllexport part of the above macros is not highlighted and is commented which should have been the other way around, plus I have another .h file that contains Apply() method.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Can't figure out what I am doing wrong here. I am trying to export the functions of PreFilter.h&lt;/p&gt;&#xA;" OwnerDisplayName="user349026" LastEditorUserId="4370109" LastEditDate="2015-11-28T15:58:30.340" LastActivityDate="2015-11-28T15:58:30.340" Title="Problems with Defining exports" Tags="&lt;visual-c++&gt;&lt;warnings&gt;&lt;c-preprocessor&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="7818246" PostTypeId="1" AcceptedAnswerId="7836395" CreationDate="2011-10-19T08:02:38.733" Score="1" ViewCount="1865" Body="&lt;p&gt;I am getting segmentation fault in getaddrinfo().&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the stack trace. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Program received signal SIGSEGV, Segmentation fault.&#xA;[Switching to Thread 0xb7ff4b70 (LWP 26872)]&#xA;__res_vinit (statp=0xb7ff4df4, preinit=0) at res_init.c:176&#xA;176 res_init.c: No such file or directory.&#xA;    in res_init.c&#xA;(gdb) bt&#xA;#0  __res_vinit (statp=0xb7ff4df4, preinit=0) at res_init.c:176&#xA;#1  0x0042fe95 in *__GI___res_ninit (statp=0xb7ff4df4) at res_init.c:142&#xA;#2  0x00430ea0 in *__GI___res_maybe_init (resp=0xb7ff4df4, preinit=0) at res_libc.c:122&#xA;#3  0x003f86f4 in gaih_inet (name=&amp;lt;value optimized out&amp;gt;, service=&amp;lt;value optimized out&amp;gt;, req=0xb7ff3df8, pai=0xb7ff3db4, naddrs=0xb7ff3da4)&#xA;    at ../sysdeps/posix/getaddrinfo.c:690&#xA;#4  0x003faa65 in *__GI_getaddrinfo (name=0x8203a68 &quot;api.shoutcast.com&quot;, service=0x810ae72 &quot;http&quot;, hints=0xb7ff3df8, pai=0xb7ff3e24)&#xA;    at ../sysdeps/posix/getaddrinfo.c:2160&#xA;#5  0x08050a87 in test_addrinfo () at /kkkk/myaddrinfo.c:33&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The source of the function test_addrinfo();&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    #ifndef   NI_MAXHOST&#xA;    #define   NI_MAXHOST 1025&#xA;    #endif&#xA;&#xA;    struct  addrinfo hints =&#xA;    {&#xA;        .ai_flags       = 0,        /* Input flags.                 nothing special */&#xA;        .ai_family      = PF_UNSPEC,/* Protocol family for socket.  any  */&#xA;        .ai_socktype    = SOCK_STREAM,        /* Socket type.                 take any (SOCK_RAW, SOCK_STREAM,  SOCK_DGRAM) */&#xA;        .ai_protocol    = IPPROTO_TCP,        /* Protocol for socket.         take any (IPPROTO_TCP and IPPROTO_UDP) */&#xA;        .ai_addrlen     = 0,        /* Length of socket address.    always 0 */&#xA;        .ai_addr        = NULL,     /* Socket address for socket.   always NULL */&#xA;        .ai_canonname   = NULL,     /* Canonical name for service.  always NULL */&#xA;        .ai_next        = NULL,     /* Pointer to next in list.     always NULL */&#xA;    };&#xA;&#xA;&#xA;&#xA;    int test_addrinfo(void)&#xA;    {&#xA;        struct addrinfo *result = NULL;&#xA;        struct addrinfo *res;&#xA;        int error;&#xA;&#xA;        /* resolve the domain name into a list of addresses */&#xA;        error = getaddrinfo(&quot;api.shoutcast.com&quot;, &quot;http&quot;, &amp;amp;hints, &amp;amp;result);&#xA;        if (error != 0)&#xA;        {&#xA;            fprintf(stderr, &quot;error in getaddrinfo: %s\n&quot;, gai_strerror(error));&#xA;            return EXIT_FAILURE;&#xA;        }&#xA;&#xA;        /* loop over all returned results and do inverse lookup */&#xA;        for (res = result; res != NULL; res = res-&amp;gt;ai_next)&#xA;        {&#xA;            char hostname[NI_MAXHOST] = &quot;&quot;;&#xA;&#xA;            error = getnameinfo(res-&amp;gt;ai_addr, res-&amp;gt;ai_addrlen, hostname, NI_MAXHOST, NULL, 0, 0); &#xA;            if (error != 0)&#xA;            {&#xA;                fprintf(stderr, &quot;error in getnameinfo: %s\n&quot;, gai_strerror(error));&#xA;                continue;&#xA;            }&#xA;            if (*hostname != '\0')&#xA;                printf(&quot;hostname: %s\n&quot;, hostname);&#xA;        }&#xA;&#xA;        freeaddrinfo(result);&#xA;        return EXIT_SUCCESS;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;After running in valgrind, I got the following log&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    ==00:00:00:07.590 7788==&#xA;    ==00:00:00:07.590 7788== Process terminating with default action of signal 11 (SIGSEGV)&#xA;    ==00:00:00:07.590 7788==  Bad permissions for mapped region at address 0x4033BDC&#xA;    ==00:00:00:07.590 7788==    at 0x4348C8A: __res_vinit (res_init.c:176)&#xA;    ==00:00:00:07.645 7788==&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This function test_addrinfo() is called by a top layer in my application. I tested the same function in another application which has only one main(). It worked in that application. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am suspecting that I am not using the correct gnulib library or wrong compilation flags. Any clues or hints?&lt;/p&gt;&#xA;" OwnerUserId="336566" LastEditorUserId="296974" LastEditDate="2011-11-13T19:04:42.107" LastActivityDate="2011-11-13T19:04:42.107" Title="Segmentation fault in getaddrinfo()" Tags="&lt;c&gt;&lt;network-programming&gt;&lt;getaddrinfo&gt;" AnswerCount="1" CommentCount="11" />
  <row Id="8071493" PostTypeId="1" AcceptedAnswerId="8080051" CreationDate="2011-11-09T20:50:45.750" Score="2" ViewCount="18070" Body="&lt;p&gt;I've written a fairly simple test &lt;code&gt;Makefile&lt;/code&gt; where I define two targets, all &amp;amp; clean. I've got two different conditional statements. One checks for the existence of the &lt;code&gt;$(MAKECMDGOALS)&lt;/code&gt; special variable and the other detects whether any of the command line targets matched those listed in a variable (&lt;code&gt;NODEPS&lt;/code&gt;). The problem I'm having is that none of the branches within my conditionals get executed. Ultimately I want to use a conditional to decide whether the target I'm supplying should include some autogenerated dependency files but at the moment I'm struggling to get either expression to even evaluate. I'm running GNU make version 3.81 and I've tried it under Ubuntu and Mac OS X to no avail.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    NODEPS := clean&#xA;    INCLUDE = $(filter $(NODEPS),$(MAKECMDGOALS))&#xA;&#xA;    .PHONY : all clean&#xA;&#xA;    ifndef $(MAKECMDGOALS)&#xA;        @echo &quot;$$(MAKECMDGOALS) is not defined&quot;&#xA;    else &#xA;        @echo &quot;$(MAKECMDGOALS) is defined&quot;&#xA;    endif&#xA;&#xA;    ifneq (0, $(words $(INCLUDE)))&#xA;        @echo &quot;INCLUDE = $(INCLUDE) != 0&quot;&#xA;    else&#xA;        @echo &quot;INCLUDE = $(INCLUDE) == 0&quot;&#xA;    endif&#xA;&#xA;&#xA;    all :&#xA;        @echo &quot;all : $(MAKECMDGOALS)&quot;&#xA;&#xA;    clean : &#xA;        @echo &quot;clean : $(MAKECMDGOALS)&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="844418" LastEditorUserId="844418" LastEditDate="2011-11-09T22:36:42.487" LastActivityDate="2011-11-10T13:15:42.093" Title="Using ifeq and ifndef in GNU Make" Tags="&lt;makefile&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="8083671" PostTypeId="1" AcceptedAnswerId="8083756" CreationDate="2011-11-10T17:24:18.920" Score="4" ViewCount="573" Body="&lt;p&gt;Is there anything wrong with &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#import &quot;SomeCppHeaderFile.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;in an objective C++ header? Or should I be including like this (is there any difference if the cpp header has the usual &lt;code&gt;#ifndef #define #endif&lt;/code&gt; header gard macros)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;SomeCppHeaderFile.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="964813" LastEditorUserId="964813" LastEditDate="2011-11-10T17:29:52.940" LastActivityDate="2011-11-10T17:31:02.960" Title="In Objective C++ should I import or include C++ header files" Tags="&lt;import&gt;&lt;include&gt;&lt;objective-c++&gt;" AnswerCount="1" CommentCount="1" FavoriteCount="0" />
  <row Id="8169339" PostTypeId="1" AcceptedAnswerId="8169620" CreationDate="2011-11-17T15:03:27.410" Score="13" ViewCount="418" Body="&lt;p&gt;I am trying to port some relatively modern C code to an older compiler.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This compiler (&lt;a href=&quot;http://legacy.obviously.com/dice/&quot; rel=&quot;nofollow&quot;&gt;DICE&lt;/a&gt;), it seems, chokes on the first header file and the first occurrence of this idiom:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef SOMETHING&#xA;#define SOMETHING&#xA;&#xA;...  &#xA;&#xA;#endif /* SOMETHING */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;it dies on the second line in the header with:&#xA;&lt;code&gt;DCPP: &quot;../../code/someheader.h&quot; L:2 C:0 Error:39 Syntax Error&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Changing to &lt;code&gt;#define SOMETHING 1&lt;/code&gt; made no difference.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So I have really two questions, am I using DICE with the wrong option or something, or &lt;strong&gt;&lt;em&gt;did C programmers use some other idiom equal to ifndef-define back in the old days?&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;References:&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/DICE_%28compiler%29&quot; rel=&quot;nofollow&quot;&gt;DICE Wikipedia Entry&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&quot;http://legacy.obviously.com/dice/&quot; rel=&quot;nofollow&quot;&gt;Original source code&lt;/a&gt;, runs on Unix&lt;/li&gt;&#xA;&lt;li&gt;Slightly updated &lt;a href=&quot;http://aminet.net/package/dev/c/dice-3.16&quot; rel=&quot;nofollow&quot;&gt;Amiga version&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;The author of DICE, Matt Dillon, went on to produce &lt;a href=&quot;http://www.dragonflybsd.org/&quot; rel=&quot;nofollow&quot;&gt;DragonFlyBSD&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;" OwnerUserId="193892" LastEditorUserId="193892" LastEditDate="2014-11-02T21:40:44.420" LastActivityDate="2014-11-02T21:40:44.420" Title="Old C compiler chokes on #ifndef #define" Tags="&lt;c&gt;&lt;c-preprocessor&gt;" AnswerCount="2" CommentCount="8" FavoriteCount="2" />
  <row Id="8171102" PostTypeId="1" AcceptedAnswerId="8171166" CreationDate="2011-11-17T16:54:40.687" Score="10" ViewCount="12786" Body="&lt;p&gt;I know you've seen 21728517 people asking for help with this one but after searching and reading about this I really can't figure this one out. I know this error, I've seen it before, however, this time, I can't seem to get around it.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've also tried this &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/72zdcz6f%28vs.71%29.aspx&quot; rel=&quot;noreferrer&quot;&gt;checklist&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So, the errors:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Error   25  error LNK2005: &quot;void __cdecl checkStatus(unsigned int &amp;amp;,class std::basic_string&amp;lt;char,struct std::char_traits&amp;lt;char&amp;gt;,class std::allocator&amp;lt;char&amp;gt; &amp;gt;,bool)&quot; (?checkStatus@@YAXAAIV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@_N@Z) already defined in DollarRecognizer.obj C:\Users\Rui Teixeira\Desktop\Current\Tese\SVN\TIFEE_Empty\TIFEE_Empty\main.obj TIFEE_Empty&#xA;&#xA;Error   26  error LNK2005: &quot;void __cdecl depth2rgb(unsigned short const *,unsigned short *,char *,int,int)&quot; (?depth2rgb@@YAXPBGPAGPADHH@Z) already defined in DollarRecognizer.obj  C:\Users\Rui Teixeira\Desktop\Current\Tese\SVN\TIFEE_Empty\TIFEE_Empty\main.obj TIFEE_Empty&#xA;&#xA;Error   27  error LNK2005: &quot;class std::vector&amp;lt;class std::basic_string&amp;lt;char,struct std::char_traits&amp;lt;char&amp;gt;,class std::allocator&amp;lt;char&amp;gt; &amp;gt;,class std::allocator&amp;lt;class std::basic_string&amp;lt;char,struct std::char_traits&amp;lt;char&amp;gt;,class std::allocator&amp;lt;char&amp;gt; &amp;gt; &amp;gt; &amp;gt; __cdecl explode(class std::basic_string&amp;lt;char,struct std::char_traits&amp;lt;char&amp;gt;,class std::allocator&amp;lt;char&amp;gt; &amp;gt;,char)&quot; (?explode@@YA?AV?$vector@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@V?$allocator@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@2@@std@@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@2@D@Z) already defined in DollarRecognizer.obj    C:\Users\Rui Teixeira\Desktop\Current\Tese\SVN\TIFEE_Empty\TIFEE_Empty\main.obj TIFEE_Empty&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So, the thing is, these are functions defined in &quot;misc.h&quot; with the proper #ifndef #define #endif. They are not defined elsewhere but I still get the LNK2005 of death. What am I doing wrong?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks in advance.&lt;/p&gt;&#xA;" OwnerUserId="1001542" LastActivityDate="2011-11-17T16:59:27.687" Title="LNK2005 (already defined)" Tags="&lt;c++&gt;&lt;lnk2005&gt;" AnswerCount="1" CommentCount="1" FavoriteCount="4" />
  <row Id="8483955" PostTypeId="1" AcceptedAnswerId="8483974" CreationDate="2011-12-13T03:24:20.080" Score="3" ViewCount="1176" Body="&lt;p&gt;So I know how to place an include guard in my own header files with the standard&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef ...&#xA;#define ...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now, My question is about including libraries that are not my own.  would be a good example. I have a header file which requires the use of string, so I do the following&lt;/p&gt;&#xA;&#xA;&lt;p&gt;foo.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef FOO_H&#xA;#define FOO_H&#xA;&#xA;#include &amp;lt;string&amp;gt;&#xA;&#xA;... code etc ...&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now, if I have another header file called.. lets say, &lt;code&gt;bar.h&lt;/code&gt;, which ALSO requires the use of &lt;code&gt;&amp;lt;string&amp;gt;&lt;/code&gt;, how can i prevent multiple inclusions? Does the STL already have include guards in place?&lt;/p&gt;&#xA;" OwnerUserId="796614" LastActivityDate="2012-11-09T12:09:41.293" Title="C++ include guard" Tags="&lt;c++&gt;&lt;stl&gt;&lt;include-guards&gt;" AnswerCount="3" CommentCount="0" />
  <row Id="8878101" PostTypeId="1" AcceptedAnswerId="8878163" CreationDate="2012-01-16T09:42:02.930" Score="2" ViewCount="535" Body="&lt;p&gt;ld: duplicate symbol StringFunctions::intToString(int) in &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/Build/Intermediates/Y36PJC-mrvikmil.build/Debug/Y36PJC-mrvikmil.build/Objects-normal/x86_64/ServerSocket.o and &#xA;/Build/Intermediates/Y36PJC-mrvikmil.build/Debug/Y36PJC-mrvikmil.build/Objects-normal/x86_64/main.o &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;for architecture x86_64&lt;/p&gt;&#xA;&#xA;&lt;p&gt;function &lt;em&gt;StringFunctions::intToString(int)&lt;/em&gt; is in &lt;strong&gt;StringFunctions.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;includes from &lt;strong&gt;main.cpp&lt;/strong&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &quot;Exception.h&quot; //does not include anything more&#xA;#include &quot;ServerConsole.h&quot;&#xA;    /* &#xA;       which includes ServerSocket.h which includes ClientSocket.h which includes StringFunctions.h&#xA;       AND&#xA;       ServerSocket.h includes SocketException.h which includes StringFunctions.h&#xA;    */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;includes from &lt;strong&gt;ServerSocket.cpp&lt;/strong&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &quot;InvalidPortException.h&quot; //does not include anything more&#xA;#include &quot;SocketException.h&quot; //which includes StringFunctions.h&#xA;#include &quot;ClientSocket.h&quot;    //which includes SocketException.h which includes StringFunctions.h&#xA;#include &quot;StringFunctions.h&quot; //StringFunctions.h&#xA;&#xA;#include &amp;lt;sys/types.h&amp;gt;&#xA;#include &amp;lt;sys/socket.h&amp;gt;&#xA;#include &amp;lt;netdb.h&amp;gt;&#xA;#include &amp;lt;errno.h&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I believe that as long as i have things in .h files, i can include pretty much anything anywhere...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;All my files has include guard (#ifndef ... #define ...)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Please help.&lt;/p&gt;&#xA;" OwnerUserId="1053908" LastActivityDate="2012-01-16T09:46:58.680" Title="What is causing ld: duplicate symbol" Tags="&lt;c++&gt;&lt;include&gt;&lt;header-files&gt;&lt;ld&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="9038738" PostTypeId="1" AcceptedAnswerId="9038806" CreationDate="2012-01-27T19:12:53.190" Score="1" ViewCount="9643" Body="&lt;p&gt;I am trying to understand the need and usage of pre processor definitions in C++. I understand the use of include guards #ifndef #define and #endif. But I don't exactly understand the usage of the need of:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Open the project's Property Pages dialog box.&#xA;Click the C/C++ folder.&#xA;Click the Preprocessor property page.&#xA;Modify the Preprocessor Definitions property.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="787319" LastActivityDate="2012-01-27T19:24:36.157" Title="Preprocessor Definition in VS2010 for C++" Tags="&lt;c++&gt;&lt;visual-studio-2010&gt;" AnswerCount="2" CommentCount="1" FavoriteCount="2" />
  <row Id="9210812" PostTypeId="1" AcceptedAnswerId="9885277" CreationDate="2012-02-09T12:26:25.520" Score="0" ViewCount="1175" Body="&lt;p&gt;I have a large project in C++ Builder that seems to have used the function &lt;em&gt;Import Type Library&lt;/em&gt;. In it is a file with a header like this&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// ************************************************************************ //&#xA;// WARNING                                                                    &#xA;// -------                                                                    &#xA;// The types declared in this file were generated from data read from a       &#xA;// Type Library. If this type library is explicitly or indirectly (via        &#xA;// another type library referring to this type library) re-imported, or the   &#xA;// 'Refresh' command of the Type Library Editor activated while editing the   &#xA;// Type Library, the contents of this file will be regenerated and all        &#xA;// manual modifications will be lost.                                         &#xA;// ************************************************************************ //&#xA;&#xA;// C++ TLBWRTR : $Revision:   1.134.1.41  $&#xA;// File generated on 2003-10-27 12:57:05 from Type Library described below.&#xA;&#xA;// ************************************************************************ //&#xA;// Type Lib: C:\WINNT\system32\MQOA.DLL (1)&#xA;// IID\LCID: {D7D6E071-DCCD-11D0-AA4B-0060970DEBAE}\0&#xA;// Helpfile: &#xA;// DepndLst: &#xA;//   (1) v2.0 stdole, (C:\WINNT\System32\stdole2.tlb)&#xA;//   (2) v4.0 StdVCL, (C:\WINNT\System32\STDVCL40.DLL)&#xA;// ************************************************************************ //&#xA;#ifndef   __MSMQ_OCX_h__&#xA;#define   __MSMQ_OCX_h__&#xA;&#xA;#pragma option push -b -w-inl&#xA;&#xA;#include &amp;lt;utilcls.h&amp;gt;&#xA;#if !defined(__UTILCLS_H_VERSION) || (__UTILCLS_H_VERSION &amp;lt; 0x0500)&#xA;//&#xA;// The code generated by the TLIBIMP utility or the Import|TypeLibrary &#xA;// and Import|ActiveX feature of C++Builder rely on specific versions of&#xA;// the header file UTILCLS.H found in the INCLUDE\VCL directory. If an &#xA;// older version of the file is detected, you probably need an update/patch.&#xA;//&#xA;#error &quot;This file requires a newer version of the header UTILCLS.H&quot; \&#xA;       &quot;You need to apply an update/patch to your copy of C++Builder&quot;&#xA;#endif&#xA;#include &amp;lt;olectl.h&amp;gt;&#xA;#include &amp;lt;ocidl.h&amp;gt;&#xA;#if !defined(_NO_VCL)&#xA;#include &amp;lt;stdvcl.hpp&amp;gt;&#xA;#endif  //   _NO_VCL&#xA;#include &amp;lt;ocxproxy.h&amp;gt;&#xA;&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;As you can see this file was genereated quite long time ago :). I have been able to build this project using &lt;strong&gt;C++ Builder 2010&lt;/strong&gt; on &lt;strong&gt;Windows 7 64-bit&lt;/strong&gt;. But when I install &lt;strong&gt;XE2&lt;/strong&gt; and try to fix all the small issues that arise since it now defaults to &lt;strong&gt;STRICT&lt;/strong&gt; instead of &lt;strong&gt;NO_STRICT&lt;/strong&gt;, I run into a totaly different issue. The above file, ad others generated in the same way, they no longer work as intended.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I get errors like &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;[BCC32 Error] MSMQ_OCX.h(66): E2090 Qualifier 'Oleserver' is not a&#xA;  class or namespace name&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Looking for the &lt;strong&gt;MQOA.DLL&lt;/strong&gt; it claims to have used nothing of the sort seems to exist. Does anyone have any pointers on how to get around these kind of problems when updating the project to XE2? The project has survived upgrades before and was lastley upgraded to C++ Builder 2010. But I'm more of a Visual Studio person so a lot of the Embarcadero stuff is new territory.&lt;/p&gt;&#xA;" OwnerUserId="357448" LastActivityDate="2012-03-28T06:10:39.480" Title="Imported Type Library no longer working" Tags="&lt;c++builder&gt;&lt;c++builder-2010&gt;&lt;type-library&gt;&lt;c++builder-xe2&gt;" AnswerCount="1" CommentCount="8" />
  <row Id="9232227" PostTypeId="1" AcceptedAnswerId="9232305" CreationDate="2012-02-10T17:39:22.627" Score="4" ViewCount="1246" Body="&lt;p&gt;My questions is if addpath is similar to #include in C. In C if you don't add #include guard (#ifndef ...) there will be multiple definitions of function. But it seems that MATLAB is handling this issue.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I was using this scheme not to call addpath many times:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;try&#xA;    f(sample args);&#xA;catch err&#xA;    addpath('lib');&#xA;end&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But now I think it's not necessary.&lt;/p&gt;&#xA;" OwnerUserId="624074" LastEditorUserId="97160" LastEditDate="2013-08-19T19:58:39.587" LastActivityDate="2013-08-19T19:58:39.587" Title="Is there any downside for calling MATLAB's addpath many times?" Tags="&lt;include&gt;&lt;matlab&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="9272484" PostTypeId="1" CreationDate="2012-02-14T06:07:58.183" Score="0" ViewCount="5418" Body="&lt;p&gt;So, I &lt;em&gt;found&lt;/em&gt; something working here, and I wish to understand how it works.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  LCDNUMBER_H&#xA;#define LCDNUMBER_H&#xA;&#xA;#include &amp;lt;QLCDNumber&amp;gt;&#xA;#include &amp;lt;QTimer&amp;gt;&#xA;#include &amp;lt;QTime&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;&#xA;class lcdDisplay : public QLCDNumber&#xA;{&#xA;    Q_OBJECT  &#xA;&#xA;    public:&#xA;        // The QTimer class provides repetitive and single-shot timers.&#xA;        QTimer* objTimer;&#xA;        // The QTime class provides clock time functions.&#xA;        QTime*  objTime;&#xA;&#xA;    public:&#xA;        lcdDisplay (QWidget *parentWidget, int minutes, int seconds)&#xA;        {&#xA;            objTimer = new QTimer ();&#xA;            // Setting our own time with the specified hours, minutes, and seconds.&#xA;            objTime  = new QTime  (0, minutes, seconds);&#xA;&#xA;            setParent (parentWidget);&#xA;&#xA;            // connect (objectA, signalAFromObjectA, objectB, slotAFromObjectB)&#xA;            // timeout (): This signal is emitted when the timer times out. The time out period can be specified with `start (int milliseconds)` function.&#xA;            QObject :: connect (objTimer, SIGNAL (timeout ()), this, SLOT (setDisplay ()));&#xA;        };&#xA;&#xA;        ~ lcdDisplay () {};&#xA;&#xA;    public slots:&#xA;        // This slot is called after the timer timeouts (1 second).&#xA;        void setDisplay ()&#xA;        {&#xA;            std::cout &amp;lt;&amp;lt; &quot;\nf,gfd,mgnfdm,gnf,\n&quot;;&#xA;            // &#xA;            objTime-&amp;gt;setHMS (0, objTime-&amp;gt;addSecs (-1).minute (), objTime-&amp;gt;addSecs (-1).second ());&#xA;            display (objTime-&amp;gt;toString ());&#xA;        };&#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I wish to understand this line: &lt;code&gt;objTime-&amp;gt;setHMS (0, objTime-&amp;gt;addSecs (-1).minute (), objTime-&amp;gt;addSecs (-1).second ());&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How does this decrease the minutes and seconds internally?&lt;br&gt;&#xA;From here: &lt;a href=&quot;http://doc.qt.nokia.com/4.7/qtime.html#addSecs&quot; rel=&quot;nofollow&quot;&gt;http://doc.qt.nokia.com/4.7/qtime.html#addSecs&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;QTime n(14, 0, 0);                // n == 14:00:00&lt;br&gt;&#xA;   QTime t;&lt;br&gt;&#xA;   t = n.addSecs(70);                // t == 14:01:10&lt;br&gt;&#xA;   t = n.addSecs(-70);               // t == 13:58:50  &lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;addSecs&lt;/code&gt; function perhaps adds or subtracts seconds. Fine. but does this do &lt;code&gt;objTime-&amp;gt;addSecs (-1).minute (),&lt;/code&gt;?  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;How does &lt;code&gt;setHMS&lt;/code&gt; work?&lt;/p&gt;&#xA;" OwnerUserId="462608" LastEditorUserId="462608" LastEditDate="2012-02-14T07:36:19.220" LastActivityDate="2012-02-14T16:38:52.773" Title="Making count down timer in Qt" Tags="&lt;c++&gt;&lt;qt&gt;&lt;timer&gt;&lt;clock&gt;" AnswerCount="3" CommentCount="0" />
  <row Id="9293124" PostTypeId="1" CreationDate="2012-02-15T12:11:00.963" Score="3" ViewCount="1476" Body="&lt;pre&gt;&lt;code&gt;    Qt :: WindowFlags flags = 0;&#xA;&#xA;    // Makes the Pomodoro stay on the top of all windows.&#xA;    flags |= Qt :: WindowStaysOnTopHint;&#xA;&#xA;    // Removes minimize, maximize, and close buttons.&#xA;    flags |= Qt :: WindowTitleHint | Qt :: CustomizeWindowHint;&#xA;&#xA;    window-&amp;gt;setWindowFlags (flags);&#xA;    window-&amp;gt;setWindowTitle (&quot;Failing to plan is planning to fail&quot;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This removes minimize, maximize, and close buttons. The default menu on the left is still there. How to get rid of that?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I want the title bar to be there, but just want the menu to be removed.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Default menu contains: Minimize, Maximize, Move etc options.&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;EDIT 1:&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;timer.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;QApplication&amp;gt;&#xA;#include &amp;lt;QMainWindow&amp;gt;&#xA;#include &quot;timer.h&quot;&#xA;&#xA;#include &amp;lt;QPushButton&amp;gt;&#xA;#include &amp;lt;QListWidget&amp;gt;&#xA;#include &amp;lt;QtGui&amp;gt;&#xA;#include &amp;lt;QTreeWidget&amp;gt;&#xA;int main(int argc, char *argv[])&#xA;{&#xA;    QApplication    app (argc, argv);&#xA;&#xA;    // The window on which we will place the timer.&#xA;    QMainWindow *window           = new QMainWindow();&#xA;    QWidget           *centralWidget = new QWidget (window);&#xA;&#xA;    /* Button widget */&#xA;    // Displays a button on the main window.&#xA;    QPushButton   *startButton     = new QPushButton(&quot;Start&quot;, window);&#xA;    // Setting the size of the button widget.&#xA;    startButton-&amp;gt;setFixedSize (245, 25);&#xA;&#xA;    /* Text box */&#xA;    // Displays a time interval list on the main window.&#xA;    QListWidget *timeIntervalList = new QListWidget (window);&#xA;    timeIntervalList-&amp;gt;setFixedSize (30, 145);&#xA;&#xA;    QStringList timeIntervals;&#xA;    timeIntervals &amp;lt;&amp;lt; &quot;1&quot; &amp;lt;&amp;lt; &quot;20&quot; &amp;lt;&amp;lt; &quot;30&quot; &amp;lt;&amp;lt; &quot;40&quot;;&#xA;    timeIntervalList-&amp;gt;addItems (timeIntervals);&#xA;&#xA;    /* LCD widget */&#xA;    // Start Counting down from 25 minutes&#xA;    lcdDisplay *objLcdDisplay = new lcdDisplay (centralWidget);&#xA;    // Setting the size of the LCD widget.&#xA;    objLcdDisplay-&amp;gt;setFixedSize (245, 140);&#xA;&#xA;    // The clicked time interval should be returned from the list to the timer.&#xA;    QObject :: connect (timeIntervalList, SIGNAL (itemClicked (QListWidgetItem *)), objLcdDisplay, SLOT (receiveTimeInterval (QListWidgetItem *)));&#xA;&#xA;    // The timer should start and emit signals when the start button is clicked.&#xA;    QObject :: connect (startButton, SIGNAL (clicked ()), objLcdDisplay, SLOT (setTimerConnect ()));&#xA;&#xA;    *************************************************************************&#xA;    Qt :: WindowFlags flags = 0;&#xA;    // Makes the Pomodoro stay on the top of all windows.&#xA;    flags |= Qt :: Window | Qt :: WindowStaysOnTopHint;&#xA;    // Removes minimize, maximize, and close buttons.&#xA;    flags |= Qt :: WindowTitleHint | Qt :: CustomizeWindowHint;&#xA;    window-&amp;gt;setWindowFlags (flags);&#xA;    *************************************************************************&#xA;    window-&amp;gt;setWindowTitle   (&quot;Failing to plan is planning to fail&quot;);&#xA;&#xA;    QGridLayout *layout = new QGridLayout();&#xA;    centralWidget-&amp;gt;setLayout(layout);&#xA;&#xA;    //Add Items to QGridLayout Here &#xA;    //Row and Column counts are set Automatically&#xA;    layout-&amp;gt;addWidget (objLcdDisplay, 0, 1);&#xA;    layout-&amp;gt;addWidget (startButton, 1, 1);&#xA;    layout-&amp;gt;addWidget (timeIntervalList, 0, 0);&#xA;&#xA;    window-&amp;gt;setCentralWidget (centralWidget);&#xA;    window-&amp;gt;show();&#xA;&#xA;    return app.exec();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Timer.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  LCDNUMBER_H&#xA;#define LCDNUMBER_H&#xA;&#xA;#include &amp;lt;QLCDNumber&amp;gt;&#xA;#include &amp;lt;QTimer&amp;gt;&#xA;#include &amp;lt;QTime&amp;gt;&#xA;#include &amp;lt;QListWidget&amp;gt;&#xA;#include &amp;lt;QMessageBox&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;&#xA;class lcdDisplay : public QLCDNumber&#xA;{&#xA;    Q_OBJECT  &#xA;&#xA;    public:&#xA;        // The QTimer class provides repetitive and single-shot timers.&#xA;        QTimer* objTimer;&#xA;        // The QTime class provides clock time functions.&#xA;        QTime*  objTime;&#xA;&#xA;    public:&#xA;        lcdDisplay (QWidget *parentWidget)&#xA;        {&#xA;            objTimer = new QTimer ();&#xA;            // Setting our own time with the specified hours, minutes, and seconds.&#xA;            objTime  = new QTime  (0, 0, 0);&#xA;&#xA;            setParent (parentWidget);&#xA;        };&#xA;&#xA;        ~ lcdDisplay () {};&#xA;&#xA;    public slots:&#xA;        // This slot is called after the timer timeouts (1 second).&#xA;        void setDisplay ()&#xA;        {&#xA;            // TODO&#xA;            objTime-&amp;gt;setHMS (0, objTime-&amp;gt;addSecs (-1).minute (), objTime-&amp;gt;addSecs (-1).second ());&#xA;            display (objTime-&amp;gt;toString ());&#xA;&#xA;            if ((objTime-&amp;gt;minute () == 0) &amp;amp;&amp;amp; (objTime-&amp;gt;second () == 0)) &#xA;            {&#xA;                objTimer-&amp;gt;stop ();&#xA;                QMessageBox msgBox;&#xA;                msgBox.setWindowTitle (&quot;Pomodoro&quot;);&#xA;                msgBox.setText (&quot;Time's up.&quot;);&#xA;                msgBox.setWindowModality(Qt::ApplicationModal);&#xA;                msgBox.exec();&#xA;            }&#xA;        };&#xA;&#xA;        void receiveTimeInterval (QListWidgetItem *item)&#xA;        {&#xA;            QString h = item-&amp;gt;text();&#xA;            objTime-&amp;gt;setHMS (0, h.toUInt(), 0);&#xA;        }&#xA;&#xA;        void setTimerConnect ()&#xA;        {&#xA;            // connect (objectA, signalAFromObjectA, objectB, slotAFromObjectB)&#xA;            // timeout (): This signal is emitted when the timer times out. The time out period can be specified with `start (int milliseconds)` function.&#xA;            QObject :: connect (objTimer, SIGNAL (timeout ()), this, SLOT (setDisplay ()));&#xA;&#xA;            // 1 second has 1000 milliseconds.&#xA;            // start (int milliseconds): Starts the timer with a timeout interval of specified milliseconds. this means that after 1 second the timer will emit a signal. TODO placement&#xA;            objTimer-&amp;gt;start (1000);&#xA;        }&#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="462608" LastEditorUserId="462608" LastEditDate="2012-02-16T03:49:32.730" LastActivityDate="2012-02-16T03:49:32.730" Title="How to remove the default menu on the left side of the title bar - Qt?" Tags="&lt;c++&gt;&lt;qt&gt;" AnswerCount="3" CommentCount="0" FavoriteCount="1" />
  <row Id="9349230" PostTypeId="1" AcceptedAnswerId="9349324" CreationDate="2012-02-19T12:42:48.320" Score="1" ViewCount="368" Body="&lt;p&gt;I am trying to make a simple Queue class.   Now I am stuck. Its almost complete. I have figured out that only one function &quot;pop&quot;  is causing the problem. Can anyone please tell me what should I do.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the code:&lt;br&gt;&#xA;(queue.h)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _QUEUE_&#xA;#define  _QUEUE&#xA;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;using namespace std;&#xA;&#xA;&#xA;struct Stuff&#xA;{&#xA;    string name;&#xA;    int roll;&#xA;};&#xA;&#xA;&#xA;class Queue&#xA;{&#xA;private:&#xA;&#xA;struct Node&#xA;{&#xA;    Stuff data ;&#xA;    struct  Node * next;&#xA;};&#xA;Node *front;&#xA;Node *back;&#xA;int qsize;&#xA;const int MAX;&#xA;public:&#xA;&#xA;Queue(int size = 5);&#xA;~Queue();&#xA;&#xA;bool isfull() const;&#xA;bool isempty() const;&#xA;int queuesize() const;&#xA;&#xA;bool push(const Stuff &amp;amp; item);&#xA;bool pop();&#xA;Stuff first();&#xA;Stuff last();&#xA;&#xA;&#xA;};&#xA;&#xA;&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;queue.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;using namespace std;&#xA;#include &quot;queue.h&quot;&#xA;&#xA;Queue::Queue(int size)&#xA;:MAX(size)&#xA;{&#xA;front = back = 0;&#xA;qsize = 0;&#xA;&#xA;}&#xA;bool Queue::isempty() const&#xA;{&#xA;if(qsize == 0)&#xA;    return true;&#xA;else return false;&#xA;}&#xA;bool Queue::isfull() const&#xA;{&#xA;if(qsize == MAX)&#xA;    return true;&#xA;else &#xA;    return false;&#xA;}&#xA;Queue::~Queue()&#xA;{&#xA;Node * temp;&#xA;while(front != NULL)&#xA;{&#xA;    temp = front;&#xA;    front = front-&amp;gt;next;&#xA;    delete temp;&#xA;}&#xA;&#xA;}&#xA;int Queue::queuesize() const&#xA;{&#xA;return qsize;&#xA;}&#xA;&#xA;bool Queue::push(const Stuff &amp;amp; swag)&#xA;{&#xA;if( isfull() )&#xA;    return false;&#xA;&#xA;Node *add = new Node;&#xA;&#xA;if(add == NULL)&#xA;    return false;&#xA;add-&amp;gt;data = swag;  &#xA;add-&amp;gt;next = NULL;&#xA;&#xA;if(front == NULL)&#xA;    front = add;&#xA;else&#xA;    back-&amp;gt;next = add-&amp;gt;next;&#xA;back = add;&#xA;qsize++;&#xA;&#xA;return true;&#xA;}&#xA;&#xA;&#xA;bool  Queue::pop()&#xA;{&#xA;if(isempty() )&#xA;    return false;&#xA;if(front == NULL)&#xA;    return false;&#xA;Node *temp =front;&#xA;&#xA;&#xA;// I think this part is doing something wrong.&#xA;front = front-&amp;gt;next;&#xA;&#xA;&#xA;&#xA;delete temp;&#xA;qsize--;&#xA;if(qsize == 0)&#xA;    back = NULL;&#xA;return true;&#xA;&#xA;}&#xA;Stuff Queue::first()&#xA;{&#xA;return front-&amp;gt;data;&#xA;}&#xA;Stuff Queue::last()&#xA;{&#xA;return back-&amp;gt;data;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;main.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; #include &amp;lt;iostream&amp;gt;&#xA; #include &quot;queue.h&quot;&#xA; #include &amp;lt;string&amp;gt;&#xA; using namespace std;&#xA;&#xA; int main()&#xA; {&#xA;Queue a(5);&#xA;Stuff data;&#xA;data.name = &quot;icp&quot;;&#xA;data.roll= 755;&#xA;a.push(data);&#xA;Stuff x = a.last();&#xA;&#xA;cout &amp;lt;&amp;lt; x.name &amp;lt;&amp;lt; &quot;\t&quot; &amp;lt;&amp;lt; x.roll &amp;lt;&amp;lt; endl;&#xA;data.name = &quot;sms&quot;;&#xA;data.roll= 12544;&#xA;a.push(data);&#xA;x = a.last();   &#xA;cout &amp;lt;&amp;lt; x.name &amp;lt;&amp;lt; &quot;\t&quot; &amp;lt;&amp;lt; x.roll &amp;lt;&amp;lt; endl;&#xA;&#xA;data.name = &quot;jmc&quot;;&#xA;data.roll= 98740;&#xA;a.push(data);&#xA;x = a.last();&#xA;cout &amp;lt;&amp;lt; x.name &amp;lt;&amp;lt; &quot;\t&quot; &amp;lt;&amp;lt; x.roll &amp;lt;&amp;lt; endl;&#xA;&#xA;cout &amp;lt;&amp;lt; a.queuesize() &amp;lt;&amp;lt; endl;&#xA;&#xA;/////////////&#xA;x = a.first();  &#xA;cout &amp;lt;&amp;lt; x.name &amp;lt;&amp;lt; &quot;\t&quot; &amp;lt;&amp;lt; x.roll &amp;lt;&amp;lt; endl;&#xA;a.pop();&#xA;&#xA;x = a.first();  &#xA;cout &amp;lt;&amp;lt; x.name &amp;lt;&amp;lt; &quot;\t&quot; &amp;lt;&amp;lt; x.roll &amp;lt;&amp;lt; endl;&#xA;a.pop();&#xA;&#xA;x = a.first();  &#xA;cout &amp;lt;&amp;lt; x.name &amp;lt;&amp;lt; &quot;\t&quot; &amp;lt;&amp;lt; x.roll &amp;lt;&amp;lt; endl;&#xA;a.pop();&#xA;&#xA;&#xA;//// &#xA;cin.get();&#xA;cin.get();&#xA;return 0;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The Program crashes after popping out the first element.&#xA;I have pointed out the part that I think is making some problem.  Thanks in advance :)&lt;/p&gt;&#xA;" OwnerUserId="1086340" LastActivityDate="2012-02-19T13:04:48.370" Title="Error in Making Queue class" Tags="&lt;c++&gt;&lt;oop&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="9689285" PostTypeId="1" CreationDate="2012-03-13T17:47:32.560" Score="0" ViewCount="2251" Body="&lt;p&gt;first time poster here, and very novice c++ programmer (current 3rd semester working with the language) and I'm having some trouble. After googling around and searching the forum I've been unable to come up with a solution - any help you could offer would be great. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;1st Header file: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;linked_list.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  my_linked_list&#xA;#define my_linked_list&#xA;&#xA;#include &quot;Node.h&quot;&#xA;#include &amp;lt;cstdlib&amp;gt;&#xA;&#xA;namespace linked_list_version_0{&#xA;&#xA;class linked_list {&#xA;&#xA;public:&#xA;&#xA;linked_list() {head = NULL; tail = NULL;}&#xA;~linked_list();&#xA;&#xA;void insert_back (int x);&#xA;void insert_front (int x);&#xA;int remove_front ();&#xA;int remove_back();&#xA;bool empty() {return (head == NULL);}&#xA;&#xA;private:&#xA;&#xA;node * head;&#xA;node * tail;&#xA;&#xA;}; //end class linked_list&#xA;}//end namespace linked_list_version_0&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Implementation File:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;linked_list.cpp&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;stdafx.h&quot;&#xA;#include &quot;Node.h&quot;&#xA;#include &quot;linked_list.h&quot;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;&#xA;using namespace node_version_0;&#xA;using namespace linked_list_version_0;&#xA;&#xA;void linked_list::insert_front (int x) {&#xA;&#xA;node *p = new node;&#xA;p-&amp;gt;set_data (x);&#xA;p-&amp;gt;set_next (head);&#xA;head = p;&#xA;if (head-&amp;gt;next() == NULL) tail = head;  // takes care of inserting into the empty list&#xA;} //end insert_front&#xA;&#xA;int linked_list::remove_front() {&#xA;// assumes the list is not empty&#xA;&#xA;node *p = head;&#xA;int x =  p-&amp;gt; get_data(); //could not use data(), had to use get_data&#xA;head = head-&amp;gt;next() ;&#xA;delete p;&#xA;if (head==NULL) tail = NULL;  // takes care of deleting only element in the list&#xA;return x;&#xA;}//end remove_front&#xA;&#xA;linked_list::~linked_list() {&#xA;&#xA;node * p;&#xA;while (head != NULL) {&#xA;   p=head;&#xA;head = head-&amp;gt;next();&#xA;delete p;&#xA;}&#xA;tail = NULL;&#xA;}//deconstructor&#xA;&#xA;void linked_list::insert_back (int x) {&#xA;node * q = new node;&#xA;q-&amp;gt;set_data(x);&#xA;q-&amp;gt;set_next(NULL);&#xA;if (tail == NULL) head = q; else tail -&amp;gt; set_next(q);&#xA;tail = q;&#xA;} //end insert_back&#xA;&#xA;int linked_list::remove_back () {&#xA;// assumes the list isn’t empty&#xA;&#xA;node *q = tail;&#xA;int x= tail-&amp;gt;data();&#xA;if (head == tail)&#xA;{head = NULL; tail = NULL;}&#xA;else {&#xA;tail = head;&#xA;while (tail-&amp;gt;next()!=q)&#xA; tail = tail-&amp;gt;next();&#xA;}&#xA;delete q;&#xA;tail-&amp;gt;set_next(NULL);&#xA;return x;&#xA;} //end remove back&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;2nd Header File&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Node.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef my_node&#xA;#define my_node&#xA;&#xA;#include &quot;linked_list.h&quot;&#xA;&#xA;//implementation file unnecessary for this header as&#xA;//inline declarations are used&#xA;&#xA;namespace node_version_0{&#xA;&#xA;class node{&#xA;&#xA;public:&#xA;&#xA;node();&#xA;void set_data(int x) {data = x;} //sets the data value of the node&#xA;void set_next( node * n) { next = n;} //sets the address to the next node&#xA;int get_data() const {return data;} //returns the data value from the node to user&#xA;node * next() {return next;}; //returns the address of the next node &#xA;const node * next() const {return next;} //same as above, &quot;write protected&quot;&#xA;&#xA;private:&#xA;&#xA;int data;&#xA;node * next;&#xA;&#xA;};//end class node&#xA;}//end namespace node_version_0&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So the problem I'm running into is with the &lt;strong&gt;linked_list.cpp&lt;/strong&gt; implementation file. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;All the occurrences of &lt;em&gt;head-&gt;next()&lt;/em&gt; are giving the error &quot;Expression must have pointer to class type&quot;. The same error is occurring for all occurrences of &lt;em&gt;tail-&gt; whatevers here&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So I'm sure is something simple - but being pretty novice I just can't figure it out. I know this code probably looks sloppy to you guys haha, so any pointers you have would be much appreciated. FYI, this is a school assignment. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Sorry if any of the formatting is off/hard to read. Thanks for your help!&lt;/p&gt;&#xA;" OwnerUserId="1267113" LastActivityDate="2012-03-13T17:58:05.950" Title="Running into several &quot;Expression must have pointer to class type&quot; errors. C++, using Visual Studio 2010" Tags="&lt;visual-studio-2010&gt;&lt;visual-c++&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="9764481" PostTypeId="1" AcceptedAnswerId="9764506" CreationDate="2012-03-19T03:01:55.560" Score="2" ViewCount="6637" Body="&lt;p&gt;Currently I am working on a c framework and I want to embed a c++ package into it. However, there are lots of naming conflicts occurs. So I decided to to add a namespace to the C++ source. Now the question is should I move the #include &quot;header.h&quot; within namespace { } block? I just spent some time to figure out a bug which was resulted from the following codes.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Original C++ source&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In a.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;unistd.h&amp;gt;&#xA;struct File &#xA;{&#xA;     void func(int fd);&#xA;}; &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In a.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;a.h&quot;&#xA;void File::func(int fd)&#xA;{&#xA;    ::close( fd );&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And I added the namespace like this&lt;/p&gt;&#xA;&#xA;&lt;p&gt;New a.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;namespace MyAddedNameSpace &#xA;{ &#xA;    #include &amp;lt;unistd.h&amp;gt;&#xA;    struct File &#xA;    {&#xA;        void func(int fd);&#xA;    }; &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;New a.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;a.h&quot;&#xA;namespace MyAddedNameSpace &#xA;{&#xA;    void File::func(int fd)&#xA;    {&#xA;        ::close( fd );&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And compiler complains that ::close() has not been declared. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;The reason Why I put the #include directive inside namespace block is because the c++ package I imported also use #ifndef flag to include header files as follows. So I think the easy way is to put all codes within namespace block {}&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &#xA;    #include &amp;lt;header1.h&amp;gt; &#xA;    #include &amp;lt;header2.h&amp;gt;&#xA;    ...&#xA;#else &#xA;    #include &amp;lt;header3.h&amp;gt;&#xA;    #include &amp;lt;header4.h&amp;gt;&#xA;    ...&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now I solved this problem by adding the extra line in cpp file&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;unistd.h&amp;gt;  //new added line &#xA;#include &quot;a.h&quot;&#xA;namespace MyNameSpace &#xA;{&#xA;    void File::func(int fd)&#xA;    {&#xA;        ::close( fd );&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But I am not satisfied with this solution since unistd.h header has already been included in a.h, but inside the namespace MyAddedNameSpace, or should I added the prefix MyNameSpace to all the function calls where the compiler complain no such function declared ? &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks for the reply.&lt;/p&gt;&#xA;" OwnerUserId="1215751" LastActivityDate="2012-03-19T06:02:25.593" Title="Should I include header file within a namespace?" Tags="&lt;c++&gt;&lt;namespaces&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="9769580" PostTypeId="1" CreationDate="2012-03-19T11:47:19.527" Score="2" ViewCount="2117" Body="&lt;p&gt;I ran into a weird situation. My understanding is that the order of include header files doesn't matter much if I have put #ifndef #define #endif flag to all .h files. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Old codes &#xA;a.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef A_H&#xA;#define A_H&#xA;   blah blah blah&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;a.cc&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;a.h&quot;&#xA;blah blah blah&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And above codes worked fine. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Now I added a new header b.h &lt;/p&gt;&#xA;&#xA;&lt;p&gt;b.h &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef B_H&#xA;#define B_H&#xA;   blah blah blah &#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;new a.cc&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;a.h&quot;&#xA;#include &quot;b.h&quot;&#xA;blah blah blah&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The above a.cc compiled OK. However if I change the a.cc to &lt;/p&gt;&#xA;&#xA;&lt;p&gt;new a.cc version 2&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;b.h&quot;&#xA;#include &quot;a.h&quot;&#xA;blah blah blah&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;compiled failed with error: expected unqualified-id before ‘-’ token. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Sorry I cannot reproduce the same error in a tiny example. The compile error resulted in a big project. And if I tested in a small example created like above. It compiled, but if I switch back to the project. The #include directive order does matter. I have no idea where this problem might occur. &#xA;Any one can give me a clue would be much helpful.&#xA;Thanks in advance    &lt;/p&gt;&#xA;&#xA;&lt;p&gt;[Solved] &#xA;   I've solved the problem by myself. Yet I think there might be other people stuck with it too. The reason which caused the problem was like the following&lt;/p&gt;&#xA;&#xA;&lt;p&gt;in test.cc&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;const int var_undef = -1;&#xA;#define var_undef (-1)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It compiles, while if you swap these two lines&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#define var_undef (-1)&#xA;const int var_undef = -1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It compiles with the error expected unqualified-id before ‘-’ token as I stated. &lt;/p&gt;&#xA;" OwnerUserId="1215751" LastEditorUserId="1215751" LastEditDate="2012-03-22T01:31:55.633" LastActivityDate="2015-11-13T11:58:45.807" Title="expected unqualified-id before ‘-’ token" Tags="&lt;c++&gt;&lt;include&gt;&lt;include-path&gt;&lt;include-guards&gt;" AnswerCount="1" CommentCount="5" />
  <row Id="9850445" PostTypeId="1" AcceptedAnswerId="9850467" CreationDate="2012-03-24T09:05:48.343" Score="8" ViewCount="4903" Body="&lt;p&gt;In &lt;code&gt;c\c++&lt;/code&gt; can define:  &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &amp;lt;token&amp;gt;&#xA;    /* code */&#xA;#else&#xA;    /* code to include if the token is defined */&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;my question, is there a way to do it in java? (which is not defining a global static variable..)&#xA;for  example i want to run some code only in debug mode..&lt;/p&gt;&#xA;&#xA;&lt;p&gt;thanks!&lt;/p&gt;&#xA;" OwnerUserId="419889" LastActivityDate="2012-03-25T09:01:02.437" Title="is there a way to define flags in java and run code only if those flags are defined?" Tags="&lt;java&gt;" AnswerCount="6" CommentCount="0" FavoriteCount="2" />
  <row Id="10089739" PostTypeId="1" AcceptedAnswerId="10103685" CreationDate="2012-04-10T13:28:14.000" Score="1" ViewCount="1192" Body="&lt;p&gt;I have the following snippet in my &lt;code&gt;program.wxs&lt;/code&gt; file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?ifndef $(var.TwoOnly) ?&amp;gt;&#xA;        &amp;lt;Feature Id=&quot;FeatureOne&quot; ... &amp;gt;&#xA;          ...&#xA;        &amp;lt;/Feature&amp;gt;&#xA;&amp;lt;?endif ?&amp;gt;&#xA;&#xA;&amp;lt;?ifndef $(var.OneOnly) ?&amp;gt;&#xA;        &amp;lt;Feature Id=&quot;FeatureTwo&quot; ... &amp;gt;&#xA;          ...&#xA;        &amp;lt;/Feature&amp;gt;&#xA;&amp;lt;?endif ?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'm compiling this using the following comand:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;candle -dOneOnly=1 program.wxs&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Looking at the compiled &lt;code&gt;program.wixobj&lt;/code&gt;, I can see that Feature Two's declaration is all there, and after running &lt;code&gt;light&lt;/code&gt;, both features are listed, and the installer functions exactly as if neither &lt;code&gt;OneOnly&lt;/code&gt; or &lt;code&gt;TwoOnly&lt;/code&gt; were set. Why is my &lt;code&gt;ifndef&lt;/code&gt; block not working correctly?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Note: I also have the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?ifdef $(var.OneOnly) ?&amp;gt;&#xA;  &amp;lt;?define productName = One Only ?&amp;gt;&#xA;&amp;lt;?else?&amp;gt;&#xA;  &amp;lt;?ifdef $(var.TwoOnly) ?&amp;gt;&#xA;    &amp;lt;?define productName = Two Only ?&amp;gt;&#xA;  &amp;lt;?else?&amp;gt;&#xA;    &amp;lt;?define productName = Both ?&amp;gt;&#xA;  &amp;lt;?endif?&amp;gt;&#xA;&amp;lt;?endif?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The name, even when &lt;code&gt;OneOnly&lt;/code&gt; is set during compile, is displayed as &lt;code&gt;Both&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Edit&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've reduced the complexity of my condition to the minimal case shown in &lt;a href=&quot;http://wix.sourceforge.net/manual-wix2/preprocessor.htm&quot; rel=&quot;nofollow&quot;&gt;the documentation&lt;/a&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?ifndef $(var.TwoOnly) ?&amp;gt;&#xA;  &amp;lt;?include featureOne.wxi ?&amp;gt;&#xA;&amp;lt;?endif?&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This still does not work. &lt;/p&gt;&#xA;" OwnerUserId="319618" LastEditorUserId="319618" LastEditDate="2012-04-11T09:33:18.183" LastActivityDate="2012-04-11T09:56:35.850" Title="Why is my ifndef section not working?" Tags="&lt;wix&gt;&lt;conditional-compilation&gt;" AnswerCount="1" CommentCount="2" FavoriteCount="2" />
  <row Id="10293202" PostTypeId="1" AcceptedAnswerId="10293306" CreationDate="2012-04-24T07:03:21.927" Score="2" ViewCount="7845" Body="&lt;p&gt;I am trying to compile matlab generated code  for 565 powerPC under cygwin.&#xA;When I execute the following compile  command:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;@powerpc-eabi-gcc -gdwarf-2 -c -mno-sdata -DMODEL=testMacs -DRT -DNUMST=2 &#xA;-DTID01EQ=1 -DNCSTATES=0 -DRT_STATIC -DMT=0 -I. &#xA;-IC:/Programs/MATLAB/R2007b/simulink/include &#xA;-IC:/Programs/MATLAB/R2007b/extern/include -IC:/cygwin/gnu/powerpc/extern&#xA;2/includes &#xA;-IC:/Programs/MATLAB/R2007b/rtw/c/src &#xA;-IC:/Programs/MATLAB/R2007b/rtw/c/libsrc &#xA;-IC:/cygwin/powerpc-eabi/powerpc-eabi/sys-include &#xA;-IC:/macs_565_R14/Driver &#xA;-IC:/cygwin/ecos/include &#xA;-mcpu=505 -O1 -o ./obj/testMacs.o testMacs.c&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I Get the following error:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;In file included from testMacs.h:16:0,&#xA;                 from testMacs.c:11:&#xA;C:/cygwin/powerpc-eabi/powerpc-eabi/sys-include/math.h:12:1: error: expected `=', `,', `;', `asm' or `__attribute__' before `union'&#xA;C:/cygwin/powerpc-eabi/powerpc-eabi/sys-include/math.h:398:17: error: expected `=', `,', `;', `asm' or `__attribute__' before `const'&#xA;In file included from rtwtypes.h:12:0,&#xA;                 from testMacs.h:17,&#xA;                 from testMacs.c:11:&#xA;C:/Programs/MATLAB/R2007b/extern/include/tmwtypes.h:83:1: error: expected `=', `,', `;', `asm' or `__attribute__' before `typedef'&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The math.h rtwtypes.h are standard unchanged header files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Does anyone know what I do wrong or am I missing a compiler option.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Code snippeds:&#xA;testMacs.h:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*&#xA; * testMacs.h&#xA; *&#xA; * Real-Time Workshop code generation for Simulink model &quot;testMacs.mdl&quot;.&#xA; *&#xA; * Model Version              : 1.6&#xA; * Real-Time Workshop version : 7.0.1  (R2007b+)  21-Apr-2008&#xA; * C source code generated on : Mon Apr 23 06:48:14 2012&#xA; */&#xA;#ifndef RTW_HEADER_testMacs_h_&#xA;#define RTW_HEADER_testMacs_h_&#xA;#ifndef testMacs_COMMON_INCLUDES_&#xA;# define testMacs_COMMON_INCLUDES_&#xA;#include &amp;lt;stddef.h&amp;gt;&#xA;#include &amp;lt;string.h&amp;gt;&#xA;#include &amp;lt;math.h&amp;gt;            /* line 16*/&#xA;#include &quot;rtwtypes.h&quot;        /* line 17*/&#xA;#include &quot;simstruc.h&quot;&#xA;#include &quot;fixedpoint.h&quot;&#xA;#include &quot;rt_logging.h&quot;&#xA;#include &quot;rt_nonfinite.h&quot;&#xA;#endif   &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;math.h:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/* math.h -- Definitions for the math floating point package.  */&#xA;&#xA;#ifndef  _MATH_H_&#xA;#define  _MATH_H_&#xA;&#xA;#include &amp;lt;sys/reent.h&amp;gt;&#xA;#include &amp;lt;machine/ieeefp.h&amp;gt;&#xA;#include &quot;_ansi.h&quot;&#xA;&#xA;_BEGIN_STD_C&#xA;&#xA;union __dmath             /* line 12*/&#xA;{&#xA;  __ULong i[2];&#xA;  double d;&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;...&#xA;...&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/* Global control over fdlibm error handling.  */&#xA;&#xA;enum __fdlibm_version&#xA;{&#xA;  __fdlibm_ieee = -1,&#xA;  __fdlibm_svid,&#xA;  __fdlibm_xopen,&#xA;  __fdlibm_posix&#xA;};&#xA;&#xA;    #define _LIB_VERSION_TYPE enum __fdlibm_version&#xA;    #define _LIB_VERSION __fdlib_version&#xA;&#xA;    extern __IMPORT _CONST _LIB_VERSION_TYPE _LIB_VERSION;      /*line 398*/&#xA;&#xA;    #define _IEEE_  __fdlibm_ieee&#xA;    #define _SVID_  __fdlibm_svid&#xA;    #define _XOPEN_ __fdlibm_xopen&#xA;    #define _POSIX_ __fdlibm_posix&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;rtwtypes.h:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*&#xA; * File: rtwtypes.h&#xA; *&#xA; * Definitions required by Real-Time Workshop generated code.&#xA; *&#xA; * Real-Time Workshop version: 7.0.1&#xA; * Generated on: 2012-04-23 06:48:15&#xA; */&#xA;&#xA;#ifndef __RTWTYPES_H__&#xA;#define __RTWTYPES_H__&#xA;#include &quot;tmwtypes.h&quot;             /* line 12*/&#xA;&#xA;/* This ID is used to detect inclusion of an incompatible rtwtypes.h */&#xA;#define RTWTYPES_ID_C08S16I32L32N32F1&#xA;#include &quot;simstruc_types.h&quot;&#xA;#ifndef POINTER_T&#xA;# define POINTER_T&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;tmwtypes.h:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*&#xA; *      The following define is used to emulate when all integer types are&#xA; *      32-bits.  This is the case for TI C30/C40 DSPs which are RTW targets.&#xA; */&#xA;#ifdef DSP32&#xA;# define INT8_T    int&#xA;# define UINT8_T   unsigned int&#xA;# define INT16_T   int&#xA;# define UINT16_T  unsigned int&#xA;#endif&#xA;                                      /* line 83*/&#xA;/*&#xA; * The uchar_T, ushort_T and ulong_T types are needed for compilers which do &#xA; * not allow defines to be specified, at the command line, with spaces in them.&#xA; */&#xA;&#xA;typedef unsigned char  uchar_T;&#xA;typedef unsigned short ushort_T;&#xA;typedef unsigned long  ulong_T;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1352956" LastActivityDate="2014-09-26T13:43:40.923" Title="C error: expected `=', `,', `;', `asm' or `__attribute__' before" Tags="&lt;c&gt;&lt;cygwin&gt;&lt;powerpc&gt;" AnswerCount="1" CommentCount="2" FavoriteCount="1" />
  <row Id="10295584" PostTypeId="1" CreationDate="2012-04-24T09:53:37.100" Score="1" ViewCount="1644" Body="&lt;h1&gt;Problem&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;In Enterprise Architect 7.1.834 in the code generation templates it is possible to print all the parent packages that a class belongs to in the scope of the File template?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The reason this is needed is to generate multi-include guards compliant with my companies coding standard&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;h1&gt;What doesn't work&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;I have tried both:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  %list=&quot;Namespace__Notes&quot; @separator=&quot;-&quot;% &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  %packageName% &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The output of both only prints the top-level parent package (Package1) but I would like to see:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  Package1-Package2-Package3&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Has anyone found a way to do this?&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;Namepace__Notes&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;Namepace__Notes is a custom template with Namepace type, the contents are ar follows&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  %PI=&quot;&quot;%&#xA;  %packageName%&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;h1&gt;[Edit] Dirty Solution&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;My current (dirty) solution is to mangle the file-path.  &lt;strong&gt;Am I missing something?&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$l_backslash = %REPLACE(&quot;\z&quot;,&quot;z&quot;,&quot;&quot;)%&#xA;$filepath = %filePath%&#xA;$upper_filepath = %TO_UPPER($filepath)%&#xA;$upper_package_as_path = $l_backslash + %TO_UPPER(packageName)% + $l_backslash&#xA;$upper_package_base_len = %LENGTH(packageName)%&#xA;&#xA;$package_path_pos = %FIND($upper_filepath,$upper_package_as_path)%&#xA;%if $package_path_pos != &quot;-1&quot; and $package_path_pos != &quot;0&quot;%&#xA;$upper_filepath = %MID($upper_filepath,$package_path_pos)%&#xA;%endIf%&#xA;&#xA;$file_define =  &quot;_&quot; + $upper_filepath + &quot;__&quot;&#xA;$file_define = %REPLACE($file_define,&quot;.&quot;,&quot;_&quot;)%&#xA;$file_define = %REPLACE($file_define,$l_backslash,&quot;_&quot;)%&#xA;$file_define = %REPLACE($file_define,&quot;/&quot;,&quot;_&quot;)% &#xA;&#xA;$body += &quot;/**************************************************************************//**&quot;&#xA;$body += &quot;\n * \file         &quot; + %fileName%&#xA;$body += &quot;\n *&quot;&#xA;$body += &quot;\n * \brief        &quot; + %elemType% + &quot; &quot; + %className% + &quot; header file&quot;&#xA;$body += &quot;\n *&quot;&#xA;$body += &quot;\n * \author       &quot; + %classAuthor ? value : &quot;&amp;lt;unknown&amp;gt;&quot;%&#xA;$body += &quot;\n *&quot;&#xA;$body += &quot;\n *****************************************************************************/&quot;&#xA;$body += &quot;\n&quot;&#xA;$body += &quot;\n#ifndef &quot; + $file_define&#xA;$body += &quot;\n#define &quot; + $file_define&#xA;$body += &quot;\n&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1353336" LastEditorUserId="1353336" LastEditDate="2012-04-24T14:59:49.640" LastActivityDate="2014-04-24T20:57:56.717" Title="Enterprise Architect code generation templates: import hierarchical package structure as a string" Tags="&lt;namespaces&gt;&lt;code-generation&gt;&lt;enterprise-architect&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="11347194" PostTypeId="1" AcceptedAnswerId="11348501" CreationDate="2012-07-05T15:07:20.887" Score="0" ViewCount="741" Body="&lt;p&gt;I wrote this piece of code to check if a directory exists in both Windows and Unix, but I'm not sure whether it is correct:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;int writeFiles(std::string location)&#xA;{&#xA;&#xA;        // USED TO FILE SYSTEM OPERATION&#xA;        struct stat st;&#xA;        // DEFINE THE mode WHICH THE FILE WILL BE CREATED&#xA;        const char * mode = &quot;w+b&quot;;&#xA;        /* local curl variable */&#xA;&#xA;        // CHECK IF THE DIRECTORY TO WHERE THE FILE ARE GOING EXIST&#xA;        // IF NOT, CREATE IT&#xA;        if(stat(location.c_str(), &amp;amp;st) != 0){&#xA;                #ifndef (defined  _WIN32 || defined __WIN64)    /* WIN32 SYSTEM */&#xA;                if (!CreateDirectory(location.c_str(), NULL)){&#xA;                        std::string msg(&quot;The location directory did not exists, can't be created\n&quot;);&#xA;                        throw std::runtime_error(msg);&#xA;                }&#xA;                #elif defined __unix__          /* in the case of unix system */&#xA;                if(mkdir(location.c_str(), S_IRWXU) != 0){&#xA;                        std::string msg(&quot;The dest_loc directory did not exist, can't be created\n&quot;);&#xA;                        throw std::runtime_error(msg);&#xA;                }&#xA;                #endif&#xA;&#xA; ... more code down here.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;location&lt;/code&gt; is the path to where the files are supposed to copied. However, before I start copying the files, I have to check whether the directory exists or not, for both Windows and Linux. Could someone please give me some input on that problem?&#xA;Thanks&lt;/p&gt;&#xA;" OwnerUserId="1040718" LastEditorUserId="1155856" LastEditDate="2012-07-05T17:14:55.343" LastActivityDate="2012-07-05T17:14:55.343" Title="checking if it is windows or unix before creating a directory in C++" Tags="&lt;c++&gt;&lt;operating-system&gt;" AnswerCount="4" CommentCount="7" />
  <row Id="11403597" PostTypeId="1" AcceptedAnswerId="11403769" CreationDate="2012-07-09T21:38:22.683" Score="0" ViewCount="762" Body="&lt;p&gt;my code is not really working (no errors, but the rectangle is not shown).&#xA;I have 3 classes: CFramework, CRectangle, CGame.&#xA;Whats wrong/missing?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My CFramework class initiates SDL and sets the video mode etc.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CRectangle.hpp:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  RECTANGLE_HPP&#xA;#define RECTANGLE_HPP&#xA;&#xA;#include &quot;Framework.hpp&quot;&#xA;&#xA;class CRectangle&#xA;{&#xA;    public:    &#xA;        CRectangle ();&#xA;        void createRectangle (int x, int y, int width, int height, int r, int g, int b);&#xA;&#xA;    private:&#xA;        SDL_Surface *m_pScreen; // Pointer at the screen of CFramework&#xA;        SDL_Rect m_Rect;&#xA;};&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CRectangle.cpp:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Rectangle.hpp&quot;&#xA;&#xA;&#xA;// Konstruktor&#xA;//&#xA;// Aufgabe: Zeiger auf Screen holen&#xA;//&#xA;CRectangle::CRectangle ()&#xA;{&#xA;    // Zeiger auf Screen holen&#xA;    m_pScreen = g_pFramework-&amp;gt;GetScreen ();&#xA;&#xA;} // Konstruktor&#xA;&#xA;// createRectangle&#xA;//&#xA;// Aufgabe: Viereck erstellen&#xA;//&#xA;void CRectangle::createRectangle (int x, int y, int width, int height, int r, int g, int b)&#xA;{&#xA;        m_Rect.x = x;&#xA;        m_Rect.y = y;&#xA;        m_Rect.w = width;&#xA;        m_Rect.h = height;&#xA;        SDL_FillRect(m_pScreen, &amp;amp;m_Rect, SDL_MapRGB(m_pScreen-&amp;gt;format, r, g, b));&#xA;} // createRectangle&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CGame.cpp:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;... // just the important stuff&#xA;    m_pRectangleMenu = new CRectangle;&#xA;    m_pRectangleMenu-&amp;gt;createRectangle(100,100,400,400,233,34,34);&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1405318" LastActivityDate="2012-07-09T21:53:24.900" Title="Creating rectangle with SDL_FillRect" Tags="&lt;c++&gt;&lt;sdl&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="11540547" PostTypeId="1" CreationDate="2012-07-18T11:43:00.300" Score="1" ViewCount="645" Body="&lt;p&gt;I tried to make a frame_generator with Qt and C++ programming on ubuntu 12.04. I have chosen to work into the kernel space with my OS. I needed to extract a struct from kernel located in skbuff.h on my kernel and I succeeded to resolve the dependency problem of skbuff.h and the other file.h of the kernel system, otherwise, my program on QtCreator have the ability to access to the different file.h that skbuff.h needed. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;But when I compile it show me more than 500 error, from the different files.h that I am talking about, and when I see some errors I discovered that Qt Creator may not understand some code portion written into &quot;C&quot; as well as &quot;#ifndef ..., #error ... &quot; and many other problems.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;QtCreator use GCC compiler and I don't really know what I should do.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Pro file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;QT += core&#xA;QT -= gui&#xA;TARGET = socket_buffer&#xA;CONFIG += console&#xA;CONFIG -= app_bundle&#xA;INCLUDEPATH += /usr/src/linux-headers-3.2.0-26-generic/include/ \&#xA;    /usr/src/linux-headers-3.2.0-26-generic/arch/x86/include/ \&#xA;TEMPLATE = app &#xA;SOURCES += main.cpp \&#xA;    skb.cpp&#xA;HEADERS += \&#xA;    skb.h&#xA;QMAKE_CXXFLAGS = -I/usr/src/linux-headers-3.2.0-26-generic/include/linux/&#xA;QMAKE_CFLAGS = -I/usr/src/linux-headers-3.2.0-26-generic/include/linux/&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Example errors:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/usr/src/linux-headers-3.2.0-26-generic/include/linux/jiffies.h:43: error: division by zero in #if&#xA;/usr/src/linux-headers-3.2.0-26-generic/include/linux/bitops.h:164: error: #error BITS_PER_LONG not 32 or 64&#xA;/usr/include/stdlib.h:337: error: 'size_t' has not been declared&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1534552" LastEditorUserId="26449" LastEditDate="2012-07-26T14:48:46.970" LastActivityDate="2012-07-26T14:48:46.970" Title="Compile on QtCreator" Tags="&lt;c++&gt;&lt;qt&gt;&lt;qt-creator&gt;" AnswerCount="0" CommentCount="4" FavoriteCount="1" />
  <row Id="12034102" PostTypeId="1" AcceptedAnswerId="12034124" CreationDate="2012-08-20T08:01:09.973" Score="2" ViewCount="507" Body="&lt;p&gt;The format of define preprocessor directives are:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  SIZE&#xA;#define SIZE 10&#xA;int hello[SIZE];&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But when I look at the following code, there is no replacement for the preprocessor directives:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef CREDIT_CARD_H                    // Avoid repeated expansion&#xA;#define CREDIT_CARD_H&#xA;&#xA;#include &amp;lt;string&amp;gt;                        // Provides string&#xA;#include &amp;lt;iostream&amp;gt;                      // Provides ostream&#xA;&#xA;class CreditCard&#xA;{&#xA;    public:&#xA;        CreditCard(const std::string&amp;amp; no,    // Constructor&#xA;                   const std::string&amp;amp; nm, int lim, double bal = 0);&#xA;&#xA;        // Accessor functions&#xA;        std::string    getNumber()const    { return number; }&#xA;        std::string    getName() const     { return name; }&#xA;        double         getBalance() const  { return balance; }&#xA;        int            getLimit() const    { return limit; }&#xA;&#xA;        bool chargeIt(double price);       // Make a charge&#xA;        void makePayment(double payment);  // Make a payment&#xA;&#xA;    private:                               // Private member data&#xA;        std::string    number;             // Credit card number&#xA;        std::string name;                  // Card owner's name&#xA;        int            limit;              // Credit limit&#xA;        double        balance;             // Credit card balance&#xA;};&#xA;&#xA;std::ostream&amp;amp; operator&amp;lt;&amp;lt;(std::ostream&amp;amp; out, const CreditCard&amp;amp; c);&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;What does this mean?&lt;/p&gt;&#xA;" OwnerDisplayName="user707549" LastEditorUserId="4370109" LastEditDate="2015-11-29T14:49:44.420" LastActivityDate="2015-11-29T14:49:44.420" Title="Why there is no replacement of the preprocessor directives?" Tags="&lt;c++&gt;&lt;c-preprocessor&gt;" AnswerCount="3" CommentCount="2" FavoriteCount="4" />
  <row Id="12131019" PostTypeId="1" AcceptedAnswerId="12131056" CreationDate="2012-08-26T14:41:19.093" Score="1" ViewCount="9644" Body="&lt;p&gt;I'm working on a project where I need the following structure:&#xA;&lt;img src=&quot;https://i.stack.imgur.com/3pXAd.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The 2 CPP files contain classes, those classes need naked functions that are in H File 1. The classes and the nakeds need variables in H File 2.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I can split the CPP files so that they use 2 separate file that contain the nakes and the variables they need. But I prefer to use this structure. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;It looks like that the compiler skips the #ifndef command, I made a test for the problem:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Main:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;&#xA;//1&amp;gt;CPPFile2.obj : error LNK2005: &quot;bool Test1&quot; (?Test1@@3_NA) already defined in CPPFile1.obj&#xA;//1&amp;gt;CPPFile2.obj : error LNK2005: &quot;bool Test2&quot; (?Test2@@3_NA) already defined in CPPFile1.obj&#xA;&#xA;int main()&#xA;{&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CPPFile 1:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;using namespace std;&#xA;&#xA;#include &quot;HFile1.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;CPPFile 2:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;using namespace std;&#xA;&#xA;#include &quot;HFile2.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;HFile 1:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;HFile2.h&quot;&#xA;&#xA;#pragma once&#xA;#ifndef Name1&#xA;#define Name1&#xA;&#xA;//Use test1, this workes fine&#xA;//Use test2, this workes fine&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;HFile 2:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#pragma once&#xA;#ifndef Name2&#xA;#define Name2&#xA;&#xA;bool Test1 = false;&#xA;bool Test2 = false;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;How is it possible that the #ifndef #define #endif structure doesn’t work properly? &lt;/p&gt;&#xA;" OwnerUserId="1201889" LastActivityDate="2012-08-26T14:56:53.167" Title="How to use #ifndef #define #endif properly in C++" Tags="&lt;c++&gt;&lt;include&gt;&lt;compiler-errors&gt;" AnswerCount="3" CommentCount="4" />
  <row Id="12551889" PostTypeId="1" AcceptedAnswerId="12557252" CreationDate="2012-09-23T11:20:26.753" Score="1" ViewCount="3832" Body="&lt;p&gt;I have a &lt;strong&gt;QLineEdit&lt;/strong&gt;, 2 &lt;strong&gt;QPushButtons&lt;/strong&gt; (Add &amp;amp; Remove Buttons) and a &lt;strong&gt;QListView&lt;/strong&gt;.&#xA;I want to add the &lt;strong&gt;QLineEdit text to the QListView&lt;/strong&gt; when the add button is clicked. Same way, I have to delete an item from the &lt;strong&gt;QListView&lt;/strong&gt; if the remove button is clicked.&#xA;I'm using a &lt;strong&gt;QStringListModel&lt;/strong&gt; to add the &lt;strong&gt;QLineEdit&lt;/strong&gt; text to the &lt;strong&gt;QListView&lt;/strong&gt;. But I don't know how to delete the &lt;strong&gt;QListView item&lt;/strong&gt;. How can I do this? Plz Help.. Thanks in Advance.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  EXAMPLE_H&#xA;#define  EXAMPLE_H&#xA;#include &amp;lt;QWidget&amp;gt;&#xA;#include &amp;lt;QStringList&amp;gt;&#xA;#include &amp;lt;QStringListModel&amp;gt;&#xA;&#xA;&#xA;class EXAMPLE : public QWidget&#xA;{&#xA;    Q_OBJECT&#xA;&#xA; public:&#xA;     explicit EXAMPLE(QWidget *parent = 0);&#xA;     ~EXAMPLE();&#xA;&#xA; private slots:&#xA;      void on_addButton_released();&#xA;      void on_removeButon_released();&#xA;&#xA; private:&#xA;      Ui::EXAMPLE *ui;&#xA;      QStringList  stringList;&#xA; };&#xA;&#xA; #endif // EXAMPLE_H&#xA;&#xA;&#xA;    EXAMPLE.CPP&#xA;&#xA;    #include &quot;EXAMPLE.h&quot;&#xA;    #include &amp;lt;QStringListModel&amp;gt;&#xA;&#xA;&#xA;    EXAMPLE::EXAMPLE(QWidget *parent) :&#xA;        QWidget(parent),&#xA;        ui(new Ui::EXAMPLE)&#xA;    {&#xA;        ui-&amp;gt;setupUi(this);&#xA;        ui-&amp;gt;listView-&amp;gt;setModel(new QStringListModel(stringList));&#xA;    }&#xA;&#xA;    EXAMPLE::~EXAMPLE()&#xA;    {&#xA;        delete ui;&#xA;    }&#xA;&#xA;    void EXAMPLE::on_addButton_released()&#xA;    {&#xA;        stringList.append(ui-&amp;gt;lineEdit-&amp;gt;text());&#xA;        ((QStringListModel*) ui-&amp;gt;listView-&amp;gt;model())-&amp;gt;setStringList(stringList);&#xA;        ui-&amp;gt;lineEdit-&amp;gt;clear();&#xA;    }&#xA;&#xA;    void EXAMPLE::on_removeButon_released()&#xA;    {&#xA;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1354259" LastEditorUserId="1354259" LastEditDate="2012-09-23T11:29:44.000" LastActivityDate="2012-09-23T23:45:47.247" Title="How to remove an Item from a List View?" Tags="&lt;qt&gt;&lt;qt4.7&gt;&lt;qlistview&gt;&lt;qlineedit&gt;" AnswerCount="1" CommentCount="2" />
  <row Id="12931549" PostTypeId="1" AcceptedAnswerId="12933503" CreationDate="2012-10-17T09:48:45.487" Score="1" ViewCount="152" Body="&lt;p&gt;I want to make the code of my application compile differently for windows mobile, since it has fewer features.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;To that end, i want to write code like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef (_windows_mobile_)&#xA;//define avaiabilty of features thatare not supported in windows mobile&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;What is the macro i should use?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Target plarform is Windows Mobile 6 professional.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I went to &lt;a href=&quot;http://sourceforge.net/p/predef/wiki/OperatingSystems/&quot; rel=&quot;nofollow&quot;&gt;http://sourceforge.net/p/predef/wiki/OperatingSystems/&lt;/a&gt;, but macro _WIN32_WCE listed there is not defined.&lt;/p&gt;&#xA;" OwnerUserId="553735" LastEditorUserId="553735" LastEditDate="2012-10-17T10:35:12.423" LastActivityDate="2012-10-18T07:03:39.483" Title="Conditionally include code for windows mobile" Tags="&lt;c&gt;&lt;visual-studio-2008&gt;&lt;windows-mobile&gt;" AnswerCount="2" CommentCount="8" />
  <row Id="12960820" PostTypeId="1" CreationDate="2012-10-18T17:59:10.947" Score="3" ViewCount="1702" Body="&lt;blockquote&gt;&#xA;  &lt;p&gt;&lt;strong&gt;Possible Duplicate:&lt;/strong&gt;&lt;br&gt;&#xA;  &lt;a href=&quot;http://stackoverflow.com/questions/3749099/why-should-the-implementation-and-the-declaration-of-a-template-class-be-in-the&quot;&gt;Why should the implementation and the declaration of a template class be in the same header file?&lt;/a&gt;  &lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&#xA;&#xA;&lt;p&gt;I am trying to define a template in a header file and the definition of it in a cpp file and the template should be defined within a derived class. So this is what I got: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Header file:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  ........&#xA;#define .....&#xA; template &amp;lt;class mytypename&amp;gt;&#xA; class abcBaseClass:public abcDerivedClass{&#xA; public:&#xA;     mytypename getvalue(char*)&#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;br&gt;&#xA;&lt;strong&gt;Source file:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;mytypename abcDerivedClass&amp;lt;mytypename&amp;gt;::getvalue(char* name){&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I just wanted to know if this is the correct way of doing it?.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is what I am trying to achieve... The final way I want to make the call is &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;double x = a-&amp;gt;getvalue&amp;lt;double&amp;gt;(char)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1736204" LastEditorUserId="1736204" LastEditDate="2012-10-18T18:07:35.783" LastActivityDate="2012-10-18T19:15:31.163" Title="Define template in header file and definition in a cpp file within derived class" Tags="&lt;c++&gt;" AnswerCount="3" CommentCount="5" ClosedDate="2012-10-19T07:25:09.650" />
  <row Id="13333181" PostTypeId="1" AcceptedAnswerId="13333862" CreationDate="2012-11-11T16:41:07.730" Score="0" ViewCount="1123" Body="&lt;p&gt;This is my main.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;cstdlib&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;&#xA;#include &quot;Sprite.h&quot;&#xA;#include &amp;lt;SDL/SDL.h&amp;gt;&#xA;#include &amp;lt;SDL/SDL_ttf.h&amp;gt;&#xA;#include &quot;SDL/SDL_mixer.h&quot;&#xA;&#xA;#undef main&#xA;&#xA;SDL_Surface* m_pScreen;&#xA;SDL_Surface* bg_image;&#xA;&#xA;int main(int argc, char* argv[]){&#xA;&#xA;        SDL_Event evt;&#xA;        bool p_running = true;&#xA;&#xA;        // initialize SDL&#xA;        SDL_Init(SDL_INIT_EVERYTHING);&#xA;        SDL_EnableUNICODE( SDL_ENABLE );&#xA;        TTF_Init();&#xA;&#xA;        // set the title bar text&#xA;        SDL_WM_SetCaption(&quot;test1&quot;, NULL);&#xA;&#xA;        // create the screen surface&#xA;        m_pScreen = SDL_SetVideoMode(500, 400, 32, SDL_DOUBLEBUF);&#xA;&#xA;        bg_image = NULL;&#xA;&#xA;        bg_image = Sprite::Load(&quot;images/bg.png&quot;);&#xA;&#xA;        Sprite::Draw(m_pScreen, bg_image, 0, 0);&#xA;&#xA;&#xA;        while(p_running)&#xA;        {&#xA;          SDL_WaitEvent(&amp;amp;evt);&#xA;          if(evt.type == SDL_QUIT)&#xA;            p_running = false;&#xA;        }&#xA;&#xA;        SDL_Quit();&#xA;&#xA;       system(&quot;pause&quot;);&#xA;       return 0;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Sprite.h:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _SPRITE_H_&#xA;#define _SPRITE_H_&#xA;&#xA;#include &amp;lt;SDL/SDL.h&amp;gt;&#xA;#include &amp;lt;SDL/SDL_image.h&amp;gt;&#xA;&#xA;class Sprite&#xA;{&#xA;    public:&#xA;&#xA;             Sprite();&#xA;&#xA;             static SDL_Surface* Load(char* pFile);&#xA;&#xA;             static bool Draw( SDL_Surface* dest, SDL_Surface* src, int x, int y );&#xA;&#xA;             static bool Draw( SDL_Surface* dest, SDL_Surface* src, int x, int y, int x2,&#xA;              int y2, int width, int height );&#xA;};&#xA;&#xA;&#xA;&#xA;// constructor&#xA;Sprite::Sprite() {}&#xA;&#xA;SDL_Surface* Sprite::Load( char* File )&#xA;{&#xA;    SDL_Surface* temp = NULL;&#xA;    SDL_Surface* optimized = NULL;&#xA;&#xA;    if(( temp = IMG_Load(File)) == NULL )&#xA;    {&#xA;          return NULL;&#xA;    }&#xA;&#xA;    optimized = SDL_DisplayFormatAlpha(temp);&#xA;&#xA;    SDL_FreeSurface(temp);&#xA;&#xA;    //Uint32 colorkey = SDL_MapRGB( optimized-&amp;gt;format, 0xFF, 0x80, 0xC0 );//0xFF, 0x04, 0xC1 );&#xA;    //SDL_SetColorKey( optimized, SDL_RLEACCEL | SDL_SRCCOLORKEY, colorkey );&#xA;&#xA;    return optimized;&#xA;}&#xA;&#xA;bool Sprite::Draw( SDL_Surface* dest, SDL_Surface* src, int x, int y )&#xA;{&#xA;      if(dest == NULL || src == NULL)&#xA;       {&#xA;                  return false;&#xA;       }&#xA;&#xA;       SDL_Rect  destR;&#xA;&#xA;       destR.x = x;&#xA;       destR.y = y;&#xA;&#xA;       SDL_BlitSurface(src, NULL, dest, &amp;amp;destR);&#xA;&#xA;        return true;&#xA;}&#xA;&#xA;&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I have created a folder named images and inside i ahve added a file called bg.png 500x400 with some black background and some white lines so i can set that as my background...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The problem is that i always get a black screen instead of the image i try to load&lt;/p&gt;&#xA;" OwnerUserId="705926" LastActivityDate="2012-11-11T18:18:35.693" Title="SDL doesn't draw image" Tags="&lt;c++&gt;&lt;sdl&gt;&lt;sprite&gt;&lt;render&gt;&lt;draw&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="13619678" PostTypeId="1" CreationDate="2012-11-29T05:51:59.517" Score="6" ViewCount="409" Body="&lt;p&gt;I have used some open-source code and third party libs in my project and want to exclude that code from getting analyzed while analyzing my project using scan-build file.&#xA;I know we can #ifndef &lt;strong&gt;clang_analyzer&lt;/strong&gt;  use this macro to suppress the code from getting analysed, but I dont want to copy paste this in all the files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;OR &#xA;Is there any way so that the report which get generated after analysis using scan-build command, not to show the warnings/error generated from some set of files?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;thanks in advance.&lt;/p&gt;&#xA;" OwnerUserId="1737848" LastActivityDate="2012-11-29T05:51:59.517" Title="how to exclude third party lib / dll from getting analyzed in CLANG scan-build xcodebuild?" Tags="&lt;clang&gt;&lt;scan-build&gt;" AnswerCount="0" CommentCount="1" />
  <row Id="14079478" PostTypeId="1" AcceptedAnswerId="14080067" CreationDate="2012-12-29T06:58:42.520" Score="0" ViewCount="524" Body="&lt;p&gt;I am using MinGW C++ compiler in a statically linked project with NetBeans.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am trying to use &lt;code&gt;std::array&lt;/code&gt; but it seems that when I &lt;code&gt;#include &amp;lt;array&amp;gt;&lt;/code&gt; NetBeans doesn't recognize it. When I write &lt;code&gt;std::&lt;/code&gt; a list of possibilities unfolds, but the array struct is nowhere to be found.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;When I Ctrl+Click the &lt;code&gt;&amp;lt;array&amp;gt;&lt;/code&gt; standard library header, it opens (thus, it is found by the IDE)... but the declarations appear in grey for some reason... &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/PiRxf.png&quot; alt=&quot;#include &amp;lt;array&amp;gt;&quot;&gt;&#xA;----------------&gt;&#xA;If I remove the define guards (alias #ifndef -- #endif) it works fine, but... why do I have to change this header to make it work? Am I missing something? I am using &quot;x86_64-w64-mingw32&quot; to compile.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any help will be appreciated.&lt;/p&gt;&#xA;" OwnerUserId="1311269" LastActivityDate="2012-12-29T08:39:15.227" Title="C++ NetBeans std::array not usable" Tags="&lt;c++&gt;&lt;netbeans&gt;&lt;std&gt;&lt;mingw32&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="14090827" PostTypeId="1" AcceptedAnswerId="14090965" CreationDate="2012-12-30T12:46:37.000" Score="3" ViewCount="8056" Body="&lt;p&gt;Hi I'm currently working on a program in C++ and my IDE is obviously VC++ and I came across this linker error.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;error LNK2005: &quot;class Graphics TheGraphics&quot; (?TheGraphics@@3VGraphics@@A) already defined in Game.obj&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I looked up how to fix it but none of the links got it fixed. So I thought I ask you all myself.&#xA;These are all my files&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Game.h&#xA;Graphics.h&#xA;Inc.h&#xA;Main.h&#xA;&#xA;Game.cpp&#xA;Graphics.cpp&#xA;Main.cpp&#xA;WndProc.cpp&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and in all of the header files I have the&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef ...&#xA;#define...&#xA;..&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and I also have some includes in the header files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;in Inc.h I have this between the #ifndef and #define&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;Windows.h&amp;gt;&#xA;#include &amp;lt;d3d9.h&amp;gt;&#xA;#include &amp;lt;d3dx9.h&amp;gt;&#xA;&#xA;#include &quot;Game.h&quot;&#xA;#include &quot;Graphics.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;in Main.h I have this between the #ifndef and #define&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Inc.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and I've also created to objects Game and Graphics objects&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;extern Game TheGame;&#xA;extern Graphics TheGraphics&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I've also declared 1 function&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;LRESULT CALLBACK WndProc(HWND hWnd,&#xA;                         UINT Msg,&#xA;                         WPARAM wParam,&#xA;                         LPARAM lParam);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;That's Main.h&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In Game.h and Graphics.h I have this before the #ifndef and #define&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Main.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and in Game.h I have made a class called Game and a enum called GAMESTATE.&#xA;In Graphics.h I have made a class called Graphics.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;All the .cpp files for the class only include their class header and WndProc includes Main.h&lt;/p&gt;&#xA;&#xA;&lt;p&gt;and after all that I get this when I compile.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;1&amp;gt;Graphics.obj : error LNK2005: &quot;class Graphics TheGraphics&quot; (?TheGraphics@@3VGraphics@@A) already defined in Game.obj&#xA;1&amp;gt;Graphics.obj : error LNK2005: &quot;class Game TheGame&quot; (?TheGame@@3VGame@@A) already defined in Game.obj&#xA;1&amp;gt;Main.obj : error LNK2005: &quot;class Graphics TheGraphics&quot; (?TheGraphics@@3VGraphics@@A) already defined in Game.obj&#xA;1&amp;gt;Main.obj : error LNK2005: &quot;class Game TheGame&quot; (?TheGame@@3VGame@@A) already defined in Game.obj&#xA;1&amp;gt;WndProc.obj : error LNK2005: &quot;class Graphics TheGraphics&quot; (?TheGraphics@@3VGraphics@@A) already defined in Game.obj&#xA;1&amp;gt;WndProc.obj : error LNK2005: &quot;class Game TheGame&quot; (?TheGame@@3VGame@@A) already defined in Game.obj&#xA;1&amp;gt;F:\Games\Zombie Lypse\Release\Zombie Lypse.exe : fatal error LNK1169: one or more multiply defined symbols found&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;please help I've looked everywhere and I've tried to fix it myself. Still nothing.&lt;/p&gt;&#xA;" OwnerUserId="1831899" LastEditorUserId="922712" LastEditDate="2012-12-30T13:20:03.220" LastActivityDate="2012-12-30T13:20:03.220" Title="VC++ Error LNK2005 Already Defined In" Tags="&lt;c++&gt;&lt;visual-c++&gt;&lt;include&gt;&lt;linker-error&gt;" AnswerCount="1" CommentCount="0" FavoriteCount="2" />
  <row Id="14305189" PostTypeId="1" AcceptedAnswerId="14305208" CreationDate="2013-01-13T16:00:14.950" Score="1" ViewCount="210" Body="&lt;p&gt;What is the best location for a file include in C++? For example:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*Foo.h*/&#xA;#include &amp;lt;string&amp;gt;       //Should I place this between the #ifndef #endif?&#xA;#include &quot;FooBar.h&quot;&#xA;using namespace std;&#xA;&#xA;#ifndef Foo_class&#xA;#define Foo_class&#xA;class Foo&#xA;{   &#xA;    /*XXX*/&#xA;}&#xA;#endif&#xA;&#xA;/*FooBar.h*/&#xA;#ifndef FooBar_class&#xA;#define FooBar_class&#xA;class FooBar&#xA;{   &#xA;    /*XXX*/&#xA;}&#xA;#endif&#xA;&#xA;/*Foo.cpp*/&#xA;#include &quot;Foo.h&quot;&#xA;/*XXX*/&#xA;&#xA;/*FooBar.cpp*/&#xA;#include &quot;FooBar.h&quot;&#xA;/*XXX*/&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Should I place the include between the define so that it only gets included when needed? Does it have impact to the system when you don't do that?&lt;/p&gt;&#xA;" OwnerUserId="1186210" LastActivityDate="2013-01-13T16:22:07.347" Title="+ header file, include files in define block or just on the top of the file" Tags="&lt;c++&gt;" AnswerCount="5" CommentCount="1" />
  <row Id="14330268" PostTypeId="1" CreationDate="2013-01-15T02:32:34.267" Score="1" ViewCount="1845" Body="&lt;p&gt;In my code I have some conditionals:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef SOME_FLAG&#xA;&#xA;// ...&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In Xcode project, under target-&gt;Build settings-&gt;preprocessor macros:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I add to both Debug and Release as well as AppStore which I set up earlier a preprocessor macros:&#xA;SOME_FLAG&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(The DEBUG already has &lt;code&gt;DEBUG=1 DEBUG=1&lt;/code&gt; set (as one entry?!!) and I addded another entry of SOME_FLAG.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;But it did not work for me. The &lt;code&gt;#ifndef #endif&lt;/code&gt; block still goes in! What am I doing wrong?&lt;/p&gt;&#xA;" OwnerUserId="133747" LastActivityDate="2013-01-15T02:32:34.267" Title="Define preprocessor macro in Xcode target" Tags="&lt;ios&gt;&lt;xcode&gt;&lt;preprocessor&gt;" AnswerCount="0" CommentCount="5" />
  <row Id="15022066" PostTypeId="1" CreationDate="2013-02-22T10:32:38.710" Score="3" ViewCount="2687" Body="&lt;p&gt;Im new to C++, i found this code of buddy system memory allocation but with no main function, all member function are correct, i want you guys to help me with the main function, i wanna allocate some memory and then show the state of the memory before and after allocation, and then deallocate the memory to verify that buddies are merging, and show the list of free blocks&lt;/p&gt;&#xA;&#xA;&lt;p&gt;--BuddyPool.h--&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  BUDDYPOOL_INC&#xA;#define  BUDDYPOOL_INC&#xA;&#xA;class BuddyPool{&#xA;public:&#xA;    enum Status { free, reserved };&#xA;    struct Header&#xA;    {&#xA;        Status status: 1;&#xA;        //unsigned int k : bitsizeof(unsigned int) - 1U;&#xA;        unsigned int k : 31;&#xA;    };&#xA;    struct Block : public Header&#xA;    {&#xA;        //enum { size = 16 };&#xA;&#xA;        enum { size = 64 };&#xA;        struct Links&#xA;        {&#xA;            Block *next;&#xA;            Block *prev;&#xA;        };&#xA;        union&#xA;        {&#xA;            Links link;&#xA;            char userPart [size - sizeof(Header)];&#xA;        };&#xA;    };&#xA;&#xA;private:&#xA;    unsigned int m;&#xA;    unsigned int numberOfBlocks;&#xA;    Block *pool;&#xA;    Block *sentinel;&#xA;&#xA;    static void Unlink(Block &amp;amp;);&#xA;    static void InsertAfter(Block &amp;amp;, Block &amp;amp;);&#xA;    Block &amp;amp;Buddy(Block &amp;amp;) const;&#xA;&#xA;public:&#xA;    BuddyPool(size_t);&#xA;    ~BuddyPool();&#xA;&#xA;    void *Acquire(size_t);&#xA;    void Release(void *);&#xA;};&#xA;&#xA;#endif   /* ----- #ifndef BUDDYPOOL_INC  ----- */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;--BuddyPool.cpp--&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;WinDef.h&amp;gt;&#xA;#include &quot;BuddyPool.h&quot;&#xA;&#xA;unsigned int Log2Ceil(unsigned int val){&#xA;    unsigned int L;&#xA;    for (L = 0; (1ul&amp;lt;&amp;lt;L) &amp;lt; val; L++);&#xA;    return L;&#xA;}&#xA;&#xA;BuddyPool::BuddyPool(size_t bytes) &#xA;    : m(Log2Ceil(bytes))&#xA;    , numberOfBlocks( (1 &amp;lt;&amp;lt; m) / sizeof(Block))&#xA;    , pool (new Block[numberOfBlocks + m +1])&#xA;    , sentinel(pool + numberOfBlocks)&#xA;{&#xA;    for (unsigned int i = 0; i &amp;lt;= m; ++i) {&#xA;        sentinel[i].link.next = &amp;amp;sentinel[i];&#xA;        sentinel[i].link.prev = &amp;amp;sentinel[i];&#xA;    }&#xA;&#xA;    Block &amp;amp;head = pool[0];&#xA;    head.status = free;&#xA;    head.k = m;&#xA;    InsertAfter(sentinel[m], head);&#xA;}&#xA;&#xA;BuddyPool::~BuddyPool(){&#xA;    delete [] pool;&#xA;}&#xA;&#xA;void *BuddyPool::Acquire(size_t bytes){&#xA;    unsigned int kPrime = Log2Ceil(bytes + sizeof(Header));&#xA;&#xA;    unsigned int i = kPrime;&#xA;    while (i &amp;lt;= m &amp;amp;&amp;amp; sentinel[i].link.next == &amp;amp;sentinel[i]) {&#xA;        ++i;&#xA;    }&#xA;    if (i &amp;gt; m) {&#xA;        return NULL;    // throw bad_alloc(&quot;out of memory&quot;);&#xA;    }&#xA;&#xA;    Block &amp;amp;block = *sentinel[i].link.next;&#xA;    Unlink(block);&#xA;    while (block.k &amp;gt; kPrime) {&#xA;        block.k -= 1;&#xA;        Block &amp;amp;buddy = Buddy(block);&#xA;        buddy.status = free;&#xA;        buddy.k = block.k;&#xA;        InsertAfter(sentinel[buddy.k], buddy);&#xA;    }&#xA;    block.status = reserved;&#xA;    return block.userPart;&#xA;}&#xA;&#xA;void BuddyPool::Release(void *arg){&#xA;    Block &amp;amp;block = *reinterpret_cast&amp;lt;Block *&amp;gt;(&#xA;                                              reinterpret_cast&amp;lt;Header *&amp;gt;(arg) - 1U);&#xA;&#xA;    if (&amp;amp;block &amp;lt; pool || &amp;amp;block &amp;gt;= pool + numberOfBlocks) {&#xA;        return; // throw invalid_argument(&quot;invalid pointer&quot;);&#xA;    }&#xA;&#xA;    block.status = free;&#xA;    Block *ptr;&#xA;    for (ptr = &amp;amp;block; ptr-&amp;gt;k &amp;lt; m; ptr-&amp;gt;k += 1) {&#xA;        Block &amp;amp;buddy = Buddy(*ptr);&#xA;        if (buddy.status == reserved || buddy.k != ptr-&amp;gt;k) {&#xA;            break;&#xA;        }&#xA;        Unlink(buddy);&#xA;        if (&amp;amp;buddy &amp;lt; ptr) {&#xA;            ptr = &amp;amp;buddy;&#xA;        }&#xA;    }&#xA;&#xA;    InsertAfter(sentinel[ptr-&amp;gt;k], *ptr);&#xA;}&#xA;&#xA;BuddyPool::Block &amp;amp;BuddyPool::Buddy(Block &amp;amp;block) const{&#xA;    unsigned int addr = reinterpret_cast&amp;lt;unsigned int&amp;gt;(&amp;amp;block) + (1 &amp;lt;&amp;lt; block.k);&#xA;    return *(reinterpret_cast&amp;lt;Block *&amp;gt;(addr));&#xA;}&#xA;&#xA;void BuddyPool::Unlink(Block &amp;amp;block){&#xA;    if (block.link.next) {&#xA;        block.link.next-&amp;gt;link.prev = block.link.prev;&#xA;    }&#xA;    if (block.link.prev) {&#xA;        block.link.prev-&amp;gt;link.next = block.link.next;&#xA;    }&#xA;    block.link.next = block.link.prev = &amp;amp;block;&#xA;}&#xA;&#xA;void BuddyPool::InsertAfter(Block &amp;amp;src, Block &amp;amp;block){&#xA;    block.link.next = src.link.next;&#xA;    block.link.prev = &amp;amp;src;&#xA;&#xA;    if (src.link.next) {&#xA;        src.link.next-&amp;gt;link.prev = &amp;amp;block;&#xA;    }&#xA;    src.link.next = &amp;amp;block; &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2098877" LastEditorUserId="1322972" LastEditDate="2013-02-22T10:45:41.243" LastActivityDate="2013-02-22T10:48:09.263" Title="buddy memory allocation - main function" Tags="&lt;c++&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="15117591" PostTypeId="1" AcceptedAnswerId="15117631" CreationDate="2013-02-27T16:46:56.187" Score="27" ViewCount="24891" Body="&lt;p&gt;I'm beginner to C++ and I'm doing one of the exercises about abstract class and inheritance.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is my abstract class:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   SHAPE_H &#xA;#define  SHAPE_H&#xA;class Shape&#xA;{&#xA;    public:&#xA;        virtual void area();&#xA;        virtual void perimeter();&#xA;        virtual void volume();&#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This is my concrete class that implements the abstract class:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;cmath&amp;gt;&#xA;#include &quot;Shape.h&quot;&#xA;using namespace std;&#xA;&#xA;class Circle : public Shape&#xA;{&#xA;    public:&#xA;        Circle(int);&#xA;    private:&#xA;        int r;&#xA;};&#xA;&#xA;Circle::Circle(int rad)&#xA;{&#xA;    r = rad;&#xA;}&#xA;&#xA;void Circle::area()&#xA;{&#xA;    cout &amp;lt;&amp;lt; &quot;Area of this cirle = &quot; &amp;lt;&amp;lt; 3.14 * pow(r, 2) &amp;lt;&amp;lt; endl;&#xA;}&#xA;&#xA;void Circle::perimeter()&#xA;{&#xA;    cout &amp;lt;&amp;lt; &quot;Perimeter of this cirle = &quot; &amp;lt;&amp;lt; 2 * 3.14 * r &amp;lt;&amp;lt; endl;&#xA;}&#xA;&#xA;void Circle::volume()&#xA;{&#xA;    cout &amp;lt;&amp;lt; &quot;Volume is not defined for circle.&quot; &amp;lt;&amp;lt; endl;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I got red lines under &lt;code&gt;area()&lt;/code&gt;, &lt;code&gt;perimeter()&lt;/code&gt;, and &lt;code&gt;volume()&lt;/code&gt; in my &lt;code&gt;Circle&lt;/code&gt; class, which showed &lt;code&gt;&quot;Error: inherited member is not allowed&quot;&lt;/code&gt;. I went through my class ppt and googled for answer but no luck. Any help is appreciated.&lt;/p&gt;&#xA;" OwnerUserId="1447343" LastEditorUserId="2034041" LastEditDate="2013-02-27T16:55:34.070" LastActivityDate="2013-02-27T16:57:17.297" Title="Why is inherited member not allowed?" Tags="&lt;c++&gt;&lt;inheritance&gt;" AnswerCount="3" CommentCount="4" FavoriteCount="3" />
  <row Id="15450943" PostTypeId="1" CreationDate="2013-03-16T15:16:55.577" Score="0" ViewCount="794" Body="&lt;p&gt;I have a compilation problem that I just can't explain in a c++ program on Visual Studio 2012. The error appears at several places in the program, here is an example:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef     __WINMUTEX_H__&#xA;# define    __WINMUTEX_H__&#xA;# ifdef _WIN32&#xA;# include   &amp;lt;windows.h&amp;gt;&#xA;&#xA;namespace Thread&#xA;{&#xA;class       WinMutex&#xA;{&#xA;public:&#xA;    WinMutex();&#xA;    ~WinMutex();&#xA;    void    lock();&#xA;    void    unlock();&#xA;    bool    trylock();&#xA;private:&#xA;    CRITICAL_SECTION    _mutex;&#xA;};&#xA;&#xA;typedef WinMutex Mutex;&#xA;}&#xA;# endif&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The compiler gives me an error (C2146). Basically the compiler doesn't seem to find the CRITICAL_SECTION identifier, neither does the Intellisense. As I said, this error occurs in several parts of the program and not just for CRITICAL_SECTION but also for HANDLE and even DWORD.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I tried replacing the windows.h include with the windows 8 equivalent (synchapi.h) but then I still get the error with the addition of the &quot;No target architecture&quot; error.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What's weird is that this code works when I used it in a project on visual studio 2010 on Windows 7.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Anyone knows why this is happening?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks&lt;/p&gt;&#xA;" OwnerUserId="2177274" LastActivityDate="2013-03-16T15:57:41.187" Title="Native types, critical section and handles not defined in c++ program" Tags="&lt;c++&gt;&lt;windows-8&gt;&lt;visual-studio-2012&gt;&lt;critical-section&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="15520138" PostTypeId="1" AcceptedAnswerId="15608463" CreationDate="2013-03-20T09:49:21.263" Score="0" ViewCount="4917" Body="&lt;p&gt;Getting linker error in a basic cocos2dx app running in visual studio. Occurs when AppDelegate's &quot;applicationDidFinishLaunching&quot; method calls &quot;MyGameScene&quot;'s &quot;singleton&quot; method.&#xA;I have already checked that the methods defined in MyGameScene.h are implemented in MyGameScene.cpp class &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Error msg&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Error   1   error LNK2019: unresolved external symbol &quot;public: static class&#xA;MyGame * __cdecl MyGame::singleton(void)&quot; (?singleton@MyGame@@SAPAV1@XZ) &#xA;referenced in function &quot;public: virtual bool __thiscall &#xA;AppDelegate::applicationDidFinishLaunching(void)&quot; &#xA;(?applicationDidFinishLaunching@AppDelegate@@UAE_NXZ)   D:\Dev\cocos2d-2.0-x-&#xA;2.0.4\MyGame\proj.win32\AppDelegate.obj MyGame&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;AppDelegate.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _APP_DELEGATE_H_&#xA;#define  _APP_DELEGATE_H_&#xA;&#xA;#include &quot;CCApplication.h&quot;&#xA;&#xA;/**&#xA;@brief    The cocos2d Application.&#xA;&#xA;The reason for implement as private inheritance is to hide some interface call by   CCDirector.&#xA;*/&#xA;class  AppDelegate : private cocos2d::CCApplication&#xA;{&#xA;public:&#xA;AppDelegate();&#xA;virtual ~AppDelegate();&#xA;&#xA;/**&#xA;@brief    Implement CCDirector and CCScene init code here.&#xA;@return true    Initialize success, app continue.&#xA;@return false   Initialize failed, app terminate.&#xA;*/&#xA;virtual bool applicationDidFinishLaunching();&#xA;&#xA;/**&#xA;@brief  The function be called when the application enter background&#xA;@param  the pointer of the application&#xA;*/&#xA;virtual void applicationDidEnterBackground();&#xA;&#xA;/**&#xA;@brief  The function be called when the application enter foreground&#xA;@param  the pointer of the application&#xA;*/&#xA;virtual void applicationWillEnterForeground();&#xA;};&#xA;&#xA;#endif // _APP_DELEGATE_H_&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;AppDelegate.cpp&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;AppDelegate.h&quot;&#xA;#include &quot;cocos2d.h&quot;&#xA;#include &quot;MyGameScene.h&quot;&#xA;&#xA;USING_NS_CC;&#xA;&#xA;AppDelegate::AppDelegate()&#xA;{&#xA;&#xA;}&#xA;&#xA;AppDelegate::~AppDelegate()&#xA;{&#xA;}&#xA;&#xA;bool AppDelegate::applicationDidFinishLaunching()&#xA;{&#xA;// initialize director&#xA;CCDirector *pDirector = CCDirector::sharedDirector();&#xA;pDirector-&amp;gt;setOpenGLView(CCEGLView::sharedOpenGLView());&#xA;&#xA;// turn on display FPS&#xA;pDirector-&amp;gt;setDisplayStats(true);&#xA;&#xA;// set FPS. the default value is 1.0/60 if you don't call this&#xA;pDirector-&amp;gt;setAnimationInterval(1.0 / 60);&#xA;&#xA;// create a scene. it's an autorelease object&#xA;MyGame *MyGame = MyGame::singleton();&#xA;CCScene *pScene = MyGame-&amp;gt;scene();&#xA;&#xA;// run&#xA;pDirector-&amp;gt;runWithScene(pScene);&#xA;&#xA;return true;&#xA;}&#xA;&#xA;// This function will be called when the app is inactive. When comes a phone call,it's be invoked too&#xA;void AppDelegate::applicationDidEnterBackground()&#xA;{&#xA;&#xA;CCDirector::sharedDirector()-&amp;gt;pause();&#xA;&#xA;// if you use SimpleAudioEngine, it must be pause&#xA;// SimpleAudioEngine::sharedEngine()-&amp;gt;pauseBackgroundMusic();&#xA;}&#xA;&#xA;// this function will be called when the app is active again&#xA;void AppDelegate::applicationWillEnterForeground()&#xA;{&#xA;&#xA;CCDirector::sharedDirector()-&amp;gt;resume();&#xA;&#xA;// if you use SimpleAudioEngine, it must resume here&#xA;// SimpleAudioEngine::sharedEngine()-&amp;gt;resumeBackgroundMusic();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;MyGameScene.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef __MYGAME_SCENE_H__&#xA;#define __MYGAME_SCENE_H__&#xA;&#xA;#include &quot;cocos2d.h&quot;&#xA;#include &quot;Box2D/Box2d.h&quot;&#xA;&#xA;#define PTM_RATIO 32&#xA;&#xA;USING_NS_CC;&#xA;class MyGame: public cocos2d::CCLayer {&#xA;public:&#xA;&#xA;    cocos2d::CCSprite *_ball;&#xA;&#xA;    // implement the &quot;static node()&quot; method manually&#xA;    CREATE_FUNC(MyGame)&#xA;    ;&#xA;&#xA;    static MyGame *singleton();&#xA;&#xA;    MyGame();&#xA;    ~MyGame();&#xA;&#xA;    // Here's a difference. Method 'init' in cocos2d-x returns bool, instead of returning 'id' in cocos2d-iphone&#xA;    virtual bool init();&#xA;&#xA;    // there's no 'id' in cpp, so we recommand to return the exactly class pointer&#xA;    cocos2d::CCScene* scene();&#xA;&#xA;    // a selector callback&#xA;    void menuCloseCallback(CCObject* pSender);&#xA;&#xA;    void Tick(float dt);&#xA;&#xA;private:&#xA;    CCScene *_scene;&#xA;&#xA;    int mWidth;&#xA;    int mHeight;&#xA;&#xA;};&#xA;&#xA;#endif // __MYGAME_SCENE_H__&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;MyGameScene.cpp&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    #include &quot;MyGameScene.h&quot;&#xA;//#include &quot;SimpleAudioEngine.h&quot;&#xA;#include &quot;Shaders.h&quot;&#xA;&#xA;using namespace cocos2d;&#xA;//using namespace CocosDenshion;&#xA;&#xA;#define COCOS2D_DEBUG 1&#xA;&#xA;extern &quot;C&quot; {&#xA;#include &amp;lt;pthread.h&amp;gt;&#xA;#include &amp;lt;unistd.h&amp;gt;&#xA;}&#xA;&#xA;static MyGame *_MyGameSingleton = NULL;&#xA;static bool mIsNewFrameReceived;&#xA;&#xA;MyGame* MyGame::singleton() {&#xA;    // 'layer' is an autorelease object&#xA;    if (_MyGameSingleton == NULL) {&#xA;        _MyGameSingleton = MyGame::create();&#xA;&#xA;    }&#xA;    return _MyGameSingleton;&#xA;}&#xA;&#xA;CCScene* MyGame::scene() {&#xA;    if (!_scene) {&#xA;        // 'scene' is an autorelease object&#xA;        _scene = CCScene::create();&#xA;&#xA;        // add layer as a child to scene&#xA;        _scene-&amp;gt;addChild(this);&#xA;    }&#xA;&#xA;    // return the scene&#xA;    return _scene;&#xA;}&#xA;&#xA;// on &quot;init&quot; you need to initialize your instance&#xA;bool MyGame::init() {&#xA;    _scene = NULL;&#xA;&#xA;    if (!CCLayer::init()) {&#xA;        return false;&#xA;    }&#xA;//  CCLOG(&quot;init&quot;);&#xA;//  CCSize winSize = CCDirector::sharedDirector()-&amp;gt;getWinSize();&#xA;//  mWidth = winSize.width;&#xA;//  mHeight = winSize.height;&#xA;    this-&amp;gt;schedule(schedule_selector(MyGame::Tick));&#xA;&#xA;    return true;&#xA;}&#xA;&#xA;void MyGame::menuCloseCallback(CCObject* pSender) {&#xA;    CCDirector::sharedDirector()-&amp;gt;end();&#xA;&#xA;#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS)&#xA;    exit(0);&#xA;#endif&#xA;}&#xA;&#xA;MyGame::~MyGame() {&#xA;&#xA;}&#xA;&#xA;&#xA;MyGame::MyGame() {&#xA;&#xA;}&#xA;&#xA;void MyGame::Tick(float dt) {&#xA;    CCDirector *director = CCDirector::sharedDirector();&#xA;    CCSize windowSize = director-&amp;gt;getVisibleSize();&#xA;    mWidth = windowSize.width;&#xA;    mHeight = windowSize.height;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;UPDATE&lt;/strong&gt;&#xA;I created a new class in the project in Visual Studio itself and copied all the variables and member functions of MyGame class to it. Then, I was able to reference to the new class and compile properly.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;[Copying my comment here FYI]&#xA;I am able to compile the existing cocos2dx game on windows using cygwin and my colleague is able to compile the same thing on Mac using XCode. The problem is only while compiling with Visual Studio&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I think Visual Studio is not compiling the MyGame file. How can I make sure that the class will be compiled?&lt;/p&gt;&#xA;" OwnerUserId="603125" LastEditorUserId="1020072" LastEditDate="2013-03-20T22:52:44.153" LastActivityDate="2014-03-06T19:51:41.123" Title="LNK2019 unresolved external symbol reference in function" Tags="&lt;c++&gt;&lt;visual-studio&gt;&lt;linker-error&gt;&lt;cocos2d-x&gt;&lt;lnk2019&gt;" AnswerCount="3" CommentCount="9" />
  <row Id="15522269" PostTypeId="1" CreationDate="2013-03-20T11:28:18.463" Score="0" ViewCount="2439" Body="&lt;p&gt;I try to create a DLL in Embarcadero C++ Builder XE3, and use it in a test-project in the same environment.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I take example on a tutorial which code does not give a good result for me (!) : &lt;a href=&quot;http://docwiki.embarcadero.com/RADStudio/XE3/en/Tutorial:_Using_Dynamic_Linked_Libraries_in_C%2B%2BBuilder_Applications&quot; rel=&quot;nofollow&quot;&gt;http://docwiki.embarcadero.com/RADStudio/XE3/en/Tutorial:_Using_Dynamic_Linked_Libraries_in_C%2B%2BBuilder_Applications&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the content of my DLL :&lt;/p&gt;&#xA;&#xA;&lt;p&gt;BaseAuth.h file :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   BaseAuthH&#xA;#define   BaseAuthH&#xA;&#xA;#include &amp;lt;System.hpp&amp;gt;&#xA;class TBaseAuth&#xA;{&#xA;public:&#xA;    virtual void TestMessage() = 0;&#xA;};&#xA;#endif // BaseAuthH&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Auth.h file :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//---------------------------------------------------------------------------&#xA;#ifndef AuthH&#xA;#define AuthH&#xA;//---------------------------------------------------------------------------&#xA;#include &quot;BaseAuth.h&quot;&#xA;class TAuth : public TBaseAuth&#xA;{&#xA;public:&#xA;    TAuth();&#xA;    ~TAuth();   &#xA;    void TestMessage();&#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Auth.cpp file :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//---------------------------------------------------------------------------&#xA;#pragma hdrstop&#xA;#include &quot;Auth.h&quot;&#xA;//---------------------------------------------------------------------------&#xA;#pragma package(smart_init)&#xA;TAuth::TAuth()&#xA;{&#xA;}&#xA;TAuth::~TAuth()&#xA;{&#xA;}&#xA;void TAuth::TestMessage()&#xA;{&#xA;    MessageBox(0, &quot;Test message&quot;, &quot;Test&quot;, MB_OK);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and File1.cpp :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#pragma hdrstop&#xA;#pragma argsused&#xA;&#xA;#include &quot;Auth.h&quot;&#xA;extern &quot;C&quot; __declspec(dllexport) void* __stdcall GetClassInstance()&#xA;{&#xA;    return static_cast&amp;lt;void*&amp;gt;(new TAuth());&#xA;}&#xA;extern &quot;C&quot; int _libmain(unsigned long reason)&#xA;{&#xA;    return 1;&#xA;}    &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now in the test application I have :&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;p&gt;the same BaseAuth.h file&lt;/p&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;a form with a Button :&lt;/p&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;Test_DLLAuthOrga.h :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef Test_DLLAuthOrgaH&#xA;#define Test_DLLAuthOrgaH&#xA;//---------------------------------------------------------------------------&#xA;#include &amp;lt;System.Classes.hpp&amp;gt;&#xA;#include &amp;lt;Vcl.Controls.hpp&amp;gt;&#xA;#include &amp;lt;Vcl.StdCtrls.hpp&amp;gt;&#xA;#include &amp;lt;Vcl.Forms.hpp&amp;gt;&#xA;//---------------------------------------------------------------------------&#xA;#include &quot;BaseAuth.h&quot;&#xA;//---------------------------------------------------------------------------&#xA;class TForm1 : public TForm&#xA;{&#xA;__published:    // Composants gérés par l'EDI&#xA;    TButton *Button2;&#xA;    void __fastcall Button2Click(TObject *Sender);&#xA;private:    // Déclarations utilisateur&#xA;    TBaseAuth *mpAuth;&#xA;public:     // Déclarations utilisateur&#xA;    __fastcall TForm1(TComponent* Owner);&#xA;};&#xA;//---------------------------------------------------------------------------&#xA;extern PACKAGE TForm1 *Form1;&#xA;//---------------------------------------------------------------------------&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Test_DLLAuthOrga.cpp :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//---------------------------------------------------------------------------&#xA;#include &amp;lt;vcl.h&amp;gt;&#xA;#pragma hdrstop&#xA;#include &quot;Test_DLLAuthOrga.h&quot;&#xA;#include &quot;BaseAuth.h&quot;&#xA;//---------------------------------------------------------------------------&#xA;#pragma package(smart_init)&#xA;#pragma resource &quot;*.dfm&quot;&#xA;TForm1 *Form1;&#xA;//---------------------------------------------------------------------------&#xA;const wchar_t* library = L&quot;DLLAuthOrga.dll&quot;;&#xA;extern &quot;C&quot; __declspec(dllimport) void* __stdcall GetClassInstance();&#xA;//---------------------------------------------------------------------------&#xA;__fastcall TForm1::TForm1(TComponent* Owner) : TForm(Owner)&#xA;{&#xA;    HINSTANCE load;&#xA;    try&#xA;    { load = LoadLibrary(library); }&#xA;    catch(Exception &amp;amp;e)&#xA;    { ShowMessage(e.Message); }&#xA;    if (load)&#xA;    {&#xA;        ShowMessage(&quot;Library Loaded!&quot;);&#xA;        void *myFunc;&#xA;        myFunc = (void *)GetProcAddress(load, &quot;GetClassInstance&quot;);&#xA;        mpAuth = (AuthParent*)myFunc;&#xA;    }&#xA;    else { ShowMessage(&quot;Library not loaded!&quot;); }&#xA;}&#xA;//---------------------------------------------------------------------------&#xA;void __fastcall TForm1::Button1Click(TObject *Sender)&#xA;{&#xA;    if (mpAuth == NULL) return;&#xA;    try { pRes = mpAuth-&amp;gt;TestMessage(); }&#xA;    catch(Exception &amp;amp;e) { ShowMessage(e.Message); return; }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The result is :&lt;/p&gt;&#xA;&#xA;&lt;p&gt;the pointer mpAuth has an adress.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;But its methods have no adress, and when I call a simple method such as &quot;void TestMessage()&quot;, it raises an access violation.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;=&gt; It first seemed to be a question of string compatibility (but between &quot;C++ Builder XE3&quot; and &quot;C++ Builder XE3&quot; I would expect the same string format to be used ?!) : &lt;a href=&quot;http://stackoverflow.com/questions/15442062/error-calling-dll-with-unicode-delphi&quot;&gt;Error calling DLL with Unicode Delphi&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;=&gt; I found a similar issue but with C++ DLL into Delphi, not C++ DLL into C++ ... : &lt;a href=&quot;http://stackoverflow.com/questions/7847466/call-c-dll-in-delphi-app?rq=1&quot;&gt;Call C++ DLL in Delphi app&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;=&gt; I tried using &quot;HMODULE&quot; instead of &quot;HINSTANCE load;&quot; : same result.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;=&gt; I tried without success using&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;mpAuth = static_cast&amp;lt;AuthParent*&amp;gt;(myFunc);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;instead of :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;mpAuth = (AuthParent*)myFunc;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;=&gt; I also tried replacing &quot;_&lt;em&gt;stdcall&quot; by &quot;&lt;/em&gt;_cdecl&quot; or &quot;&quot; (removing) : the libray loads but GetProcAdress returns NULL. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;=&gt; What am I doing wrong in attempting to call the DLL's method &quot;TestMessage()&quot; ?&lt;/p&gt;&#xA;" OwnerUserId="706318" LastEditorUserId="5513684" LastEditDate="2016-01-12T05:30:39.903" LastActivityDate="2016-01-12T05:30:39.903" Title="Importing an Embarcadero C++ Builder XE3 DLL into Embarcadero C++ Builder XE3" Tags="&lt;dll&gt;&lt;c++builder&gt;&lt;stdcall&gt;&lt;c++builder-xe&gt;&lt;getprocaddress&gt;" AnswerCount="1" CommentCount="2" />
  <row Id="15629131" PostTypeId="1" AcceptedAnswerId="15629166" CreationDate="2013-03-26T03:55:45.873" Score="-2" ViewCount="84" Body="&lt;p&gt;Below are my code. I have 3 friend functions:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;#ifndef   MATRIX_H&#xA;#define  MATRIX_H&#xA;class Matrix&#xA;    {&#xA;    friend Matrix operator++(Matrix&amp;amp;);&#xA;    friend Matrix operator--(Matrix&amp;amp;);&#xA;    friend ostream&amp;amp; operator&amp;lt;&amp;lt;(ostream&amp;amp;, Matrix&amp;amp;);&#xA;    private:&#xA;        int dim;&#xA;        int** mat;&#xA;    public:&#xA;        Matrix(int d);&#xA;        void set(int, int, int);&#xA;        int get(int, int);&#xA;        Matrix operator+(Matrix&amp;amp;);&#xA;        Matrix operator-(Matrix&amp;amp;);&#xA;        Matrix operator*(Matrix&amp;amp;);&#xA;        ~Matrix();&#xA;    };&#xA;&#xA;Matrix operator++(Matrix &amp;amp;m)&#xA;    {&#xA;    for (int i = 0; i &amp;lt; m.dim; i++)&#xA;        {&#xA;        for (int j = 0; j &amp;lt; m.dim; j++)&#xA;            {&#xA;            int val = m.get(i,j);&#xA;            m.set(i,j,++val);&#xA;            }&#xA;        }&#xA;    return m;&#xA;    }&#xA;&#xA;Matrix operator--(Matrix &amp;amp;m)&#xA;    {&#xA;    for (int i = 0; i &amp;lt; m.dim; i++)&#xA;        {&#xA;        for (int j = 0; j &amp;lt; m.dim; j++)&#xA;            {&#xA;            int val = m.get(i,j);&#xA;            m.set(i,j,--val);&#xA;            }&#xA;        }&#xA;    return m;&#xA;    }&#xA;&#xA;ostream&amp;amp; operator&amp;lt;&amp;lt;(ostream &amp;amp;os, Matrix &amp;amp;m)&#xA;    {&#xA;    for (int i = 0; i &amp;lt; m.dim; i++)&#xA;        {&#xA;        for (int j = 0; j &amp;lt; m.dim; j++)&#xA;            {&#xA;            os &amp;lt;&amp;lt; m.get(i,j) &amp;lt;&amp;lt; ' ';&#xA;            }&#xA;        os&amp;lt;&amp;lt;endl;&#xA;        }&#xA;    return os;&#xA;    }&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It's not complaining in either of them about &quot;m.get(i,j)&quot;, which I believe is a public function...it's complaining about &quot;m.dim&quot;, saying it's not accessible, in operator &amp;lt;&amp;lt;, but not in the first two. Why??&lt;/p&gt;&#xA;" OwnerUserId="1447343" LastActivityDate="2013-03-26T04:00:26.517" Title="How come my friend functions can access public stuff?" Tags="&lt;c++&gt;&lt;overloading&gt;&lt;friend&gt;" AnswerCount="1" CommentCount="5" />
  <row Id="15794296" PostTypeId="1" CreationDate="2013-04-03T17:41:26.470" Score="0" ViewCount="206" Body="&lt;p&gt;I am very new to programming, and I am working with the C++ language. This is for my homework, and is using binary search trees. What I am trying to do is create a function called find_node, which later then calls a function called delete_node. This is what the teacher gave as a prompt for the find_node function.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Prompt from professor:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Add &lt;code&gt;void find_node( const T &amp;amp;val )&lt;/code&gt;&#xA;      method to the class Node to find the node that contains val;&#xA;         if you do not find, there is nothing to do&#xA;         if you find it and p is Node * that points to it,&#xA;            delete p by calling &lt;code&gt;delete_node( Node&amp;lt; T &amp;gt; *&amp;amp;p )&lt;/code&gt;. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;void delete_node( Node&amp;lt; T &amp;gt; *&amp;amp;p )&lt;/code&gt;&#xA;      method to remove node p from a binary tree&lt;/p&gt;&#xA;&#xA;&lt;p&gt;File given by professor&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;btree.h&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include    &amp;lt;iostream&amp;gt;&#xA;#include    &quot;node.h&quot;&#xA;//using namespace std;&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;class BinaryTree {&#xA;  public:&#xA;BinaryTree( );&#xA;~BinaryTree( );&#xA;void insert( const elemType &amp;amp; );&#xA;void remove( const elemType &amp;amp; );&#xA;void inorder( );&#xA;bool empty( );&#xA;void clear( );&#xA;&#xA;private:&#xA;Node&amp;lt; elemType &amp;gt;    *_root;&#xA;&#xA;BinaryTree( const BinaryTree &amp;amp; );&#xA;BinaryTree &amp;amp;operator =( const BinaryTree &amp;amp; );&#xA;void clear( Node&amp;lt; elemType &amp;gt; * );&#xA;};&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline BinaryTree&amp;lt; elemType &amp;gt;::BinaryTree( ) : _root(0)&#xA;{&#xA;    cout &amp;lt;&amp;lt; &quot;BinaryTree::BinaryTree() &quot;&#xA;       &amp;lt;&amp;lt; &quot;default constructor\n&quot;;&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline BinaryTree&amp;lt; elemType &amp;gt;::~BinaryTree( )&#xA;{&#xA;   cout &amp;lt;&amp;lt; &quot;BinaryTree::~BinaryTree() destructor\n&quot;;&#xA;   clear( );&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::clear( )&#xA;{&#xA;   if( _root )&#xA;   {&#xA;      clear( _root );&#xA;      _root = 0;&#xA;   }&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::clear( Node&amp;lt; elemType &amp;gt; *pt )&#xA;{&#xA;   if( pt ) {&#xA;      cout &amp;lt;&amp;lt; &quot;clear( ) left of  &quot;  &amp;lt;&amp;lt; pt-&amp;gt;value( ) &amp;lt;&amp;lt; '\n';&#xA;      clear( pt-&amp;gt;left( ) );&#xA;      cout &amp;lt;&amp;lt; &quot;clear( ) right of &quot; &amp;lt;&amp;lt; pt-&amp;gt;value( ) &amp;lt;&amp;lt; '\n';&#xA;      clear( pt-&amp;gt;right( ) );&#xA;      delete pt;&#xA;    }&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::insert( const elemType &amp;amp;e )&#xA;{&#xA;   if( !_root )&#xA;   {&#xA;      _root = new Node&amp;lt; elemType &amp;gt;( e );&#xA;   }&#xA;   else&#xA;   {&#xA;      _root-&amp;gt;insert_value( e );&#xA;   }&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::remove( const elemType &amp;amp;e )&#xA;{&#xA;  _root-&amp;gt;find_node( _root, e );&#xA;}&#xA;&#xA;template &amp;lt; typename elemType&amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::inorder( )&#xA;{&#xA;   _root-&amp;gt;inorder( _root );&#xA;   cout &amp;lt;&amp;lt; '\n';&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Given by professor, but is the file I have to add the 2 methods to from the prompt&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;node.h&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef     NODE_H&#xA;&#xA;#define     NODE_H&#xA;&#xA;#include    &amp;lt;string&amp;gt;&#xA;&#xA;using namespace std;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;class Node&#xA;{&#xA;  public:&#xA;      Node( const T &amp;amp;);&#xA;&#xA;      T  value( )  const;&#xA;      T  value( const T &amp;amp; );&#xA;&#xA;      void insert_value( const T &amp;amp; );&#xA;      void inorder( const Node * );&#xA;      void find_node( const T &amp;amp;val, const T* root );&#xA;    //bool find_node( const T &amp;amp;val, Node &amp;lt; T &amp;gt; *node) const;&#xA;      void delete_node( Node&amp;lt; T &amp;gt; *&amp;amp;p );&#xA;&#xA;      Node *  left ( ) const;&#xA;      Node *  left ( Node * );&#xA;      Node *  right( ) const;&#xA;      Node *  right( Node * );&#xA;&#xA;   private:&#xA;      T       _value;&#xA;      Node *  _left;&#xA;      Node *  _right;&#xA;      Node&amp;lt; T &amp;gt; * root; //point to root node&#xA;      Node::Node( const Node &amp;amp; );&#xA;      Node &amp;amp;operator =( const Node &amp;amp; );&#xA;&#xA;&#xA;&#xA;};&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt;::Node( const T &amp;amp;rhs )&#xA;{&#xA;   _value = rhs;                       // assign rhs to _value&#xA;   _left  =  _right = 0;               // node is not part of a tree yet&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline T Node&amp;lt; T &amp;gt;::value( ) const&#xA;{&#xA;   return _value;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline T Node&amp;lt; T &amp;gt;::value( const T &amp;amp;rhs )&#xA;{&#xA;   _value = rhs;                       // new value for _value&#xA;   return _value;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt; *Node&amp;lt; T &amp;gt;::left( ) const&#xA;{&#xA;   return _left;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt; *Node&amp;lt; T &amp;gt;::left( Node&amp;lt; T &amp;gt; *rhs )&#xA;{&#xA;   _left = rhs;&#xA;&#xA;   return _left;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt; *Node&amp;lt; T &amp;gt;::right( ) const&#xA;{&#xA;   return _right;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt; *Node&amp;lt; T &amp;gt;::right( Node&amp;lt; T &amp;gt; *rhs )&#xA;{&#xA;   _right = rhs;&#xA;   return _right;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline void Node&amp;lt; T &amp;gt;::insert_value( const T &amp;amp;val )&#xA;{&#xA;    if( val == _value )&#xA;{&#xA;    return;                     // value already in the tree&#xA;}&#xA;if( val &amp;lt; _value )              // val should appear at the left&#xA;{&#xA;    if( ! _left )               // no left subtree ?&#xA;    {                           // add new node here&#xA;        _left = new Node( val );&#xA;    }&#xA;    else                        // try the subtree&#xA;    {&#xA;        _left-&amp;gt;insert_value( val );&#xA;    }&#xA;}&#xA;else                            // val should appear at the right&#xA;{&#xA;    if( ! _right )              // no right subtree ?&#xA;    {                           // add new node here&#xA;        _right = new Node( val );&#xA;    }&#xA;    else                        // try the subtree&#xA;    {&#xA;        _right-&amp;gt;insert_value( val );&#xA;    }&#xA;  }&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline void Node&amp;lt; T &amp;gt;::inorder( const Node&amp;lt; T &amp;gt; *pt )&#xA;{&#xA;   if( pt )&#xA;   {&#xA;      inorder( pt-&amp;gt;_left );&#xA;      cout &amp;lt;&amp;lt; std::hex &amp;lt;&amp;lt; pt-&amp;gt;_left &amp;lt;&amp;lt; std::dec &amp;lt;&amp;lt; '\t';&#xA;      cout &amp;lt;&amp;lt; std::hex &amp;lt;&amp;lt; pt &amp;lt;&amp;lt; std::dec &amp;lt;&amp;lt; '\t';&#xA;      cout &amp;lt;&amp;lt; std::hex &amp;lt;&amp;lt; pt-&amp;gt;_right &amp;lt;&amp;lt; std::dec &amp;lt;&amp;lt; '\t';&#xA;      cout &amp;lt;&amp;lt; pt-&amp;gt;_value &amp;lt;&amp;lt; '\n';&#xA;      inorder( pt-&amp;gt;_right );&#xA;   }&#xA;}&#xA;&#xA;&#xA;template &amp;lt;typename T&amp;gt;&#xA;Node&amp;lt;T&amp;gt; const * find_node(const T &amp;amp;val)&#xA;{&#xA;   Node&amp;lt;T&amp;gt; const * curr = root;&#xA;   while( curr != 0 )&#xA;   {&#xA;      if (val == curr -&amp;gt; _value)  {&#xA;       break;&#xA;    }&#xA;    else if (val &amp;lt; curr -&amp;gt; _value) {&#xA;        curr = curr -&amp;gt; _left;&#xA;    |&#xA;    else {&#xA;        curr = curr -&amp;gt; _right;&#xA;    }&#xA;}&#xA;return curr;&#xA;}&#xA;}&#xA;&#xA;template &amp;lt;typename T &amp;gt;&#xA;inline void find_node( const T &amp;amp; val, const T * root ) {&#xA;Node&amp;lt;T&amp;gt; const * ptrFoundNode = find_node_pointer( val, root );&#xA;if( ptrFoundNode ) {&#xA;    delete_node( ptrFoundNode, root );&#xA;  }&#xA;}&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline void Node&amp;lt; T &amp;gt;::delete_node(Node &amp;lt; T &amp;gt; *&amp;amp;p)&#xA;{&#xA;&#xA;Node&amp;lt;T&amp;gt; *curr, *prev, *temp;&#xA;   if (p == NULL) return;&#xA;   if (p-&amp;gt;_left == NULL &amp;amp;&amp;amp; p-&amp;gt;_right == NULL) {&#xA;    // no children - easy&#xA;    // *** if allowing counted duplicates:&#xA;    // ***    if (p-&amp;gt;getCount() &amp;gt; 1) (*p)--;&#xA;    // ***    else {&#xA;       temp = p;&#xA;       p = NULL;&#xA;       delete temp;&#xA;    }&#xA; else if (p-&amp;gt;_left == NULL) {&#xA;    // only a right child - still easy&#xA;    // *** if allowing counted duplicates:&#xA;    // ***    if (p-&amp;gt;getCount() &amp;gt; 1) (*p)--;&#xA;    // ***    else {&#xA;       temp = p;&#xA;       p = temp-&amp;gt;_right;&#xA;       delete temp;&#xA;    }&#xA; else if (p-&amp;gt;_right == NULL) {&#xA;    // only a left child - still easy&#xA;    // *** if allowing counted duplicates:&#xA;    // ***    if (p-&amp;gt;getCount() &amp;gt; 1) (*p)--;&#xA;    // ***    else {&#xA;       temp = p;&#xA;       p = temp-&amp;gt;_left;&#xA;       delete temp;&#xA;    }&#xA; else {&#xA;    // two children - this is the hard case&#xA;    // use successor: once right, then as far left as possible&#xA;    // *** if allowing counted duplicates:&#xA;    // ***    if (p-&amp;gt;getCount() &amp;gt; 1) (*p)--;&#xA;    // ***    else {&#xA;       curr = p-&amp;gt;_right;&#xA;       prev = NULL;&#xA;       while (curr-&amp;gt;_left != NULL) {&#xA;           prev = curr;&#xA;           curr = curr-&amp;gt;left;&#xA;       }&#xA;       p-&amp;gt;data = curr-&amp;gt;data;&#xA;       if (prev == NULL) p-&amp;gt;_right = curr-&amp;gt;_right;&#xA;       else prev-&amp;gt;_left = curr-&amp;gt;_right;&#xA;&#xA;       delete curr;&#xA;   }&#xA;}&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2241603" LastEditorUserId="2241603" LastEditDate="2013-04-03T19:00:10.057" LastActivityDate="2013-04-03T19:00:10.057" Title="Modifying Binary Search to Find then Delete" Tags="&lt;c++&gt;&lt;binary-search-tree&gt;" AnswerCount="1" CommentCount="5" />
  <row Id="15800178" PostTypeId="1" CreationDate="2013-04-03T23:44:00.260" Score="1" ViewCount="610" Body="&lt;p&gt;I am doing homework and I am try to implement some binary search tree functions. I am also very new to programming, and do not have much experience with programming. I have the functions written out, but I am tring to figure out the error that I am receiving. The error that I am receiving is &lt;code&gt;btree.h(76): error C2664: 'Node&amp;lt;T&amp;gt;::find_node' : cannot convert parameter 1 from 'Node&amp;lt;T&amp;gt; *' to 'const int &amp;amp;'&#xA;          with&#xA;          [&#xA;              T=int&#xA;          ]&#xA;          Reason: cannot convert from 'Node&amp;lt;T&amp;gt; *' to 'const int'&#xA;          with&#xA;          [&#xA;              T=int&#xA;          ]&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the reason why I put the cpp files as well. Get an error in the cpp files as well. All files were provided by my professor. I only had to add 2 methods to node.h, and that was it. This is the error in the cpp file tree2.cpp&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;tree2.cpp(28) : see reference to class template instantiation 'BinaryTree&amp;lt;elemType&amp;gt;' being compiled&#xA;          with&#xA;          [&#xA;             elemType=int&#xA;         ]&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If anyone could help out explain how to fix the error with suggestions would be great. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;btree.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include    &amp;lt;iostream&amp;gt;&#xA;#include    &quot;node.h&quot;&#xA;//using namespace std;&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;class BinaryTree {&#xA;  public:&#xA;BinaryTree( );&#xA;~BinaryTree( );&#xA;void insert( const elemType &amp;amp; );&#xA;void remove( const elemType &amp;amp; );&#xA;void inorder( );&#xA;bool empty( );&#xA;void clear( );&#xA;&#xA;private:&#xA;Node&amp;lt; elemType &amp;gt;    *_root;&#xA;&#xA;BinaryTree( const BinaryTree &amp;amp; );&#xA;BinaryTree &amp;amp;operator =( const BinaryTree &amp;amp; );&#xA;void clear( Node&amp;lt; elemType &amp;gt; * );&#xA;};&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline BinaryTree&amp;lt; elemType &amp;gt;::BinaryTree( ) : _root(0)&#xA;{&#xA;    cout &amp;lt;&amp;lt; &quot;BinaryTree::BinaryTree() &quot;&#xA;       &amp;lt;&amp;lt; &quot;default constructor\n&quot;;&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline BinaryTree&amp;lt; elemType &amp;gt;::~BinaryTree( )&#xA;{&#xA;   cout &amp;lt;&amp;lt; &quot;BinaryTree::~BinaryTree() destructor\n&quot;;&#xA;   clear( );&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::clear( )&#xA;{&#xA;   if( _root )&#xA;   {&#xA;      clear( _root );&#xA;      _root = 0;&#xA;   }&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::clear( Node&amp;lt; elemType &amp;gt; *pt )&#xA;{&#xA;   if( pt ) {&#xA;      cout &amp;lt;&amp;lt; &quot;clear( ) left of  &quot;  &amp;lt;&amp;lt; pt-&amp;gt;value( ) &amp;lt;&amp;lt; '\n';&#xA;      clear( pt-&amp;gt;left( ) );&#xA;      cout &amp;lt;&amp;lt; &quot;clear( ) right of &quot; &amp;lt;&amp;lt; pt-&amp;gt;value( ) &amp;lt;&amp;lt; '\n';&#xA;      clear( pt-&amp;gt;right( ) );&#xA;      delete pt;&#xA;    }&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::insert( const elemType &amp;amp;e )&#xA;{&#xA;   if( !_root )&#xA;   {&#xA;      _root = new Node&amp;lt; elemType &amp;gt;( e );&#xA;   }&#xA;   else&#xA;   {&#xA;      _root-&amp;gt;insert_value( e );&#xA;   }&#xA;}&#xA;&#xA;template &amp;lt; typename elemType &amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::remove( const elemType &amp;amp;e )&#xA;{&#xA;  _root-&amp;gt;find_node( _root, e );&#xA;}&#xA;&#xA;template &amp;lt; typename elemType&amp;gt;&#xA;inline void BinaryTree&amp;lt; elemType &amp;gt;::inorder( )&#xA;{&#xA;   _root-&amp;gt;inorder( _root );&#xA;   cout &amp;lt;&amp;lt; '\n';&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;node.h&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef     NODE_H&#xA;&#xA;#define     NODE_H&#xA;&#xA;#include    &amp;lt;string&amp;gt;&#xA;&#xA;using namespace std;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;class Node&#xA;{&#xA;  public:&#xA;      Node( const T &amp;amp;);&#xA;&#xA;      T  value( )  const;&#xA;      T  value( const T &amp;amp; );&#xA;&#xA;      void insert_value( const T &amp;amp; );&#xA;      void inorder( const Node * );&#xA;      void find_node( const T &amp;amp;val, const T* root );&#xA;    //bool find_node( const T &amp;amp;val, Node &amp;lt; T &amp;gt; *node) const;&#xA;      void delete_node( Node&amp;lt; T &amp;gt; *&amp;amp;p );&#xA;&#xA;      Node *  left ( ) const;&#xA;      Node *  left ( Node * );&#xA;      Node *  right( ) const;&#xA;      Node *  right( Node * );&#xA;&#xA;   private:&#xA;      T       _value;&#xA;      Node *  _left;&#xA;      Node *  _right;&#xA;      Node&amp;lt; T &amp;gt; * root; //point to root node&#xA;      Node::Node( const Node &amp;amp; );&#xA;      Node &amp;amp;operator =( const Node &amp;amp; );&#xA;&#xA;&#xA;&#xA;};&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt;::Node( const T &amp;amp;rhs )&#xA;{&#xA;   _value = rhs;                       // assign rhs to _value&#xA;   _left  =  _right = 0;               // node is not part of a tree yet&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline T Node&amp;lt; T &amp;gt;::value( ) const&#xA;{&#xA;   return _value;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline T Node&amp;lt; T &amp;gt;::value( const T &amp;amp;rhs )&#xA;{&#xA;   _value = rhs;                       // new value for _value&#xA;   return _value;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt; *Node&amp;lt; T &amp;gt;::left( ) const&#xA;{&#xA;   return _left;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt; *Node&amp;lt; T &amp;gt;::left( Node&amp;lt; T &amp;gt; *rhs )&#xA;{&#xA;   _left = rhs;&#xA;&#xA;   return _left;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt; *Node&amp;lt; T &amp;gt;::right( ) const&#xA;{&#xA;   return _right;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline Node&amp;lt; T &amp;gt; *Node&amp;lt; T &amp;gt;::right( Node&amp;lt; T &amp;gt; *rhs )&#xA;{&#xA;   _right = rhs;&#xA;   return _right;&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline void Node&amp;lt; T &amp;gt;::insert_value( const T &amp;amp;val )&#xA;{&#xA;    if( val == _value )&#xA;{&#xA;    return;                     // value already in the tree&#xA;}&#xA;if( val &amp;lt; _value )              // val should appear at the left&#xA;{&#xA;    if( ! _left )               // no left subtree ?&#xA;    {                           // add new node here&#xA;        _left = new Node( val );&#xA;    }&#xA;    else                        // try the subtree&#xA;    {&#xA;        _left-&amp;gt;insert_value( val );&#xA;    }&#xA;}&#xA;else                            // val should appear at the right&#xA;{&#xA;    if( ! _right )              // no right subtree ?&#xA;    {                           // add new node here&#xA;        _right = new Node( val );&#xA;    }&#xA;    else                        // try the subtree&#xA;    {&#xA;        _right-&amp;gt;insert_value( val );&#xA;    }&#xA;  }&#xA;}&#xA;&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline void Node&amp;lt; T &amp;gt;::inorder( const Node&amp;lt; T &amp;gt; *pt )&#xA;{&#xA;   if( pt )&#xA;   {&#xA;      inorder( pt-&amp;gt;_left );&#xA;      cout &amp;lt;&amp;lt; std::hex &amp;lt;&amp;lt; pt-&amp;gt;_left &amp;lt;&amp;lt; std::dec &amp;lt;&amp;lt; '\t';&#xA;      cout &amp;lt;&amp;lt; std::hex &amp;lt;&amp;lt; pt &amp;lt;&amp;lt; std::dec &amp;lt;&amp;lt; '\t';&#xA;      cout &amp;lt;&amp;lt; std::hex &amp;lt;&amp;lt; pt-&amp;gt;_right &amp;lt;&amp;lt; std::dec &amp;lt;&amp;lt; '\t';&#xA;      cout &amp;lt;&amp;lt; pt-&amp;gt;_value &amp;lt;&amp;lt; '\n';&#xA;      inorder( pt-&amp;gt;_right );&#xA;   }&#xA;}&#xA;&#xA;&#xA;template &amp;lt;typename T&amp;gt;&#xA;Node&amp;lt;T&amp;gt; const * find_node(const T &amp;amp;val)&#xA;{&#xA;   Node&amp;lt;T&amp;gt; const * curr = root;&#xA;   while( curr != 0 )&#xA;   {&#xA;      if (val == curr -&amp;gt; _value)  {&#xA;       break;&#xA;    }&#xA;    else if (val &amp;lt; curr -&amp;gt; _value) {&#xA;        curr = curr -&amp;gt; _left;&#xA;    |&#xA;    else {&#xA;        curr = curr -&amp;gt; _right;&#xA;    }&#xA;}&#xA;return curr;&#xA;}&#xA;}&#xA;&#xA;template &amp;lt;typename T &amp;gt;&#xA;inline void find_node( const T &amp;amp; val, const T * root ) {&#xA;Node&amp;lt;T&amp;gt; const * ptrFoundNode = find_node_pointer( val, root );&#xA;if( ptrFoundNode ) {&#xA;    delete_node( ptrFoundNode, root );&#xA;  }&#xA;}&#xA;&#xA;template&amp;lt; typename T &amp;gt;&#xA;inline void Node&amp;lt; T &amp;gt;::delete_node(Node &amp;lt; T &amp;gt; *&amp;amp;p)&#xA;{&#xA;&#xA;Node&amp;lt;T&amp;gt; *curr, *prev, *temp;&#xA;   if (p == NULL) return;&#xA;   if (p-&amp;gt;_left == NULL &amp;amp;&amp;amp; p-&amp;gt;_right == NULL) {&#xA;    // no children - easy&#xA;    // *** if allowing counted duplicates:&#xA;    // ***    if (p-&amp;gt;getCount() &amp;gt; 1) (*p)--;&#xA;    // ***    else {&#xA;       temp = p;&#xA;       p = NULL;&#xA;       delete temp;&#xA;    }&#xA; else if (p-&amp;gt;_left == NULL) {&#xA;    // only a right child - still easy&#xA;    // *** if allowing counted duplicates:&#xA;    // ***    if (p-&amp;gt;getCount() &amp;gt; 1) (*p)--;&#xA;    // ***    else {&#xA;       temp = p;&#xA;       p = temp-&amp;gt;_right;&#xA;       delete temp;&#xA;    }&#xA; else if (p-&amp;gt;_right == NULL) {&#xA;    // only a left child - still easy&#xA;    // *** if allowing counted duplicates:&#xA;    // ***    if (p-&amp;gt;getCount() &amp;gt; 1) (*p)--;&#xA;    // ***    else {&#xA;       temp = p;&#xA;       p = temp-&amp;gt;_left;&#xA;       delete temp;&#xA;    }&#xA; else {&#xA;    // two children - this is the hard case&#xA;    // use successor: once right, then as far left as possible&#xA;    // *** if allowing counted duplicates:&#xA;    // ***    if (p-&amp;gt;getCount() &amp;gt; 1) (*p)--;&#xA;    // ***    else {&#xA;       curr = p-&amp;gt;_right;&#xA;       prev = NULL;&#xA;       while (curr-&amp;gt;_left != NULL) {&#xA;           prev = curr;&#xA;           curr = curr-&amp;gt;left;&#xA;       }&#xA;       p-&amp;gt;data = curr-&amp;gt;data;&#xA;       if (prev == NULL) p-&amp;gt;_right = curr-&amp;gt;_right;&#xA;       else prev-&amp;gt;_left = curr-&amp;gt;_right;&#xA;&#xA;       delete curr;&#xA;   }&#xA;}&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;tree2.cpp&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include    &quot;btree.h&quot;&#xA;#include    &amp;lt;fstream&amp;gt;&#xA;#include    &amp;lt;string&amp;gt;&#xA;&#xA;using namespace std;&#xA;&#xA;&#xA;ifstream get_ifs( )                             // get input file stream&#xA;{&#xA;   string filename;                            // input file name&#xA;&#xA;   cerr &amp;lt;&amp;lt; &quot;name of file to read from? &quot;;&#xA;   cin  &amp;gt;&amp;gt; filename;&#xA;&#xA;   ifstream ifs( filename, ifstream::in );&#xA;   if( ! ifs )                                 // cannot open file infilen&#xA;   {&#xA;      cerr &amp;lt;&amp;lt; &quot;cannot open input file '&quot; &amp;lt;&amp;lt; filename &amp;lt;&amp;lt; &quot;'\n&quot;;&#xA;      exit( 1 );&#xA;   }&#xA;&#xA;   return ifs;                                 // return input file stream&#xA;}&#xA;&#xA;&#xA;int main()&#xA;{&#xA;   BinaryTree&amp;lt; int &amp;gt; bt;&#xA;&#xA;   bt.insert( 30 );&#xA;   bt.insert( 20 );&#xA;   bt.insert( 40 );&#xA;   bt.insert( 50 );&#xA;   bt.insert( 10 );&#xA;   bt.insert( 15 );&#xA;   bt.insert( 35 );&#xA;&#xA;   cout &amp;lt;&amp;lt; &quot;inorder traversal:\n&quot;;&#xA;   bt.inorder( );&#xA;&#xA;   ifstream ifs = get_ifs( );&#xA;&#xA;   string cmd;&#xA;   int    value;&#xA;&#xA;   while( ifs &amp;gt;&amp;gt; cmd )&#xA;   {&#xA;      ifs &amp;gt;&amp;gt; value;&#xA;&#xA;      cout &amp;lt;&amp;lt; cmd &amp;lt;&amp;lt; '\t' &amp;lt;&amp;lt; value &amp;lt;&amp;lt; '\n';&#xA;&#xA;      if( cmd == &quot;a&quot; )&#xA;      {&#xA;          bt.insert( value );&#xA;      }&#xA;      else if( cmd == &quot;d&quot; )&#xA;      {&#xA;          bt.remove( value );&#xA;       }&#xA;      else&#xA;      {&#xA;          cout &amp;lt;&amp;lt; &quot;invalid command '&quot; &amp;lt;&amp;lt; cmd &amp;lt;&amp;lt; &quot;' ignored...\n\n&quot;;&#xA;      }&#xA;&#xA;      bt.inorder( );&#xA;      cout &amp;lt;&amp;lt; '\n';&#xA;   }&#xA;&#xA;   return 0;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;tree1.cpp&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include    &quot;btree.h&quot;&#xA;#include    &amp;lt;fstream&amp;gt;&#xA;#include    &amp;lt;string&amp;gt;&#xA;&#xA;using namespace std;&#xA;&#xA;&#xA;ifstream get_ifs( )                             // get input file stream&#xA;{&#xA;   string filename;                            // input file name&#xA;&#xA;   cerr &amp;lt;&amp;lt; &quot;name of file to read from? &quot;;&#xA;   cin  &amp;gt;&amp;gt; filename;&#xA;&#xA;   ifstream ifs( filename, ifstream::in );&#xA;   if( ! ifs )                                 // cannot open file infilen&#xA;   {&#xA;      cerr &amp;lt;&amp;lt; &quot;cannot open input file '&quot; &amp;lt;&amp;lt; filename &amp;lt;&amp;lt; &quot;'\n&quot;;&#xA;      exit( 1 );&#xA;   }&#xA;&#xA;   return ifs;                                 // return input file stream&#xA;}&#xA;&#xA;&#xA;int main()&#xA;{&#xA;   BinaryTree&amp;lt; string &amp;gt; bt;&#xA;&#xA;   bt.insert( &quot;Florida&quot; );&#xA;   bt.insert( &quot;California&quot; );&#xA;   bt.insert( &quot;Alabama&quot; );&#xA;   bt.insert( &quot;Mississippi&quot; );&#xA;   bt.insert( &quot;Georgia&quot; );&#xA;   bt.insert( &quot;Colorado&quot; );&#xA;   bt.insert( &quot;Idaho&quot; );&#xA;   bt.insert( &quot;Missouri&quot; );&#xA;   bt.insert( &quot;New York&quot; );&#xA;&#xA;   cout &amp;lt;&amp;lt; &quot;inorder traversal:\n&quot;;&#xA;   bt.inorder( );&#xA;&#xA;   ifstream ifs = get_ifs( );&#xA;&#xA;   string cmd, value;&#xA;   while( ifs &amp;gt;&amp;gt; cmd )&#xA;   {&#xA;      ifs &amp;gt;&amp;gt; value;&#xA;&#xA;      cout &amp;lt;&amp;lt; cmd &amp;lt;&amp;lt; '\t' &amp;lt;&amp;lt; value &amp;lt;&amp;lt; '\n';&#xA;&#xA;      if( cmd == &quot;a&quot; )&#xA;      {&#xA;          bt.insert( value );&#xA;      }&#xA;      else if( cmd == &quot;d&quot; )&#xA;      {&#xA;          bt.remove( value );&#xA;      }&#xA;      else&#xA;      {&#xA;          cout &amp;lt;&amp;lt; &quot;invalid command '&quot; &amp;lt;&amp;lt; cmd &amp;lt;&amp;lt; &quot;' ignored...\n\n&quot;;&#xA;      }&#xA;&#xA;      bt.inorder( );&#xA;      cout &amp;lt;&amp;lt; '\n';&#xA;   }&#xA;&#xA;   return 0;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2241603" LastEditorUserId="2241603" LastEditDate="2013-04-04T00:11:39.390" LastActivityDate="2013-04-04T00:38:40.330" Title="Binary Search Tree error converting from template to const int" Tags="&lt;c++&gt;&lt;binary-search-tree&gt;" AnswerCount="2" CommentCount="14" />
  <row Id="16095768" PostTypeId="1" CreationDate="2013-04-19T01:23:37.153" Score="0" ViewCount="542" Body="&lt;p&gt;I have a unit (WebFunctions.h) with the declaration&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;String RawURLAllowedChars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~.-_&quot;;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This unit works well in the app. But when I add a component which also declares &lt;code&gt;WebFunctions.h&lt;/code&gt;, the initialization of &lt;code&gt;RawURLAllowedChars&lt;/code&gt; does not occurs (&lt;code&gt;RawURLAllowedChars = NULL&lt;/code&gt;).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;To get the app back to work, plus remove the class declaration of the component is still necessary delete the &lt;code&gt;WebFunctions.obj&lt;/code&gt; file.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Note: Any declarations in &lt;code&gt;.cpp&lt;/code&gt; file, with or without a &lt;code&gt;extern&lt;/code&gt; declaration in &lt;code&gt;.h&lt;/code&gt; file, also are not working.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is a bug in XE2 or I'm missing something? Thanks.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Obs.: Var declarations inside &lt;code&gt;#ifndef .. #endif&lt;/code&gt; &lt;/p&gt;&#xA;" OwnerUserId="1631799" LastEditorUserId="61605" LastEditDate="2016-06-01T20:26:51.383" LastActivityDate="2016-06-01T20:26:51.383" Title="Variables in c++ builder XE2 not initializing when unit was called by component" Tags="&lt;global-variables&gt;&lt;c++builder&gt;&lt;c++builder-xe2&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="16234231" PostTypeId="1" AcceptedAnswerId="16234503" CreationDate="2013-04-26T10:27:33.563" Score="0" ViewCount="124" Body="&lt;pre&gt;&lt;code&gt;vio@!@#$:~/cpp/OOP/6$ g++ -o main main.o NormalAccount.o HighCreditAccount.o Account.o AccountHandler.o&#xA;AccountHandler.o:(.bss+0x0): multiple definition of `AccountHandler::account_number'&#xA;main.o:(.bss+0x0): first defined here&#xA;collect2: ld returned 1 exit status&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I got the error message above.&#xA;But I couldn't find the code where it is multiply defined, so I changed all account_number to number_of_account in 'account.h' and 'AccountHandler.cpp'&#xA;and &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;vio@!@#$:~/cpp/OOP/6$ vi AccountHandler.cpp &#xA;vio@!@#$:~/cpp/OOP/6$ g++ -c AccountHandler.cpp &#xA;vio@!@#$:~/cpp/OOP/6$ g++ -o main main.o NormalAccount.o HighCreditAccount.o Account.o AccountHandler.o&#xA;vio@!@#$:~/cpp/OOP/6$&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;it compiled well.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;After that, I changed main.cpp a little &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;vio@!@#$:~/cpp/OOP/6$ g++ -c main.cpp&#xA;vio@!@#$:~/cpp/OOP/6$ g++ -o main main.o NormalAccount.o HighCreditAccount.o Account.o AccountHandler.o&#xA;AccountHandler.o:(.bss+0x0): multiple definition of `AccountHandler::number_of_account'&#xA;main.o:(.bss+0x0): first defined here&#xA;collect2: ld returned 1 exit status&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and error message emerged again.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I used #ifndef #define #define in all header file and&#xA;when I changed the variable in AccountHandler.cpp and accounthandler.h, it compiled well again,&#xA;so I wonder why it happens&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef __ACCOUNTHANDLER_H__&#xA;#define __ACCOUNTHANDLER_H__&#xA;&#xA;#include &quot;account.h&quot;&#xA;&#xA;class AccountHandler&#xA;{&#xA;private:&#xA;    Account* account[100];&#xA;    static int number_of_account;&#xA;public:&#xA;    AccountHandler(){}&#xA;&#xA;    void show_menu();&#xA;    void make_account();&#xA;    void deposit_money();&#xA;    void withdraw_money();&#xA;    void show_all_account_info();&#xA;&#xA;    ~AccountHandler();&#xA;};&#xA;&#xA;int AccountHandler::number_of_account=0;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2323357" LastEditorUserId="15168" LastEditDate="2015-07-28T14:54:05.497" LastActivityDate="2015-07-28T14:54:05.497" Title="Strange multiple definition error" Tags="&lt;c++&gt;&lt;multiple-definition-error&gt;" AnswerCount="1" CommentCount="9" />
  <row Id="16289522" PostTypeId="1" AcceptedAnswerId="16289989" CreationDate="2013-04-29T22:49:35.897" Score="0" ViewCount="1203" Body="&lt;p&gt;I'm working on a winapi graphics wrapper and I've encountered a c2374 error &quot;redefinition; multiple initialization&quot;.  I produced an extremely simplified program to illustrate my issue and I'm hoping someone can help me to solve this. NOTE: the code here is only to illustrate to issue, that is why you do not see a cascade of includes.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;main.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;#include &quot;functions.h&quot;&#xA;#include &quot;constants.h&quot;&#xA;&#xA;&#xA;void main()&#xA;{&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;////////////////////////////////////////////////////////////////////////////&lt;/p&gt;&#xA;&#xA;&lt;p&gt;functions.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;constants.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;functions.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;functions.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;////////////////////////////////////////////////////////////////////////////&lt;/p&gt;&#xA;&#xA;&lt;p&gt;constants.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;double pie = 3.14;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;constants.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;constants.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;////////////////////////////////////////////////////////////////////////////&lt;/p&gt;&#xA;&#xA;&lt;p&gt;error is; error C2374: 'pie' : redefinition; multiple initialization&lt;/p&gt;&#xA;&#xA;&lt;p&gt;as you can see in this example i'm not trying to edit pie or do anything other than be able to reference the constant from different places. in my graphics wrapper i'm trying to have a HRESULT result; defined so that i can simply test against fails when I initialize directx or sprites, etc.  small request: if you have an answer to this please also point me towards a good textbook to learn about multiple file programming or something, i'm literally teaching myself everything, can't afford classes. thank you.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;progress:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;the header files now contain a new codeblock&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef //stuff//&#xA;#def    //stuff//&#xA;&#xA;//code&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;each with there own unique tag. error changes to LNK2005: &quot;double pie&quot; (?pie@@3NA) already defined in constants.obj.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;note: while it was suggested to use const to solve this issue I would like to avoid that as the more complicated program this is representative of needs the variable to be editable.&lt;/p&gt;&#xA;" OwnerUserId="2278407" LastEditorUserId="2278407" LastEditDate="2013-04-30T01:28:54.357" LastActivityDate="2013-04-30T01:28:54.357" Title="C++ mutlipule .cpp files error c2374" Tags="&lt;c++&gt;&lt;linker-error&gt;" AnswerCount="1" CommentCount="2" />
  <row Id="16382589" PostTypeId="1" AcceptedAnswerId="16387218" CreationDate="2013-05-05T08:03:45.773" Score="3" ViewCount="2037" Body="&lt;p&gt;How to achieve Perl regular expression ^ and $ in the ANLTR4 lexer? ie. to match the start of a line and end of a line without consuming any character.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am trying to use ANTLR4 lexer to match a # character at the start of a line but not in the middle of a line For example, to isolate and toss out all C++ preprocessor directives regardless of which directive it is while disregard a # inside a string literal.  (Normally we can tokenize C++ string literals to eliminate a # appearing in the middle of a line but assuming we're not doing that).  That means I only want to specify # .*? without bothering #if #ifndef #pragma, etc.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Also, the C++ standard allows whitespace and multi line comments right before and after the # e.g. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;   /* helo&#xA;world*/  #  /* hel&#xA;l&#xA;o&#xA;*/  /*world */ifdef .....&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;is considered a valid preprocessor directive appearing on a single line. (the CRLFs inside the ML COMMENTs are tossed)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This's what I am doing currently:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;PPLINE: '\r'? '\n' (ML_COMMENT | '\t' | '\f' |' ')* '#' (ML_COMMENT | ~[\r\n])+ -&amp;gt; channel(PPDIR); &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But the problem is I have to rely on the existence of a CRLF before the # and toss out that CRLF altogether with the directive. I need to replace the CRLF tossed out by the CRLF of this directive line so I've to make sure the directive is terminated by a CRLF.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;However, that means my grammar cannot handle a directive appearing right at the start of file (i.e. no preceding CRLF) or preceded by an EOF without terminating CRLF.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;If the Perl style regex ^ $ syntax is available, I can match the SOL/EOL instead of explicitly matching and consuming CRLF.&lt;/p&gt;&#xA;" OwnerUserId="237575" LastEditorUserId="237575" LastEditDate="2013-05-05T09:33:01.610" LastActivityDate="2013-05-05T17:37:35.430" Title="ANTLR4 Lexer Matching Start of Line End Of Line" Tags="&lt;regex&gt;&lt;antlr4&gt;" AnswerCount="2" CommentCount="0" FavoriteCount="3" />
  <row Id="16394106" PostTypeId="1" CreationDate="2013-05-06T07:31:54.620" Score="0" ViewCount="470" Body="&lt;p&gt;I'm trying to build some native libraries in C that will speed up the monte-carlo simulation for a Java project. I'm doing this on Netbeans 7.0.1, using MINGW&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm using the mtwist source code of Geof Kuenning (&lt;a href=&quot;http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html&quot; rel=&quot;nofollow&quot;&gt;http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html&lt;/a&gt;) to provide Mersenne Twister pseudorandom numbers.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have three different models to simulate, and each compiles fine on its own (with output to file rather than using the JNI). However, when I combine the three models under the JNI header file, I start to get a long list of errors when I try to build:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;CLEAN SUCCESSFUL (total time: 7s)&#xA;  &quot;/usr/bin/make&quot; -f nbproject/Makefile-Debug.mk QMAKE= SUBPROJECTS= .build-conf&#xA;  make[1]: Entering directory &lt;code&gt;/c/Users/Tom/Documents/LongMemoryModels/longMemModels'&#xA;  &quot;/usr/bin/make&quot;  -f nbproject/Makefile-Debug.mk dist/Debug/MinGW_1- Windows/liblongMemModels.dll&#xA;  make[2]: Entering directory&lt;/code&gt;/c/Users/Tom/Documents/LongMemoryModels/longMemModels'&#xA;  mkdir -p build/Debug/MinGW_1-Windows&#xA;  rm -f build/Debug/MinGW_1-Windows/longmem.o.d&#xA;  gcc.exe -std=c99   -c -g -I../../../../../Program\ Files/Java/jdk1.7.0/include/ -I../../../../../Program\ Files/Java/jdk1.7.0/include/win32  -MMD -MP -MF build/Debug/MinGW_1-Windows/longmem.o.d -o build/Debug/MinGW_1-Windows/longmem.o longmem.c&#xA;  mkdir -p build/Debug/MinGW_1-Windows/_ext/2069311947&#xA;  rm -f build/Debug/MinGW_1-Windows/_ext/2069311947/mtwist.o.d&#xA;  gcc.exe -std=c99   -c -g -I../../../../../Program\ Files/Java/jdk1.7.0/include/ -I../../../../../Program\ Files/Java/jdk1.7.0/include/win32  -MMD -MP -MF build/Debug/MinGW_1-Windows/_ext/2069311947/mtwist.o.d -o build/Debug/MinGW_1-Windows/_ext/2069311947/mtwist.o ../../../../../cinclude/mtwist/mtwist.c&#xA;  mkdir -p build/Debug/MinGW_1-Windows/_ext/2069311947&#xA;  rm -f build/Debug/MinGW_1-Windows/_ext/2069311947/randistrs.o.d&#xA;  gcc.exe -std=c99   -c -g -I../../../../../Program\ Files/Java/jdk1.7.0/include/ -I../../../../../Program\ Files/Java/jdk1.7.0/include/win32  -MMD -MP -MF build/Debug/MinGW_1-Windows/_ext/2069311947/randistrs.o.d -o build/Debug/MinGW_1-Windows/_ext/2069311947/randistrs.o ../../../../../cinclude/mtwist/randistrs.c&#xA;  mkdir -p dist/Debug/MinGW_1-Windows&#xA;  gcc.exe -std=c99    -shared -o dist/Debug/MinGW_1-Windows/liblongMemModels.dll build/Debug/MinGW_1-Windows/longmem.o build/Debug/MinGW_1-Windows/_ext/2069311947/mtwist.o &gt; build/Debug/MinGW_1-Windows/_ext/2069311947/randistrs.o&lt;br&gt;&#xA;  build/Debug/MinGW_1-Windows/_ext/2069311947/mtwist.o: In function &lt;code&gt;mts_lrand':&#xA;  C:\Users\Tom\Documents\LongMemoryModels\longMemModels/../../../../../cinclude/mtwist/mtwist.h:402: multiple definition of&lt;/code&gt;mts_lrand'&#xA;  build/Debug/MinGW_1-Windows/longmem.o:C:/cinclude/mtwist/mtwist.h:402: first defined here&#xA;  build/Debug/MinGW_1-Windows/_ext/2069311947/mtwist.o: In function &lt;code&gt;mts_llrand':&#xA;  C:\Users\Tom\Documents\LongMemoryModels\longMemModels/../../../../../cinclude/mtwist/mtwist.h:431: multiple definition of&lt;/code&gt;mts_llrand'&#xA;  build/Debug/MinGW_1-Windows/longmem.o:C:/cinclude/mtwist/mtwist.h:431: first defined here&#xA;  [...]&#xA;  build/Debug/MinGW_1-Windows/_ext/2069311947/randistrs.o: In function &lt;code&gt;mts_lrand':&#xA;  C:\Users\Tom\Documents\LongMemoryModels\longMemModels/../../../../../cinclude/mtwist/mtwist.h:402: multiple definition of&lt;/code&gt;mts_lrand'&#xA;  build/Debug/MinGW_1-Windows/longmem.o:C:/cinclude/mtwist/mtwist.h:402: first defined here&#xA;  build/Debug/MinGW_1-Windows/_ext/2069311947/randistrs.o: In function &lt;code&gt;mts_llrand':&#xA;  C:\Users\Tom\Documents\LongMemoryModels\longMemModels/../../../../../cinclude/mtwist/mtwist.h:431: multiple definition of&lt;/code&gt;mts_llrand'&#xA;  build/Debug/MinGW_1-Windows/longmem.o:C:/cinclude/mtwist/mtwist.h:431: first defined here&#xA;  [...]&#xA;  make[2]: Leaving directory &lt;code&gt;/c/Users/Tom/Documents/LongMemoryModels/longMemModels'&#xA;  make[1]: Leaving directory&lt;/code&gt;/c/Users/Tom/Documents/LongMemoryModels/longMemModels'&lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;collect2.exe: error: ld returned 1 exit status&#xA;  make[2]: &lt;strong&gt;* [dist/Debug/MinGW_1-Windows/liblongMemModels.dll] Error 1&#xA;  make[1]: &lt;em&gt;&lt;/strong&gt; [.build-conf] Error 2&#xA;  make: *&lt;/em&gt;* [.build-impl] Error 2&lt;/p&gt;&#xA;  &#xA;  &lt;p&gt;BUILD FAILED (exit value 2, total time: 22s)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;(here the elipsis, [...], denotes similar errors that I have omitted)&lt;/p&gt;&#xA;&#xA;&lt;p&gt;As you can see, the multiple inclusions seem to relate to the mtwist.h header rather than the JNI header. Moreover, I get the same errors trying to build the JNI project even when mtwist has already been successfully built as a static or dynamic library...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I don't want this question to be too much of an essay, and I'm hoping that error will reveal an obvious error to someone more savvy than me. BUT, I'll post source code too, if this isn't enough to point to a solution.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Please help me resolve this build error if you can.&#xA;Tom&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT: to make the include structure clearer than in the comments...&#xA;In the current arrangement: &lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;[JNI models header].h includes jni.h&lt;/li&gt;&#xA;&lt;li&gt;mtwist.h includes stdio.h, stdint.h&lt;/li&gt;&#xA;&lt;li&gt;randistrs.h, includes mtwist.h &lt;/li&gt;&#xA;&lt;li&gt;[individual model functions].c includes stdio.h stdlib.h math.h mtwist/mtwist.h mtwist/randistrs.h jni.h (unnecessary I suppose) &lt;/li&gt;&#xA;&lt;li&gt;mtwist.c includes inttypes.h stdio.h stdlib.h sys/timeb.h mtwist.h &lt;/li&gt;&#xA;&lt;li&gt;randistrs.c includes mtwist.h randistrs.h math.h stdlib.h&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;All of the .h files have inclusion guards using #ifndef &lt;/p&gt;&#xA;" OwnerUserId="2353740" LastEditorUserId="2353740" LastEditDate="2013-05-07T16:30:32.497" LastActivityDate="2013-05-07T16:30:32.497" Title="C multiple definition error Netbeans" Tags="&lt;c&gt;&lt;jni&gt;&lt;multiple-definition-error&gt;" AnswerCount="1" CommentCount="4" />
  <row Id="17076956" PostTypeId="1" AcceptedAnswerId="17093592" CreationDate="2013-06-12T23:18:07.130" Score="0" ViewCount="782" Body="&lt;p&gt;I'm working on an DNA Fragment Assembly program. The CPU-only version is built in C language using GCC and I'm trying to build a GPU version using NVCC.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the makefile&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;all : clean FragmentAssembly.exe&#xA;&#xA;FragmentAssembly.exe : Common.o Fragment.o ILS.o Consensus.o main.o&#xA;    nvcc -pg -o FragmentAssembly.exe Common.o Fragment.o ILS.o Consensus.o main.o &#xA;&#xA;Common.o : Common.cu&#xA;    nvcc -pg -o Common.o -c Common.cu&#xA;&#xA;Fragment.o : Fragment.cu&#xA;    nvcc -pg -o Fragment.o -c Fragment.cu&#xA;&#xA;ILS.o : ILS.cu&#xA;    nvcc -pg -o ILS.o -c ILS.cu&#xA;&#xA;Consensus.o : Consensus.cu&#xA;    nvcc -pg -o Consensus.o -c Consensus.cu&#xA;&#xA;main.o : main.cu&#xA;    nvcc -pg -o main.o -c main.cu&#xA;&#xA;clean : &#xA;    rm -f *.exe *.o&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;As seen, the original &lt;code&gt;.c&lt;/code&gt; files became .cu files for &lt;code&gt;nvcc&lt;/code&gt; to compile them correctly.&#xA;All of the cu files contain includes of their corresponding files (Common.h for Common.cu, etc..) except for &lt;code&gt;main.cu&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ILS.h contians definition of global variables &lt;code&gt;p_instanceFragments&lt;/code&gt; and &lt;code&gt;p_instanceLength&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The problem is when compiling NVCC, for an unknown reason, I get the following errors :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Consensus.o:(.bss+0x0): multiple definition of `p_instanceFragments'&#xA;ILS.o:(.bss+0x0): first defined here&#xA;Consensus.o:(.bss+0x8): multiple definition of `p_instanceLength'&#xA;ILS.o:(.bss+0x8): first defined here&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;There is no real multiple definitions since the same code is built correctly using GCC. It looks as if &lt;code&gt;ILS.h&lt;/code&gt; is getting included twice in nvcc, by &lt;code&gt;ILS.cu&lt;/code&gt; and &lt;code&gt;Consensus.cu&lt;/code&gt;. This is also not possible since I've wrapped all my header files with an &lt;code&gt;#ifndef .. #define .. #endif&lt;/code&gt; statements to avoid multiple includes and infinite include loops.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Maybe something with the makefile commands ? or should I use gcc for linking ? Can you tell me how to deal with it ?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Regards,&lt;/p&gt;&#xA;" OwnerUserId="1811950" LastActivityDate="2013-06-13T17:40:50.037" Title="NVCC linking error in C and CUDA-C code" Tags="&lt;c&gt;&lt;hyperlink&gt;&lt;makefile&gt;&lt;nvcc&gt;&lt;multiple-definition-error&gt;" AnswerCount="1" CommentCount="2" />
  <row Id="17154104" PostTypeId="1" AcceptedAnswerId="17154728" CreationDate="2013-06-17T18:17:42.763" Score="-1" ViewCount="594" Body="&lt;p&gt;Will there be a problem if the same namespace is included multiple times?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include&amp;lt;iostream&amp;gt;&#xA;using namespace custom;&#xA;using namespace custom;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Can it be possible to apply guard to namespace like header files so that namespace won't be included more than once? (Like #ifndef ...)&lt;/p&gt;&#xA;" OwnerUserId="2248845" LastEditorUserId="1908061" LastEditDate="2013-06-17T18:19:50.633" LastActivityDate="2013-06-17T18:54:34.793" Title="Including namespace multiple times" Tags="&lt;c++&gt;&lt;c++11&gt;" AnswerCount="3" CommentCount="4" />
  <row Id="17217582" PostTypeId="1" AcceptedAnswerId="17217667" CreationDate="2013-06-20T15:21:27.990" Score="5" ViewCount="196" Body="&lt;p&gt;I can't seem to find the answer but maybe I'm searching the wrong terminology.  I am not finding the answer I am looking for in the hits.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have a bunch of derived classes for a menu system.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have a &lt;code&gt;CControl&lt;/code&gt; derived class that is parent of a &lt;code&gt;CEditBox&lt;/code&gt; and a &lt;code&gt;CLabel&lt;/code&gt; class. &lt;code&gt;CLabel&lt;/code&gt; is nothing more than attaching the text onto an SDL_Surface and then binding it to a texture for openGL to render.  &lt;code&gt;CEditBox&lt;/code&gt; would be a field for displaying text or gathering text from users like a password box.  Obviously, CEditBox could make use of a label for handling the text rendering inside the box.  &lt;code&gt;CControl&lt;/code&gt; is derived from &lt;code&gt;CComponent&lt;/code&gt;.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;I cannot declare &lt;code&gt;CLabel&lt;/code&gt; inside &lt;code&gt;CEditBox&lt;/code&gt; unless I include &lt;code&gt;CLabel&lt;/code&gt; in the header but I think I keep getting linker errors doing that even though I have all of my headers wrapped in &lt;code&gt;#ifndef #define class #endif&lt;/code&gt; syntax but I'm also a noob.  Instead, I have a &lt;code&gt;CComponent*&lt;/code&gt; pointer declared since they are derived from that class.  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Fine.  Now in the constructor for the &lt;code&gt;CEditBox&lt;/code&gt; I have:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;CLabel.h&quot; //include in .CPP is fine I reckon.&#xA;&#xA;CEditBox::CEditBox() {&#xA;    CLabel Field;      //Create CLabel&#xA;    InputType = ALL;   //Not important for my question related to allowed symbols&#xA;    Label = &amp;amp;Field;    //CComponent pointer to CLabel&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When this constructor function returns, wouldn't CLabel go out of scope, and thus Feild would be destroyed and now my pointer is pointing at an undefined block of memory?  What would be an appropriate way to do this?  Is there a better solution?  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thank you&lt;/p&gt;&#xA;&#xA;&lt;h1&gt;Linker problem&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;I don't know that the problem exists anymore, but some think this is a more important issue.  Well here is the actual code now and you guys can tell me if you think it is done incorrectly.&#xA;Base Class CMenuObject&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _CMENUOBJECT_H_&#xA;#define _CMENUOBJECT_H_&#xA;class CMenuObject {&#xA;&#xA;protected:&#xA;    const char* ClassName;&#xA;public:&#xA;    CMenuObject();&#xA;    virtual const char* Object();&#xA;&#xA;};&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Next Class is CComponent&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _CCOMPONENT_H_&#xA;#define _CCOMPONENT_H_&#xA;&#xA;#include &quot;CMenuObject.h&quot;&#xA;&#xA;class CComponent : public CMenuObject {&#xA;protected:&#xA;    const char* _Name;&#xA;    int _Tag;&#xA;    static int _ComponentCount;&#xA;    static int _IDCount;&#xA;&#xA;public:&#xA;    CComponent();&#xA;    virtual const char* Name();&#xA;    virtual int Tag();&#xA;    virtual void Tag(int t);&#xA;&#xA;&#xA;};&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Then comes CControl  These would be objects that users would interact with or in some way need control the display (i.e. a timer doesn't need user input) and is a mammoth.  Don't mind the function pointer stuff because I have no idea what i'm doing with that yet.. this is my first guess approach to handling events.  I think it's limiting because I can't figure out what to do if the function needs to take a parameter but I may not have to, etc...  We can gloss over this detail for now.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _CCONTROL_H_&#xA;#define _CCONTROL_H_&#xA;&#xA;#include &quot;CComponent.h&quot;&#xA;&#xA;class CControl : public CComponent {&#xA;protected:&#xA;&#xA;    int _X,_Y,_Width,_Height;&#xA;    float R,G,B,A;&#xA;&#xA;    void (*OnClk)();&#xA;    void (*OnDblClk)();&#xA;    void (*OnMOver)();&#xA;    void (*OnMHover)();&#xA;    void (*OnKDown)();&#xA;    void (*OnKUp)();&#xA;    void (*OnFcs)();&#xA;&#xA;    bool Visible;&#xA;&#xA;    CComponent* Pappy;&#xA;&#xA;&#xA;public:&#xA;    CControl();&#xA;&#xA;    //Render Control&#xA;    virtual void Show();                                            //      Show Component&#xA;    virtual void Hide();                                            //      Hide Component&#xA;    virtual void OnRender();                                        //      Render Component&#xA;&#xA;    virtual bool IsVisible();                                       //      Get Current Visibility Status&#xA;&#xA;    //Paramater Control&#xA;        //Write&#xA;    virtual void X(int x);                                          //      Set Component's X coordinate&#xA;    virtual void Y(int y);                                          //      Set Component's Y coordinate&#xA;    virtual void Width(int w);                                      //      Set Component's Width&#xA;    virtual void Height(int h);                                     //      Set Component's Height&#xA;        //Read&#xA;    virtual int X();                                                //      Get Component's X coordinate&#xA;    virtual int Y();                                                //      Get Component's Y coordinate&#xA;    virtual int Width();                                            //      Get Component's Width&#xA;    virtual int Height();                                           //      Get Component's Height&#xA;&#xA;    //Display Control&#xA;    virtual void Color(float r, float g, float b);                  //      Set Color of Component- Multicolored objects, this will be the base or bkg color.  Makes alpha 1.0f.&#xA;    virtual void Color(float r, float g, float b, float a);         //      Same as above but allows for input of an alpha value. &#xA;&#xA;    //Font Control&#xA;    virtual void FontName(const char* font);                        //      Name of font to use&#xA;    virtual void FontSize(int pt);                                  //      Pt size of font.  Or maybe pixel, no idea.&#xA;    virtual void Text(const char* msg);                             //      Text message to render&#xA;        //Read&#xA;    virtual const char* Text();                                     //      Read Text Message&#xA;&#xA;    //Interactive Control                                           //      These will register call back functions for user events&#xA;    virtual void OnClick(void (*func)());                           //      On Single Click&#xA;    virtual void OnDoubleClick(void (*func)());                     //      On Double Click&#xA;    virtual void OnMouseOver(void (*func)());                       //      On Mouse Over&#xA;    virtual void OnMouseHover(void (*func)());                      //      On Mouse Hover&#xA;    virtual void OnKeyDown(void (*func)());                         //      On Key Down&#xA;    virtual void OnKeyUp(void (*func)());                           //      On Key Up&#xA;    virtual void OnFocus(void (*func)());                           //      On Focus &#xA;&#xA;    //Other&#xA;    virtual void Parent(CComponent);                                //      Set Parent&#xA;    virtual CComponent* Parent();                                   //      Get Parent&#xA;};&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Finally my end game headers of CLabel and CEditBox.  &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _CLABEL_H_&#xA;#define _CLABEL_H_&#xA;&#xA;#include &quot;CTexture.h&quot;&#xA;#include &quot;CFont.h&quot;&#xA;#include &quot;CControl.h&quot;&#xA;&#xA;&#xA;class CLabel : public CControl {&#xA;private:&#xA;&#xA;    const char* vText;&#xA;&#xA;    CFont Font;&#xA;&#xA;    CTexture Text_Font;&#xA;    SDL_Surface* Surf_Text;&#xA;&#xA;    int X,Y,vWidth,vHeight;&#xA;&#xA;public:&#xA;    CLabel();&#xA;    CLabel(const char* text);&#xA;&#xA;    virtual void OnRender();&#xA;    virtual void OnCleanup();&#xA;&#xA;    virtual void Text(const char* msg);&#xA;    virtual const char* Text();&#xA;&#xA;    virtual void FontName(const char* fname);&#xA;    virtual void FontSize(int pt);&#xA;    virtual void FontColor(float r, float g, float b);&#xA;};&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;AND&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _CEDITBOX_H_&#xA;#define _CEDITBOX_H_&#xA;&#xA;#include &quot;CControl.h&quot;&#xA;&#xA;class CEditBox : public CControl  {&#xA;protected:&#xA;&#xA;    CComponent* Label;&#xA;    int InputType;&#xA;&#xA;&#xA;&#xA;public:&#xA;    CEditBox();&#xA;    ~CEditBox();&#xA;    virtual void OnRender();&#xA;    //virtual void OnCleanup();&#xA;    virtual void OnLoop();&#xA;&#xA;    virtual void Text(const char* msg);&#xA;    virtual const char* Text();&#xA;&#xA;    virtual void FontColor(float r, float g, float b);&#xA;&#xA;    virtual void OnClick(void (*func)());                           //      On Single Click&#xA;    virtual void OnDoubleClick(void (*func)());                     //      On Double Click&#xA;    virtual void OnMouseOver(void (*func)());                       //      On Mouse Over&#xA;    virtual void OnMouseHover(void (*func)());                      //      On Mouse Hover&#xA;    virtual void OnKeyDown(void (*func)());                         //      On Key Down&#xA;    virtual void OnKeyUp(void (*func)());                           //      On Key Up&#xA;    virtual void OnFocus(void (*func)());                           //      On Focus &#xA;&#xA;&#xA;    enum {&#xA;        ALL = 0,                //abcdefghijklmnopqrstuvwxyz (and caps) 1234567890!@#$%^&amp;amp;*()_+-=[]{}&amp;lt;&amp;gt;\/|&quot;';:,.?&#xA;        ALPHA_NUMERIC,          //abcdefghijklmnopqrstuvwxyz (and caps) 1234567890&#xA;        ALPHA,                  //abcdefghijklmnopqrstuvwxyz (and caps)&#xA;        NUMERIC,                //1234567890&#xA;        PASSWORD,               //abcdefghijklmnopqrstuvwxyz (and caps) 1234567890!@#$%&amp;amp;.     -- Render as *&#xA;        IP                      //1234567890 .  Maybe fix feild width and force xxx.xxx.xxx.xxx format.&#xA;    }; &#xA;};&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;h1&gt;[SOLVED]&lt;/h1&gt;&#xA;&#xA;&lt;p&gt;Today, I found the one dang header not wrapped in #ifndef #define #endif.  (it was &lt;code&gt;CTexture&lt;/code&gt; which gets called again in &lt;code&gt;CFont&lt;/code&gt;. Anyway, the restructure was also incredibly beneficial because I've figured out how to use inheritance and base class pointers, and how derived classes can work with each other.  Not to mention many many more things.  :)  &lt;/p&gt;&#xA;&#xA;&lt;p&gt;The route I'm taking for derived class interplay is using a base class pointer that can access the derived classes functions via virtual functions.  I use new and delete because that's what I am comfortable with.  For everyone that contributed, thank you!  They are all good answers.  &lt;/p&gt;&#xA;" OwnerUserId="2415237" LastEditorUserId="2415237" LastEditDate="2013-06-21T17:51:09.433" LastActivityDate="2013-06-21T17:51:09.433" Title="Pointers, Class Items and Scope" Tags="&lt;c++&gt;&lt;class&gt;&lt;pointers&gt;&lt;inheritance&gt;&lt;scope&gt;" AnswerCount="4" CommentCount="6" />
  <row Id="17359424" PostTypeId="1" AcceptedAnswerId="17359442" CreationDate="2013-06-28T07:25:50.187" Score="0" ViewCount="454" Body="&lt;p&gt;Netbeans created this default constructor. I was curious what is its purpose. I don't know what to call it, or what it does. It more of a curiosity. My only thought was maybe cloning? something tells me I am wrong.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef     FOO_H&#xA;#define FOO_H&#xA;&#xA;class Foo {&#xA;public:&#xA;    Foo();&#xA;    Foo(const Foo&amp;amp; orig);&#xA;    virtual ~Foo();&#xA;private:&#xA;&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2530903" LastActivityDate="2013-06-28T08:02:30.910" Title="Netbeans created a default constructor in c++. What does it do?" Tags="&lt;c++&gt;&lt;netbeans&gt;&lt;constructor&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="17447838" PostTypeId="1" CreationDate="2013-07-03T12:21:09.567" Score="-3" ViewCount="592" Body="&lt;p&gt;I am working on very legacy code which is migration to 32 bit to 64 bit machine.it generally write file with data which was working fine in 32 bit but having issue in 64 bit machine.When I check the file and found that it is generally contain division of 4 of 32 bit value. I mean if we have 80 value in 32 bit machine than it will be 20 in 64 bit machine.(most case). I have  looked into below piece of code and could not understand some of functionality.&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;p&gt;why we call reverse function before write into File.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;What is purpose of reverse function.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;In write function,we always write one_ascii value although we have any data type.&lt;/p&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;I have tried to took some piece of code which help me to explain issue briefly.Please let &#xA;me know if I need to provide more information. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;class  GdsHeader&#xA;{&#xA;public:&#xA;  unsigned  short  rlen;&#xA;  char      record_type;&#xA;  char      data_type;&#xA;};&#xA;&#xA;class  GdsRecord&#xA;{&#xA;public:&#xA;#ifndef SWIG&#xA;  union&#xA;    {&#xA;    short    *two_int;&#xA;    int     *four_int;&#xA;    double   *eight_real;&#xA;    char     *one_ascii;&#xA;//    void    *v;&#xA;    };&#xA;#endif&#xA;  int  length;&#xA;&#xA;      GdsRecord (); // { v = 0; length = 0; }&#xA;      ~GdsRecord ()  ;//  { delete v; }&#xA;  void  len (int l, int type);&#xA;};&#xA;&#xA;&#xA;&#xA;&#xA;    class  GdsBlock&#xA;    {&#xA;      bool      valid_block ();&#xA;      int      len;&#xA;&#xA;    public:&#xA;&#xA;      bool      record_unred;&#xA;      int      header_ftell;&#xA;      GdsHeader  h;&#xA;      GdsRecord  r;&#xA;      int      array_size;&#xA;    //  bool      re_read;&#xA;&#xA;    //          GdsBlock () { re_read = false; }&#xA;              GdsBlock () { record_unred = false; header_ftell = 0; }&#xA;      void      set (int rt, int dt, int sz)&#xA;                {TBE;&#xA;                h.record_type = rt;    h.data_type = dt;&#xA;                array_size = sz;       r.len (sz, dt);TBX;&#xA;                }&#xA;       int      read_header (FILE *);&#xA;      void      read_block (FILE *);&#xA;&#xA;      void      write (FILE *);&#xA;      void      prt ();&#xA;    };&#xA;&#xA;&#xA;&#xA;    void  GdsRecord :: len (int l, int type)&#xA;{&#xA;&#xA;  switch (type)&#xA;    {&#xA;    case STREAM_Bit_array:&#xA;    case STREAM_Short:  l *= 2; break;&#xA;    case STREAM_Long:    l *= 4; break;&#xA;    case STREAM_Double:  l *= 8; break;&#xA;    }&#xA;  if (l &amp;gt; length)&#xA;    {&#xA;    l = ((l / 8) + 2) * 8;&#xA;    if (one_ascii) delete [] one_ascii;&#xA;    one_ascii = new char[l];&#xA;    debug2.printf(&quot;GdsRecord::len  new one_ascii  len %d   one_ascii %X\n&quot;,l, one_ascii);&#xA;    length = l;&#xA;    }&#xA;&#xA;}&#xA;&#xA;&#xA;#ifndef sparc&#xA;        static  void  reverse (int len, char *buf)&#xA;        {&#xA;          TBE;&#xA;          char  tmp[24];&#xA;         int  i;&#xA;          for (i = 0; i &amp;lt; len; i++) tmp[i] = buf[i];&#xA;          for (i = 0; i &amp;lt; len; i++) buf[i] = tmp[ (len - 1) - i];&#xA;          TBX;&#xA;        }&#xA;        inline  void  reverse (int len, short *s)  { reverse (len, (char *) s); }&#xA;        inline  void  reverse (int len, int *s)    {  reverse (len, (char *) s); }&#xA;        inline  void  reverse (int len, double *s)  { reverse (len, (char *) s); }&#xA;        inline  void  reverse (int len, unsigned char *s)  {reverse (len, (char *) s); }&#xA;        #endif&#xA;&#xA;void    GdsBlock :: write (FILE *outstr)&#xA;{&#xA;TBE;&#xA;debug.printf(&quot;GdsBlock::write %X\n&quot;,outstr);&#xA;  int  i, err;&#xA;  char  *c, tmp;&#xA;  if (h.data_type == 3)&#xA;  {&#xA;      cout&amp;lt;&amp;lt;&quot;Begin...blk.r.four_int[0] =&amp;gt;&quot;&amp;lt;&amp;lt;r.four_int[0]&amp;lt;&amp;lt;endl;&#xA;  }&#xA;  if (!this)&#xA;    error.printf_exit(&quot;GdsBlock::write error !this\n&quot;);&#xA;&#xA;  if (!outstr)&#xA;    error.printf_exit (&quot;GdsBlock::write  Error - outstr == 0\n&quot;);&#xA;&#xA;  err = ferror(outstr);&#xA;  cout&amp;lt;&amp;lt; __LINE__&amp;lt;&amp;lt;&quot;    &quot;&amp;lt;&amp;lt;__PRETTY_FUNCTION__&amp;lt;&amp;lt;endl;&#xA;  if (err)&#xA;    { {&#xA;    char  *s = strerror (err);&#xA;    fclose (outstr);&#xA;    error.printf_exit (&quot;GdsBlock::write  error - %s, errno %d\n&quot;, s, err);&#xA;    }&#xA;  switch(h.data_type)&#xA;    {&#xA;    case 0: /* NO DATA */&#xA;      h.rlen = 4;&#xA;  cout&amp;lt;&amp;lt; __LINE__&amp;lt;&amp;lt;&quot;    &quot;&amp;lt;&amp;lt;__PRETTY_FUNCTION__&amp;lt;&amp;lt;endl;&#xA;      break;&#xA;      case 1: /* BIT ARRAY */&#xA;  cout&amp;lt;&amp;lt; __LINE__&amp;lt;&amp;lt;&quot;    &quot;&amp;lt;&amp;lt;__PRETTY_FUNCTION__&amp;lt;&amp;lt;endl;&#xA;#ifndef sparc&#xA;       reverse (2, &amp;amp;r.two_int[0]);&#xA;#endif&#xA;      h.rlen = (2 * array_size) + 4;&#xA;      break;&#xA;      case 2: /* TWO BYTE SIGNED INTEGER */&#xA;  cout&amp;lt;&amp;lt; __LINE__&amp;lt;&amp;lt;&quot;    &quot;&amp;lt;&amp;lt;__PRETTY_FUNCTION__&amp;lt;&amp;lt;endl;&#xA;#ifndef sparc&#xA;      for (i = 0; i &amp;lt; array_size; i++)    reverse(2,&amp;amp;r.two_int[i]);&#xA;#endif&#xA;      h.rlen = (2 * array_size) + 4;&#xA;      break;&#xA;      case 3: /* FOUR BYTE SIGNED INTEGER */&#xA;  cout&amp;lt;&amp;lt; __LINE__&amp;lt;&amp;lt;&quot;    &quot;&amp;lt;&amp;lt;__PRETTY_FUNCTION__&amp;lt;&amp;lt;endl;&#xA;#ifndef sparc&#xA;      for(i = 0; i &amp;lt; array_size; i++)&#xA;      {&#xA;          cout&amp;lt;&amp;lt;r.four_int[i]&amp;lt;&amp;lt;endl;&#xA;          int *temp = &amp;amp;r.four_int[i];&#xA;          reverse(4,temp);&#xA;          //print_stacktrace();&#xA;          cout&amp;lt;&amp;lt;r.four_int[i]&amp;lt;&amp;lt;endl;&#xA;          //r.four_int[i] = r.four_int[i] &amp;lt;&amp;lt; 2 ;&#xA;      }&#xA;&#xA;#endif&#xA;      h.rlen = (4 * array_size) + 4;&#xA;      break;&#xA;      case 5: /* EIGHT BYTE REAL */&#xA;  cout&amp;lt;&amp;lt; __LINE__&amp;lt;&amp;lt;&quot;    &quot;&amp;lt;&amp;lt;__PRETTY_FUNCTION__&amp;lt;&amp;lt;endl;&#xA;#ifndef  FPC&#xA;        for (i = 0; i &amp;lt; array_size; i++)    getr ((CONV *) (r.eight_real + i));&#xA;#endif&#xA;#ifdef  FPC&#xA;        for (i = 0; i &amp;lt; array_size; i++)    fpc (r.eight_real + i);&#xA;#endif&#xA;      h.rlen = (8 * array_size) + 4;&#xA;      break;&#xA;      case 6: /* CHARACTER ARRAY */&#xA;  cout&amp;lt;&amp;lt; __LINE__&amp;lt;&amp;lt;&quot;    &quot;&amp;lt;&amp;lt;__PRETTY_FUNCTION__&amp;lt;&amp;lt;endl;&#xA;      h.rlen = array_size + 4;&#xA;      break;&#xA;    default:&#xA;      error.printf_exit(&quot;Error: bad record type %d in GdsBlock :: external\n&quot;, (int) h.data_type);&#xA;      }&#xA;&#xA;  if (h.rlen % 2)&#xA;    {&#xA;    r.one_ascii[h.rlen] = 0;&#xA;    h.rlen++;&#xA;    }&#xA;&#xA;  cout&amp;lt;&amp;lt; __LINE__&amp;lt;&amp;lt;&quot;    &quot;&amp;lt;&amp;lt;__PRETTY_FUNCTION__&amp;lt;&amp;lt;endl;&#xA;&#xA;  i = h.rlen - 4;&#xA;#ifndef sparc&#xA;  c = (char *) &amp;amp;h.rlen;&#xA;  tmp = c[0];&#xA;  c[0] = c[1];&#xA;  c[1] = tmp;&#xA;#endif&#xA;  err = fwrite (&amp;amp;h, 1, sizeof (h), outstr);&#xA;  if (err != sizeof(h))&#xA;    {&#xA;    err = ferror(outstr);&#xA;    if (err)&#xA;      {&#xA;      char  *s = strerror (err);&#xA;      fclose (outstr);&#xA;      error.printf_exit (&quot;GdsBlock::write  error - %s, errno %d\n&quot;, s, err);&#xA;      }&#xA;&#xA;    fclose (outstr);&#xA;    error.printf_exit(&quot;Error: bad header fwrite in GdsBlock :: write\n&quot;);&#xA;    }&#xA;#if 1&#xA;  err = fwrite (r.one_ascii, 1, i, outstr);&#xA;  if (err != i)&#xA;    {&#xA;    err = ferror(outstr);&#xA;    if (err)&#xA;   {&#xA;      char  *s = strerror (err);&#xA;      fclose (outstr);&#xA;      error.printf_exit (&quot;GdsBlock::write  error - %s, errno %d\n&quot;, s, err);&#xA;      }&#xA;&#xA;    fclose (outstr);&#xA;    error.printf_exit(&quot;Error: bad record fwrite in GdsBlock :: write\n&quot;);&#xA;    }&#xA;#endif&#xA;debug.printf(&quot;GdsBlock::write exit\n&quot;);&#xA;  TBX;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="3996232" LastEditorUserId="3996232" LastEditDate="2013-07-04T08:28:28.337" LastActivityDate="2013-07-04T08:28:28.337" Title="migration c++ code 32 bit machine to 64 bit machine" Tags="&lt;c++&gt;&lt;endianness&gt;" AnswerCount="2" CommentCount="6" />
  <row Id="17644283" PostTypeId="1" AcceptedAnswerId="17644313" CreationDate="2013-07-14T22:06:44.800" Score="0" ViewCount="116" Body="&lt;p&gt;I am trying to use a struct type in a header file and then initialize it in my main file but continue to get the error:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&quot;  no matching function for call to 'gradingStudent::gradingStudent()'  &quot;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;HeaderFile.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef    HEADERFILE_H&#xA;#define    HEADERFILE_H&#xA;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;fstream&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;iomanip&amp;gt;&#xA;&#xA;using namespace std;&#xA;&#xA;struct gradingStudent&#xA;{&#xA;&#xA;   string studentName; //student's name&#xA;&#xA;   int amtGradesHW;&#xA;   int amtGradesPro;&#xA;   int amtGradesExam; //number of homework programs&#xA;&#xA;   float perTotHW;&#xA;   float perTotPro;&#xA;   float perTotExams; //percent the grade is worth&#xA;&#xA;   float HWGradeRecieved;&#xA;   float ProGradeRecieved;&#xA;   float ExamGradeRecieved; //points recieved&#xA;&#xA;   float TotalPercentage; //final grade recieved&#xA;&#xA;   char X; //letter grade&#xA;&#xA;   string wittyComment; //comment on grade&#xA;&#xA;   int const MAX; &#xA;&#xA;   }; &#xA;int openFiles(ifstream&amp;amp;, ofstream&amp;amp;);&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Programming Assignment.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;fstream&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &quot;HeaderFile.h&quot;&#xA;&#xA;using namespace std;&#xA;&#xA;int main(){&#xA;&#xA;&#xA;&#xA;ifstream inFile; //input file variable&#xA;ofstream outFile; //output file stream&#xA;&#xA;gradingStudent grades; //intialize my struct &#xA;&#xA;//Test If files can be opened&#xA;if(!openFiles(inFile, outFile)){ &#xA;cout &amp;lt;&amp;lt; &quot;...exiting &quot; &amp;lt;&amp;lt; endl;&#xA;system(&quot;pause&quot;);&#xA;                       }//end if&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;}//end main&#xA;&#xA;/*&#xA;* Input: ifstream and ofstream&#xA;* Return Type: int&#xA;*&#xA;* OpenFiles will ask the user for the files to be opened and check if they are able to          be opened&#xA;   * usage: openFiles(inFile, OutFile)&#xA;  **/&#xA;&#xA;   int openFiles(ifstream&amp;amp; inD, ofstream&amp;amp; outD){&#xA;&#xA;string inFileName, outFileName;  &#xA;&#xA;cout &amp;lt;&amp;lt; &quot;Please enter the name of the file to be read: &quot; &amp;lt;&amp;lt; endl;&#xA;cin &amp;gt;&amp;gt; inFileName;&#xA;cout &amp;lt;&amp;lt; &quot;    &quot; &amp;lt;&amp;lt; endl; &#xA;&#xA;inD.open(inFileName.c_str()); //open this file&#xA;if (!inD)&#xA;{&#xA;       cout &amp;lt;&amp;lt; &quot;ERROR. THE INPUT FILE: &quot; &amp;lt;&amp;lt; inFileName &amp;lt;&amp;lt; &quot; WAS UNABLE TO BE      OPENED!&quot;     &amp;lt;&amp;lt; endl ; &#xA;       cout &amp;lt;&amp;lt; &quot;      &quot; &amp;lt;&amp;lt; endl;     &#xA;&#xA;       return 0;&#xA;            }//end input  if fail state&#xA;&#xA;&#xA;    cout &amp;lt;&amp;lt; &quot;Please enter the name of the file to be written: &quot; &amp;lt;&amp;lt; endl;&#xA;    cin &amp;gt;&amp;gt; outFileName;&#xA;    cout &amp;lt;&amp;lt; &quot;    &quot; &amp;lt;&amp;lt; endl;                &#xA;&#xA;        outD.open(outFileName.c_str()); //open this file&#xA;&#xA;        if (!outD)&#xA;{&#xA;       cout &amp;lt;&amp;lt; &quot;ERROR. THE OUTPUT FILE: &quot; &amp;lt;&amp;lt; outFileName &amp;lt;&amp;lt;  &quot; WAS UNABLE TO BE         OPENED!&quot; &amp;lt;&amp;lt; endl ; &#xA;       cout &amp;lt;&amp;lt; &quot;      &quot; &amp;lt;&amp;lt; endl;     &#xA;&#xA;       return 0;&#xA;            }//end output if fail state     &#xA;&#xA;}//end open file&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Any Help Would Be appreciated&lt;/p&gt;&#xA;" OwnerUserId="2445852" LastActivityDate="2013-07-14T22:10:40.843" Title="Struct Type in Header File Error" Tags="&lt;c++&gt;&lt;compiler-construction&gt;&lt;struct&gt;&lt;header&gt;&lt;initialization&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="17771456" PostTypeId="1" AcceptedAnswerId="17771502" CreationDate="2013-07-21T10:41:07.587" Score="4" ViewCount="23670" Body="&lt;p&gt;I have tried many times to solve this problem but i got nothing.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The main purpose of this code is saving pair keys (Public and Private) in nested class &lt;code&gt;NslObject::KeyK&lt;/code&gt; or &lt;code&gt;NewKeyPair1&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;.cpp file&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        unsigned long int keyLength = 10;&#xA;        //KeyPair ADD(RSA::GenerateKeyPair(keyLength));&#xA;        NslObject::KeyK(RSA::GenerateKeyPair(keyLength));&#xA;        typedef NslObject::KeyK NewKeyPair1; &#xA;        NewKeyPair1(RSA::GenerateKeyPair(keyLength));&#xA;&#xA;        //NslObject::&#xA;        Key OtmanK(NslObject::Get_PublicKey(NewKeyPair1));&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;.h file:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; #ifndef    __NCTUNS_nslobject_h__&#xA; #define __NCTUNS_nslobject_h__&#xA;&#xA; #include &amp;lt;stdio.h&amp;gt;&#xA; #include &amp;lt;event.h&amp;gt;&#xA;&#xA; //---------------------------------------------------&#xA; #include &amp;lt;cstdlib&amp;gt;      //srand()&#xA; #include &amp;lt;iostream&amp;gt;     //cout&#xA; #include &amp;lt;ctime&amp;gt;        //time()&#xA; #include &amp;lt;cstring&amp;gt;      //strcmp()&#xA; //#include &quot;test.h&quot;       //testing functions&#xA; #include &quot;RSA.h&quot;        //GenerateKeyPair()&#xA; #include &quot;PrimeGenerator.h&quot;     //Generate()&#xA; //#include &amp;lt;stdio.h&amp;gt;&#xA; #include &amp;lt;stdlib.h&amp;gt;&#xA; #include &amp;lt;sstream&amp;gt; &#xA; #include &amp;lt;string&amp;gt;&#xA;&#xA;&#xA; //---------------------------------------------------&#xA;&#xA; class MBinder;&#xA;&#xA;  struct plist {&#xA;u_int8_t        pid;&#xA;struct plist            *next;&#xA; };&#xA;&#xA;  struct MBlist {&#xA;u_int8_t    portnum;&#xA;MBinder     *sendt;&#xA;struct MBlist   *next;&#xA; };&#xA; /*=========================================================================&#xA; Define Macros&#xA; =========================================================================*/&#xA; #define DISABLED       0x00&#xA; #define ENABLED            0x01&#xA;&#xA;&#xA; /*=========================================================================&#xA; Define Class ProtoType&#xA; =========================================================================*/&#xA;&#xA; class NslObject {&#xA;&#xA; private: &#xA;&#xA;char        *name_;     /* Instance name */&#xA;const u_int32_t nodeID_;    /* Node Id */&#xA;const u_int32_t nodeType_;  /* Node type, eg: SWITCH, HOST.. */&#xA;u_int32_t   portid_;    /* port Id */&#xA;struct plist    *MPlist_;&#xA;   // static  KeyPair  NewKeyPair;&#xA;&#xA;&#xA;  public :&#xA;/* add for new structure engine*/&#xA;    u_int32_t       pdepth;&#xA;    struct MBlist   *BinderList;&#xA;    u_int8_t       PortNum;&#xA;&#xA;//------------------------------------------------&#xA;    class KeyK {&#xA;    private :&#xA;         KeyPair Kk; &#xA;&#xA;    public:&#xA;&#xA;      KeyK( KeyPair D1): Kk(D1)&#xA;      {}&#xA;&#xA;     const  Key &amp;amp;GetPrivateKey() const&#xA;            {&#xA;                    return Kk.GetPrivateKey();&#xA;            }&#xA;&#xA;     const  Key &amp;amp;GetPublicKey() const&#xA;            {&#xA;                    return Kk.GetPublicKey();&#xA;            }&#xA;&#xA;       //KeyK  NewKeyPair ;&#xA;&#xA;&#xA;     };&#xA;&#xA;     Key Get_PrivateKey(KeyK &amp;amp;K){&#xA;        return K.GetPrivateKey();&#xA;     }&#xA;      Key Get_PublicKey(KeyK &amp;amp;K){&#xA;        return K.GetPublicKey();&#xA;     }&#xA;&#xA;&#xA;    //static KeyPair  *KeyPtr1 ;//= new KeyPair;&#xA;    //------------------------------------------------&#xA;u_char          s_flowctl;      /* flow control for sending pkt */&#xA;u_char          r_flowctl;      /* flow control for receiving pkt */&#xA;&#xA;MBinder     *recvtarget_;   /* to upper component */&#xA;MBinder     *sendtarget_;   /* to lower component */&#xA;&#xA;&#xA;NslObject(u_int32_t, u_int32_t, struct plist*, const char *);&#xA;NslObject();&#xA;virtual         ~NslObject();   &#xA;virtual int     init();&#xA;virtual int     recv(ePacket_ *); &#xA;virtual int     send(ePacket_ *); &#xA;virtual int     get(ePacket_ *, MBinder *);&#xA;virtual int     put(ePacket_ *, MBinder *);&#xA;virtual ePacket_    *put1(ePacket_ *, MBinder *);&#xA;virtual int     command(int argc, const char *argv[]); &#xA;virtual int     Debugger();&#xA;&#xA;&#xA;inline  void    set_port(u_int32_t portid) { &#xA;        portid_ = portid; &#xA;    };   &#xA;inline u_int32_t get_port() const { &#xA;        return(portid_); &#xA;    }; &#xA;inline struct plist* get_portls() const {&#xA;        return(MPlist_);&#xA;    };&#xA;inline const char * get_name() const {&#xA;        return(name_);&#xA;    }&#xA;inline u_int32_t get_nid() const {&#xA;        return(nodeID_);&#xA;    }&#xA;inline u_int32_t get_type() const {&#xA;        return(nodeType_);&#xA;    }&#xA;    //--------------------------------------------------------&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;  };&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;so, the problem in this line in cpp file :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; Key OtmanK(NslObject::Get_PublicKey(NewKeyPair1));&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;when i tried to compile this project, i got this Error message:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; object.cc:87: error: expected primary-expression before ‘)’ token&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;please, help me.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;when i tried to make a directed call for key class, the other problem was appeared such as :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        unsigned long int keyLength = 10;&#xA;        //KeyPair ADD(RSA::GenerateKeyPair(keyLength));&#xA;        NslObject::KeyK(RSA::GenerateKeyPair(keyLength));&#xA;        typedef NslObject::KeyK NewKeyPair1; &#xA;        NewKeyPair1(RSA::GenerateKeyPair(keyLength));&#xA;&#xA;        //NslObject::&#xA;        //Key OtmanK(NewKeyPair1.GetPublicKey());&#xA;        std::string message = &quot;othman Alkilany&quot;;&#xA;        // NslObject::NewKeyPair.GetPrivateKey()&#xA;       std::string cypherText = RSA::Encrypt(  message, NewKeyPair1.GetPublicKey());&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;the Error Message is :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;  error: expected primary-expression before ‘.’ token&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2590797" LastEditorUserId="2590797" LastEditDate="2013-07-21T10:48:12.913" LastActivityDate="2013-07-21T10:48:12.913" Title="error: expected primary-expression before ‘)’ token" Tags="&lt;c++&gt;" AnswerCount="1" CommentCount="2" />
  <row Id="18263464" PostTypeId="1" AcceptedAnswerId="18264091" CreationDate="2013-08-15T23:17:40.927" Score="-1" ViewCount="1034" Body="&lt;p&gt;I am learning TDD, using GoogleTest framework. I have successfully built Gtest and have been able to build and run the samples. However, when I tried a simple sample I wrote, I am getting compilation errors.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the source and the build commands I used:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// ################################################&#xA;//proj1.h&#xA;#ifndef  __SCRATCH_PROJ1_H&#xA;#define  __SCRATCH_PROJ1_H&#xA;&#xA;int addOne(int i);&#xA;&#xA;#endif /*__SCRATCH_PROJ1_H */&#xA;&#xA;// ################################################&#xA;&#xA;//proj1.cpp&#xA;#include &quot;proj1.h&quot;&#xA;&#xA;int addOne(int i){&#xA;    return i+1;&#xA;}&#xA;&#xA;&#xA;// ################################################&#xA;//proj1_unittest.cpp&#xA;&#xA;#include &quot;proj1.h&quot;&#xA;#include &quot;gtest/gtest.h&quot;&#xA;&#xA;// Test Function&#xA;TEST(addOneTest, Positive) {&#xA;    EXPECT_EQ(1,addOneTest(0));            // &amp;lt;- Line # 24&#xA;    EXPECT_EQ(2,addOneTest(1));            // &amp;lt;- Line # 25&#xA;    EXPECT_EQ(40320, addOneTest(40319));   // &amp;lt;- Line # 26&#xA;}&#xA;&#xA;TEST(addOneTest, Negative) {&#xA;    EXPECT_FALSE(addOneTest(-1));          // &amp;lt;- Line # 30&#xA;}&#xA;&#xA;&#xA;GTEST_API_ int main(int argc, char **argv) {&#xA;  testing::InitGoogleTest(&amp;amp;argc, argv);&#xA;  return RUN_ALL_TESTS();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Console output:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;g++ -isystem ${GTEST_DIR}/include -pthread -c&#xA;  /home/user1/scratch/proj1_unittest.cpp &#xA;  /home/user1/scratch/proj1_unittest.cpp: In member function ‘virtual&#xA;  void addOneTest_Positive_Test::TestBody()’:&#xA;  /home/user1/scratch/proj1_unittest.cpp:24:5: error: ‘addOneTest’ was&#xA;  not declared in this scope&#xA;  /home/user1/scratch/proj1_unittest.cpp:25:5: error: ‘addOneTest’ was&#xA;  not declared in this scope&#xA;  /home/user1/scratch/proj1_unittest.cpp:26:5: error: ‘addOneTest’ was&#xA;  not declared in this scope /home/user1/scratch/proj1_unittest.cpp: In&#xA;  member function ‘virtual void addOneTest_Negative_Test::TestBody()’:&#xA;  /home/user1/scratch/proj1_unittest.cpp:30:5: error: ‘addOneTest’ was&#xA;  not declared in this scope&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Judging from the line numbers in the error messages, it seems that the EXPECT_* macros have not been defined - BUT, I have included gtest/gtest.h in the compilation unit.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What is causing these errors - and how do I fix it?&lt;/p&gt;&#xA;" OwnerUserId="962891" LastActivityDate="2013-08-16T00:40:21.803" Title="Googletest compilation errors: ‘xyzTest’ was not declared in this scope" Tags="&lt;c++&gt;&lt;compiler-errors&gt;&lt;g++&gt;&lt;googletest&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="18267625" PostTypeId="1" AcceptedAnswerId="18268125" CreationDate="2013-08-16T07:03:10.497" Score="4" ViewCount="17967" Body="&lt;p&gt;I am getting an undefined reference to main error - even though I have defined main, and (AFAICT), I have linked it correctly. Here is my code and the commands I used:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// ################################################&#xA;//proj1.h&#xA;#ifndef  __SCRATCH_PROJ1_H&#xA;#define  __SCRATCH_PROJ1_H&#xA;&#xA;int addOne(int i);&#xA;&#xA;#endif /*__SCRATCH_PROJ1_H */&#xA;&#xA;// ################################################&#xA;&#xA;//proj1.cpp&#xA;#include &quot;proj1.h&quot;&#xA;&#xA;int addOne(int i){&#xA;    return i+1;&#xA;}&#xA;&#xA;&#xA;// ################################################&#xA;//proj1_unittest.cpp&#xA;&#xA;#include &quot;proj1.h&quot;&#xA;#include &quot;gtest/gtest.h&quot;&#xA;&#xA;// Test Function&#xA;TEST(addOneTest, Positive) {&#xA;    EXPECT_EQ(1,addOne(0));            &#xA;    EXPECT_EQ(2,addOne(1));            &#xA;    EXPECT_EQ(40320, addOne(40319));   &#xA;}&#xA;&#xA;TEST(addOneTest, Negative) {&#xA;    EXPECT_FALSE(addOneTest(-1));      &#xA;}&#xA;&#xA;&#xA;GTEST_API_ int main(int argc, char **argv) {&#xA;  testing::InitGoogleTest(&amp;amp;argc, argv);&#xA;  return RUN_ALL_TESTS();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is the console output:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$ g++ -isystem -pthread -c ${SOURCE_DIR}/proj1.c -o ${SOURCE_DIR}/proj1.o&#xA;$ g++ -o ${SOURCE_DIR}/mytest ${SOURCE_DIR}/*.o -L${GTEST_DIR} libgtest.a &#xA;/usr/lib/gcc/x86_64-linux-gnu/4.6/../../../x86_64-linux-gnu/crt1.o: In function `_start':&#xA;(.text+0x20): undefined reference to `main'&#xA;collect2: ld returned 1 exit status&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Why is the &lt;code&gt;main()&lt;/code&gt; function not been found by the linker?&lt;/p&gt;&#xA;" OwnerUserId="962891" LastActivityDate="2013-08-16T07:33:50.233" Title="g++ link problems: In function `_start': (.text+0x20): undefined reference to `main'" Tags="&lt;c++&gt;&lt;linker&gt;&lt;g++&gt;" AnswerCount="1" CommentCount="3" />
  <row Id="18773651" PostTypeId="1" CreationDate="2013-09-12T20:20:21.517" Score="2" ViewCount="1417" Body="&lt;p&gt;Ok so i have a project, and i have some helper functions which need to be shared in various other files. call it Helper.c /.h , with the corresponding compilation flag to avoid multiple inclusion (#ifndef SymbolName #define Symbolname blah blahblah #endif). Every file has its header file in the following way:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include ....&#xA;#include ....&#xA;#ifndef __FILENAME_H__&#xA;  #define __FILENAME_H__ //in each file(FILENAME is replaced for the current file's name)&#xA;  declarations of functions, types, etc.&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I have a compare function, called dummyCompare (templates, so when creating a variable of this ADT, you need to supply your own function pointer for it to work, so for some cases i don't need a specific function, just a generic one, so that is what dummyCompare is.&#xA;The error i get when compiling is:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;gcc ./Helper.c ./LinkedList.c ./ABB.c ./AVL.c  -Wall -lm -D DEBUG -g&#xA;duplicate symbol _dummyCompare in:&#xA;    /var/folders/f2/nghjrbz915vbhjw_1gbb65sm0000gn/T//cc75R4sQ.o&#xA;    /var/folders/f2/nghjrbz915vbhjw_1gbb65sm0000gn/T//cc8jQwyE.o&#xA;ld: 1 duplicate symbol for architecture x86_64&#xA;collect2: ld returned 1 exit status&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;List is used for a non-recursive solution for tree operations in ABB(ABB = BST in spanish)/AVL. Now using Sublime Text 2, i get the following search results for &quot;dummyCompare&quot;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Searching 8 files for &quot;dummycompare&quot;&#xA;&#xA;/dir/ABB.c:&#xA;   81   if (abb != NULL) {&#xA;   82       if (ABB_getRoot(*abb) != NULL){&#xA;   83:          list = LL_newList(dummyCompare);&#xA;   84           LL_insert(list, 1, ABB_getRoot(*abb));&#xA;   85           &#xA;&#xA;/dir/AVL.c:&#xA;   67   if (avl != NULL) {&#xA;   68       if (AVL_getRoot(*avl) != NULL){&#xA;   69:          list = LL_newList(dummyCompare);&#xA;   70           LL_insert(list, 1, AVL_getRoot(*avl));&#xA;   71           &#xA;&#xA;/dir/Helper.c:&#xA;    2  &#xA;    3  /****************************************************************************&#xA;    4: *                                dummyCompare                                *&#xA;    5  *****************************************************************************&#xA;    6  *    Retorna si 2 dirrecciones son iguales, necesario para el funcionamiento *&#xA;    7  *    de la lista                                                             *&#xA;    8  ****************************************************************************/&#xA;    9: int dummyCompare(void * a, void * b) &#xA;   10  {&#xA;   11   if (a == b) &#xA;&#xA;/dir/Helper.h:&#xA;    4   &#xA;    5   int getMax(int a, int b);&#xA;    6:  int dummyCompare(void * a, void * b);&#xA;    7  &#xA;    8  #endif&#xA;&#xA;5 matches across 4 files&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Thing is i can't seem to understand what is wrong, and why am I getting this error. Checked a lot of other question, and only answer i found was (&quot;use #ifndef ... &quot;), which I'm using&lt;/p&gt;&#xA;" OwnerUserId="1988509" LastActivityDate="2013-09-12T20:24:13.710" Title="Odd duplicate symbol error in C" Tags="&lt;c&gt;&lt;gcc&gt;&lt;compiler-errors&gt;&lt;duplicates&gt;&lt;symbol&gt;" AnswerCount="0" CommentCount="10" />
  <row Id="19042690" PostTypeId="1" AcceptedAnswerId="19042736" CreationDate="2013-09-27T04:24:27.290" Score="2" ViewCount="130" Body="&lt;p&gt;How do I create a mapping in vim to automate the ifdef commands for .h c++ file?  Basically I want to have a mapping that will create the following that will work with .h and .hpp etc&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &amp;lt;filename&amp;gt;_&amp;lt;extension&amp;gt;__&#xA;#define &amp;lt;filename&amp;gt;_&amp;lt;extension&amp;gt;__&#xA;&#xA;#endif  // &amp;lt;filename&amp;gt;_&amp;lt;extension&amp;gt;__&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerDisplayName="user2821984" LastActivityDate="2013-09-30T17:53:14.100" Title="How do I create a mapping in vim to automate the ifdef commands for .h c++ file" Tags="&lt;c++&gt;&lt;vim&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="19117835" PostTypeId="1" AcceptedAnswerId="19118109" CreationDate="2013-10-01T13:44:40.717" Score="0" ViewCount="73" Body="&lt;p&gt;Is it possible to force a specific condition before the rules are evaluated?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Ex:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;FOOPATH = $(shell which foo)&#xA;ifndef $(FOOPATH)&#xA;    echo &quot;Error: foo is not avaliable.&quot;&#xA;    # abort make&#xA;endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;PS: I'm not looking for a solution to add prerequisites do every rule that depends on foo (because the entire Makefile should depend on foo)&lt;/p&gt;&#xA;" OwnerUserId="1392758" LastActivityDate="2013-10-01T16:14:49.287" Title="Makefile prerequisites before rules" Tags="&lt;makefile&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="19498118" PostTypeId="1" AcceptedAnswerId="19500408" CreationDate="2013-10-21T15:05:59.810" Score="0" ViewCount="842" Body="&lt;p&gt;I am trying to understand part of code which says its relocation of U-boot in RAM,below is the code&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;   #ifndef  CONFIG_SKIP_RELOCATE_UBOOT&#xA;   relocate:&#xA;     adr r0,_start      /*r0 &amp;lt;--- Current posistion of code8*/&#xA;     ldr r1,_TEXT_BASE  /* test if we run from flash or Ram /*&#xA;     cmp r0,r1&#xA;     beq stack_setup&#xA;     ldr r2,_armboot_start   &#xA;     ldr r3,_bss_start&#xA;     sub r2,r3,r2&#xA;     add r2,r0,r2&#xA;   copy_loop:&#xA;     ldmia r0!,{r3-r10}&#xA;     stmia r1!,{r3-r10}&#xA;     cmp   r0,r2&#xA;     ble   cop_loop&#xA;     #endif /*CONFIG_SKIP_RELOCATE_UBOOT/*&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now canbody let me know how it is happening here??How we are testing if our u-boot is running from RAM or Flash??&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am on ARM platform.&lt;/p&gt;&#xA;" OwnerUserId="448413" LastEditorUserId="448413" LastEditDate="2013-10-21T16:58:28.517" LastActivityDate="2014-01-09T10:27:03.123" Title="How this relocation of u-boot works here" Tags="&lt;assembly&gt;&lt;arm&gt;&lt;u-boot&gt;" AnswerCount="1" CommentCount="4" />
  <row Id="19538869" PostTypeId="1" CreationDate="2013-10-23T10:14:20.717" Score="0" ViewCount="1578" Body="&lt;p&gt;I'm trying to generate a 2MHz PWM with a duty-cycle of 50%. My problem is that I can't clear the interrupt flag. Here is my code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;includes.h&quot;&#xA;&#xA;TIM_TimeBaseInitTypeDef TIM1_InitStruncture;&#xA;&#xA;TIM_TimeBaseInitTypeDef TIM3_InitStruncture;&#xA;TIM_OCInitTypeDef       TIM3_OCInitStructure;&#xA;&#xA;SPI_InitTypeDef         SPI_InitStructure;&#xA;&#xA;void Timer3_IRQHandler(void)&#xA;{&#xA;  if(TIM_GetITStatus(TIM3, TIM_IT_CC3) != RESET)&#xA;  {&#xA;    TIM_ClearFlag(TIM3, TIM_IT_CC3);&#xA;    //dummy code&#xA;    ++StatusReg;&#xA;  }&#xA;}&#xA;&#xA;void CLK_init()&#xA;{&#xA;  //activez HSI&#xA;  RCC_HSICmd(ENABLE);&#xA;  //astepst sa se activeze HSI&#xA;  while( RCC_GetFlagStatus( RCC_FLAG_HSIRDY) == RESET );&#xA;  //setez HSI ca sursa de clock&#xA;  RCC_SYSCLKConfig( RCC_SYSCLKSource_HSI );&#xA;&#xA;  //activez HSE&#xA;  RCC_HSEConfig( RCC_HSE_ON );&#xA;  //astept sa se termine secventa de activare&#xA;  while( RCC_GetFlagStatus( RCC_FLAG_HSERDY) == RESET );&#xA;&#xA;  //setez HSE (8MHz) ca input py PLL&#xA;  //setez factotul de multiplicare 9&#xA;  RCC_PLLConfig( RCC_PLLSource_HSE_Div1, RCC_PLLMul_9 );&#xA;&#xA;  //activez PLL-ul&#xA;  RCC_PLLCmd(ENABLE);&#xA;&#xA;  //astept sa se termine secventa de activare&#xA;  while( RCC_GetFlagStatus( RCC_FLAG_PLLRDY) == RESET );&#xA;&#xA;  #ifdef EMB_FLASH&#xA;  // 5. Init Embedded Flash&#xA;  // Zero wait state, if 0 &amp;lt; HCLK 24 MHz&#xA;  // One wait state, if 24 MHz &amp;lt; HCLK 56 MHz&#xA;  // Two wait states, if 56 MHz &amp;lt; HCLK 72 MHz&#xA;  // Flash wait state&#xA;  FLASH_SetLatency(FLASH_Latency_2);&#xA;  // Half cycle access&#xA;  FLASH_HalfCycleAccessCmd(FLASH_HalfCycleAccess_Disable);&#xA;  // Prefetch buffer&#xA;  FLASH_PrefetchBufferCmd(FLASH_PrefetchBuffer_Enable);&#xA;  #endif // EMB_FLASH &#xA;&#xA;  //setez iesirea de la PLL ca sursa de CLK&#xA;  RCC_SYSCLKConfig( RCC_SYSCLKSource_PLLCLK );  &#xA;}&#xA;&#xA;void Port_C_Enable()&#xA;{ &#xA;  //GPIO_InitTypeDef    GPIOC_InitStructure; &#xA;&#xA;  //resetez portul C (just in case)&#xA;  RCC-&amp;gt;APB2RSTR |= RCC_APB2RSTR_IOPCRST;&#xA;  RCC-&amp;gt;APB2RSTR &amp;amp;= ~RCC_APB2RSTR_IOPCRST;&#xA;&#xA;  //activez CLK-ul pentru portul C&#xA;  RCC-&amp;gt;APB2ENR |= RCC_APB2ENR_IOPCEN;&#xA;  /*&#xA;  GPIOC_InitStructure.GPIO_Pin      = GPIO_Pin_5;&#xA;  GPIOC_InitStructure.GPIO_Speed    = GPIO_Speed_50MHz;&#xA;  GPIOC_InitStructure.GPIO_Mode     = GPIO_Mode_Out_PP;&#xA;&#xA;  GPIO_Init(GPIOC, &amp;amp;GPIOC_InitStructure);&#xA;  */&#xA;}&#xA;&#xA;void Timer3_Init()&#xA;{&#xA;  NVIC_InitTypeDef    NVIC_InitStructure;&#xA;&#xA;  NVIC_InitStructure.NVIC_IRQChannel = TIM3_IRQChannel;&#xA;  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;&#xA;  NVIC_InitStructure.NVIC_IRQChannelSubPriority = 1;&#xA;  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;&#xA;&#xA;  NVIC_Init(&amp;amp;NVIC_InitStructure);&#xA;&#xA;  //reset Timer3 (just in case)  &#xA;  //RCC-&amp;gt;APB1RSTR |= RCC_APB1RSTR_TIM3RST;&#xA;  //RCC-&amp;gt;APB1RSTR &amp;amp;= ~RCC_APB1RSTR_TIM3RST;&#xA;&#xA;  //give clock to Timer-ul 3&#xA;  RCC-&amp;gt;APB1ENR |= RCC_APB1ENR_TIM3EN;&#xA;&#xA;  //frequency 2Mhz&#xA;  TIM3_InitStruncture.TIM_Period              = 36;&#xA;  TIM3_InitStruncture.TIM_Prescaler           = 0;&#xA;  TIM3_InitStruncture.TIM_ClockDivision       = 0;//TIM_CKD_DIV1;&#xA;  TIM3_InitStruncture.TIM_CounterMode         = TIM_CounterMode_CenterAligned3;&#xA;&#xA;  TIM_TimeBaseInit(TIM3, &amp;amp;TIM3_InitStruncture);&#xA;&#xA;  TIM_ITConfig(TIM3, TIM_IT_CC3, ENABLE);&#xA;&#xA;  TIM_Cmd(TIM3, ENABLE);&#xA;&#xA;  //dutycicle 50%&#xA;  TIM3_OCInitStructure.TIM_OCMode         = TIM_OCMode_PWM2;&#xA;  TIM3_OCInitStructure.TIM_OCPolarity     = TIM_OCPolarity_High;&#xA;  TIM3_OCInitStructure.TIM_OutputState    = TIM_OutputState_Enable;&#xA;  TIM3_OCInitStructure.TIM_Pulse          = 18;&#xA;&#xA;  TIM_OC3Init(TIM3, &amp;amp;TIM3_OCInitStructure);&#xA;  TIM_OC3PreloadConfig(TIM3, TIM_OCPreload_Enable);&#xA;  TIM_ARRPreloadConfig(TIM3, ENABLE);&#xA;  TIM_Cmd(TIM3, ENABLE);&#xA;}&#xA;&#xA;void GPIO_Configuration(void)&#xA;{&#xA;  GPIO_InitTypeDef GPIO_InitStructure;&#xA;&#xA;  /*GPIOB Configuration: TIM3 channel1, 2, 3 and 4 &#xA;  GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_6 | GPIO_Pin_7 | GPIO_Pin_8 | GPIO_Pin_9;&#xA;  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;&#xA;  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;*/&#xA;&#xA;  //GPIO_Init(GPIOC, &amp;amp;GPIO_InitStructure);&#xA;&#xA;  GPIO_PinRemapConfig(GPIO_FullRemap_TIM3, ENABLE);     &#xA;&#xA;  /* GPIOA Configuration:TIM3 Channel1, 2, 3 and 4 as alternate function push-pull */&#xA;  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;&#xA;  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;&#xA;  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;&#xA;&#xA;  GPIO_Init(GPIOB, &amp;amp;GPIO_InitStructure);&#xA;}&#xA;&#xA;void NVIC_init(void)&#xA;{&#xA;     // NVIC init&#xA;  #ifndef  EMB_FLASH&#xA;    /* Set the Vector Table base location at 0x20000000 */&#xA;    NVIC_SetVectorTable(NVIC_VectTab_RAM, 0x0);&#xA;  #else  /* VECT_TAB_FLASH  */&#xA;    /* Set the Vector Table base location at 0x08000000 */&#xA;    NVIC_SetVectorTable(NVIC_VectTab_FLASH, 0x0);&#xA;  #endif&#xA;    NVIC_PriorityGroupConfig(NVIC_PriorityGroup_4);&#xA;}&#xA;&#xA;void SPI_init()&#xA;{  &#xA;  SPI_InitStructure.SPI_Direction           = SPI_Direction_1Line_Tx;&#xA;  SPI_InitStructure.SPI_Mode                = SPI_Mode_Master;&#xA;  SPI_InitStructure.SPI_DataSize            = SPI_DataSize_16b;&#xA;  SPI_InitStructure.SPI_CPOL                = SPI_CPOL_Low;&#xA;  SPI_InitStructure.SPI_CPHA                = SPI_CPHA_1Edge;&#xA;  SPI_InitStructure.SPI_NSS                 = SPI_NSS_Soft;&#xA;  SPI_InitStructure.SPI_BaudRatePrescaler   = SPI_BaudRatePrescaler_16;&#xA;  SPI_InitStructure.SPI_FirstBit            = SPI_FirstBit_MSB;&#xA;  SPI_InitStructure.SPI_CRCPolynomial       = 0;&#xA;&#xA;  SPI_Init(SPI2, &amp;amp;SPI_InitStructure);&#xA;}&#xA;&#xA;void main(void)&#xA;{  &#xA;  #ifdef DEBUG&#xA;   debug();&#xA;#endif&#xA;&#xA;//  NVIC_SETPRIMASK();&#xA;&#xA;  CLK_init();&#xA;&#xA;  NVIC_init();&#xA;&#xA;  Port_C_Enable();&#xA;  GPIO_Configuration();&#xA;&#xA;  //Timer1_Init();&#xA;  Timer3_Init();&#xA;&#xA;  TIM_Cmd(TIM1, ENABLE);&#xA;&#xA;  unsigned int j=0;&#xA;  while(1)&#xA;  {&#xA;    //dummy code&#xA;    ++j;&#xA;    if(j == 0xff)&#xA;    {&#xA;      j=0;&#xA;    }&#xA;  }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Can anyone tell me why the CCR3 (Capture/Compare Register 3 Flag) stays high?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks.&lt;/p&gt;&#xA;" OwnerUserId="2728091" LastEditorUserId="1710392" LastEditDate="2013-10-23T22:36:40.260" LastActivityDate="2014-01-06T09:37:57.313" Title="STM32 Can't clear PWM interrupt flag" Tags="&lt;c&gt;&lt;interrupt&gt;&lt;stm32&gt;&lt;pwm&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="19630642" PostTypeId="1" AcceptedAnswerId="19630947" CreationDate="2013-10-28T09:03:38.333" Score="2" ViewCount="267" Body="&lt;p&gt;I want to write a function like &quot;bind1st, bind2nd&quot; to support multifields sort by using stl sort. &lt;strong&gt;Can't using std:bind since my g++ version is 3.4.5&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It is called like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;alogritm&amp;gt;&#xA;std::sort(begin(), end(), bind3rd(SortCond(), indicate));&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;My template function is:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  __INCLUDE_TRIPLE_FUNCTION_H_&#xA;#define  __INCLUDE_TRIPLE_FUNCTION_H_&#xA;&#xA;#define TRIPLE_ARG(Operation, Type) Operation::Type&#xA;// Define the triple_function prototype&#xA;template&amp;lt;class Arg1, class Arg2, class Arg3, class Result&amp;gt;&#xA;struct triple_function&#xA;{&#xA;    // Define the argument type alias&#xA;    typedef Arg1 first_argument_type;&#xA;    typedef Arg2 second_argument_type;&#xA;    typedef Arg3 third_argument_type;&#xA;    typedef Result result_type;&#xA;};&#xA;&#xA;template &amp;lt;class Operation&amp;gt;&#xA;class binder3rd : public binary_function&amp;lt;typename TRIPLE_ARG(Operation, first_argument_type),&#xA;    typename TRIPLE_ARG(Operation, second_argument_type), typename TRIPLE_ARG(Operation, result_type)&amp;gt;&#xA;{&#xA;protected:&#xA;    Operation m_op;&#xA;    typename Operation::third_argument_type value;&#xA;public:&#xA;    binder3rd(const Operation&amp;amp; x, const typename Operation::third_argument_type y):m_op(x), value(y){}&#xA;&#xA;    // Convert this function to binary_function using the third argment&#xA;    typename Operation::result_type operator()(const typename Operation::first_argument_type&amp;amp; x, const typename Operation::second_argument_type&amp;amp; y) const&#xA;    {&#xA;        return m_op(x, y, value);&#xA;    }&#xA;&#xA;};&#xA;&#xA;// bind3rd function implementation&#xA;template&amp;lt;class Operation, class Arg&amp;gt;&#xA;inline binder3rd&amp;lt;Operation&amp;gt; bind3rd(const Operation&amp;amp; fn, const Arg&amp;amp; x)&#xA;{&#xA;    return binder3rd&amp;lt;Operation&amp;gt;(fn, x);&#xA;}&#xA;&#xA;#endif  //__INCLUDE/TRIPLE_FUNCTION_H_&#xA;/* vim: set expandtab ts=4 sw=4 sts=4 tw=100: */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And My test cpp file is:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;algorithm&amp;gt;&#xA;#include &amp;lt;cstdlib&amp;gt;&#xA;&#xA;#include &quot;triple_function.h&quot;&#xA;&#xA;using namespace std;&#xA;&#xA;class TestClass{&#xA;public:&#xA;    int arr[16];&#xA;&#xA;    TestClass() {&#xA;        for (int i = 0; i &amp;lt; 16; ++i) {&#xA;            arr[i] = rand() % 100;&#xA;        }&#xA;    }&#xA;};&#xA;&#xA;// sort by which fields&#xA;class Indicate {&#xA;public:&#xA;    int ind[16];&#xA;};&#xA;&#xA;&#xA;struct SortA : public triple_function &amp;lt; TestClass, TestClass, const Indicate, bool &amp;gt; &#xA;{&#xA;    bool operator () (const TestClass&amp;amp; a, const TestClass&amp;amp; b, &#xA;            const Indicate&amp;amp; indicate) const &#xA;    {&#xA;        for (int i = 0; i &amp;lt; 16; ++i) {&#xA;            int pos = indicate.ind[i];&#xA;            if (a.arr[pos] == b.arr[pos]) {&#xA;                continue ;&#xA;            }&#xA;            return a.arr[pos] &amp;lt; b.arr[pos];&#xA;        }&#xA;        return false;&#xA;    }&#xA;};&#xA;&#xA;&#xA;int main() {&#xA;    TestClass a[10];&#xA;&#xA;    Indicate ind;&#xA;    for(int i = 0; i &amp;lt; 16; ++i) {&#xA;        ind.ind[i] = i;&#xA;    }&#xA;&#xA;    sort(a, a+10, bind3rd(SortA(), ind));&#xA;    // bind3rd(SortA, ind);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;when using g++ to compile, I got these compile error:&#xA;What's wrong with my code?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;In file included from test.cpp:19:&#xA;triple_function.h:32: error: expected template-name before '&amp;lt;' token&#xA;triple_function.h:32: error: expected `{' before '&amp;lt;' token&#xA;triple_function.h:32: error: expected unqualified-id before '&amp;lt;' token&#xA;test.cpp: In function `int main()':&#xA;test.cpp:62: error: invalid use of undefined type `class binder3rd&amp;lt;SortA&amp;gt;'&#xA;triple_function.h:32: error: declaration of `class binder3rd&amp;lt;SortA&amp;gt;'&#xA;triple_function.h: In function `binder3rd&amp;lt;Operation&amp;gt; bind3rd(const Operation&amp;amp;, const Arg&amp;amp;) [with Operation = SortA, Arg = Indicate]':&#xA;test.cpp:62:   instantiated from here&#xA;triple_function.h:52: error: return type `class binder3rd&amp;lt;SortA&amp;gt;' is incomplete&#xA;triple_function.h:53: error: invalid use of undefined type `class binder3rd&amp;lt;SortA&amp;gt;'&#xA;triple_function.h:32: error: declaration of `class binder3rd&amp;lt;SortA&amp;gt;'&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1485362" LastEditorUserId="1485362" LastEditDate="2013-10-28T11:16:31.637" LastActivityDate="2013-10-28T11:16:31.637" Title="c++ compile error with template when using self-defined &quot;bind3rd&quot; function" Tags="&lt;c++&gt;&lt;templates&gt;&lt;stl&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="19676832" PostTypeId="1" AcceptedAnswerId="19676988" CreationDate="2013-10-30T08:04:45.030" Score="0" ViewCount="500" Body="&lt;p&gt;Do you know an existing plugin in VIM to create automatically an include guard&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; #ifndef &amp;lt;FILENAME&amp;gt;_&amp;lt;HPP or H&amp;gt;  // ..or similar&#xA; #define &#xA; ... code&#xA; #endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;based on the file name. Something that is part of a bigger plugin that helps in writing C/C++ code.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;An even better solution is something that creates a C/C++ header and body files altogether.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I found thee custom sulotion &lt;a href=&quot;http://stackoverflow.com/questions/19042690/how-do-i-create-a-mapping-in-vim-to-automate-the-ifdef-commands-for-h-c-file&quot;&gt;here&lt;/a&gt; but I am looking some plugin already used and widely accepted. &lt;/p&gt;&#xA;" OwnerUserId="245416" LastEditorUserId="4370109" LastEditDate="2016-05-10T12:17:33.443" LastActivityDate="2016-05-10T12:17:33.443" Title="creating include guard in vim" Tags="&lt;c++&gt;&lt;c&gt;&lt;vim&gt;&lt;c-preprocessor&gt;" AnswerCount="1" CommentCount="2" ClosedDate="2013-10-30T08:50:59.750" />
  <row Id="19968470" PostTypeId="1" AcceptedAnswerId="20064273" CreationDate="2013-11-14T02:35:33.910" Score="1" ViewCount="2470" Body="&lt;p&gt;So I'm trying to setup a project using cocos2d-x-3.0. I can set everything up just fine, and then import and run my new project in Eclipse with no problems; however, once I open the &lt;code&gt;main.cpp&lt;/code&gt; file for the first time, a bunch of errors pop up and I can no longer compile my project. The error it gives me is &lt;code&gt;Unresolved inclusion: AppDelegate.h&lt;/code&gt; on the &lt;code&gt;#include &quot;AppDelegate.h&quot;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;AppDelegate.h&quot;&#xA;#include &quot;cocos2d.h&quot;&#xA;#include &quot;CCEventType.h&quot;&#xA;#include &quot;platform/android/jni/JniHelper.h&quot;&#xA;#include &amp;lt;jni.h&amp;gt;&#xA;#include &amp;lt;android/log.h&amp;gt;&#xA;&#xA;#define  LOG_TAG    &quot;main&quot;&#xA;#define  LOGD(...)  __android_log_print(ANDROID_LOG_DEBUG,LOG_TAG,__VA_ARGS__)&#xA;&#xA;using namespace cocos2d;&#xA;&#xA;void cocos_android_app_init (struct android_app* app) {&#xA;    LOGD(&quot;cocos_android_app_init&quot;);&#xA;    AppDelegate *pAppDelegate = new AppDelegate();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I then looked and noticed the &lt;code&gt;Classes&lt;/code&gt; folder in my project was empty, despite there being classes in the &lt;code&gt;Classes&lt;/code&gt; folder in the project. So I went and added a new &lt;code&gt;Class&lt;/code&gt; folder with a link to the auto generated Classes folder in the project folder. This fixes the problem again, but if I open any of the files in my new &lt;code&gt;Class&lt;/code&gt; folder, it highlights a TON of could not be resolved errors, and I can no longer compile. Here is part of my AppDelegate.h file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _APP_DELEGATE_H_&#xA;#define  _APP_DELEGATE_H_&#xA;&#xA;#include &quot;cocos2d.h&quot;&#xA;&#xA;/**&#xA;@brief    The cocos2d Application.&#xA;&#xA;The reason for implement as private inheritance is to hide some interface call by Director.&#xA;*/&#xA;class  AppDelegate : private cocos2d::Application&#xA;{&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;There is an error at the &lt;code&gt;cocos2d::Application&lt;/code&gt; part saying &lt;code&gt;Symbol 'Application' could not be resolved&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT:&#xA;After remaking the project, I discovered that the &lt;code&gt;Classes&lt;/code&gt; folder is automatically marked as deprecated in Eclipse. I was able to make a new (non-linked) &lt;code&gt;Class&lt;/code&gt; folder, and manually add the pre-made classes, and no longer was given any errors. I have no idea why this is, but it worked.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Scratch that, now I only get errors in one of the four files. In &lt;code&gt;HelloWorldScene.cpp&lt;/code&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// add a &quot;close&quot; icon to exit the progress. it's an autorelease object&#xA;auto closeItem = MenuItemImage::create(  // Says &quot;Invalid arguments&quot; for the create call&#xA;                                       &quot;CloseNormal.png&quot;,&#xA;                                       &quot;CloseSelected.png&quot;,&#xA;                                       CC_CALLBACK_1(HelloWorld::menuCloseCallback, this)); // &quot;Symbol'_1' could not be resolved&quot; (What is Symbol_1)?&#xA;&#xA;closeItem-&amp;gt;setPosition(Point(origin.x + visibleSize.width - closeItem-&amp;gt;getContentSize().width/2 ,&#xA;                            origin.y + closeItem-&amp;gt;getContentSize().height/2));&#xA;&#xA;// create menu, it's an autorelease object&#xA;auto menu = Menu::create(closeItem, NULL);&#xA;menu-&amp;gt;setPosition(Point::ZERO);&#xA;this-&amp;gt;addChild(menu, 1);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;There are a few more &lt;code&gt;Could not be resolved&lt;/code&gt; and &lt;code&gt;Invalid arguments&lt;/code&gt; errors in there. What confuses me the most about this, is that everything compiles and runs just fine until I open the files and the errors load.&lt;/p&gt;&#xA;" OwnerUserId="1669772" LastEditorUserId="1669772" LastEditDate="2013-11-14T17:32:49.387" LastActivityDate="2014-05-08T13:00:31.740" Title="Many Errors with cocos2d-x-3.0 project creation" Tags="&lt;cocos2d-x&gt;" AnswerCount="3" CommentCount="2" FavoriteCount="1" />
  <row Id="20117895" PostTypeId="1" CreationDate="2013-11-21T10:08:27.737" Score="0" ViewCount="41" Body="&lt;p&gt;I need to implement 2 pass compiler, using same grammar. The 1st pass uses few rules only.The 2nd pass uses the full grammar. I'm looking for flagging which rules are to be used in each pass, something like ifdef ifndef (without extra &quot;noise rules&quot;)&#xA;Is there an easy way to do that ?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;A 2nd question; Is there a way to &quot;trap&quot; EOF and have &quot;Stand By&quot; state at end of file, so the next file (next pANTLR3_INPUT_STREAM ) is smooth continuation of the previous one&#xA;What's the best way to implement it ?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;thanks&lt;/p&gt;&#xA;" OwnerUserId="2767843" LastActivityDate="2013-11-21T14:06:14.173" Title="conditional parsing - is it possible?" Tags="&lt;gcc&gt;&lt;antlr3&gt;" AnswerCount="1" CommentCount="5" />
  <row Id="20179760" PostTypeId="1" AcceptedAnswerId="20180029" CreationDate="2013-11-24T19:20:26.890" Score="1" ViewCount="219" Body="&lt;p&gt;If I do the following:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;dConst.hpp&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;const int POWER_LEVEL = 9001;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;genPower.hpp&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;pre class=&quot;lang-cpp prettyprint-override&quot;&gt;&lt;code&gt;#include &quot;dConst.hpp&quot;&#xA;&#xA;#ifndef GENPOWER_HPP&#xA;#define GENPOWER_HPP&#xA;&#xA;const int GENERATOR[1] = { POWER_LEVEL };&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I end up getting linker errors for any code that utilizes the generator array constant.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;However, if I switch the &lt;code&gt;#include &quot;dConst.hpp&quot;&lt;/code&gt; with the code block:&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-cpp prettyprint-override&quot;&gt;&lt;code&gt;#ifndef GENPOWER_HPP&#xA;#define GENPOWER_HPP&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It works...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Am I misusing the power of the &lt;code&gt;#ifndef&lt;/code&gt;?&lt;/p&gt;&#xA;" OwnerUserId="2741209" LastActivityDate="2013-11-24T19:48:15.483" Title="Include Guards and #ifndef #define Preprocessing Statements" Tags="&lt;c++&gt;&lt;ifndef&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="20267955" PostTypeId="1" CreationDate="2013-11-28T13:53:28.910" Score="0" ViewCount="52" Body="&lt;p&gt;I am trying to use a c++-static function to trap I/O on multiple Serial ports as suggested here &lt;a href=&quot;http://stackoverflow.com/questions/19998286/alternativ-for-sigaction&quot;&gt;Alternativ for Sigaction&lt;/a&gt;. But I have some problems with &lt;code&gt;siginfo_t&lt;/code&gt;. &#xA;&lt;code&gt;SerialHandlerManager::register_handler&lt;/code&gt; is always initialize with SIGIO for signum&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;UPDATE: Here is a compilable shortened code&lt;/strong&gt; &lt;/p&gt;&#xA;&#xA;&lt;p&gt;serialTest.cpp:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;serialTest.h&quot;&#xA;#include &quot;stdio.h&quot;&#xA;/*----------------------SERIAL HANDLER MANAGER -----------------------------*/&#xA;SerialHandlerManager::SerialHandlerManager(){};&#xA;&#xA;SerialHandlerManager* SerialHandlerManager::the_manager;&#xA;&#xA;SerialHandlerManager* SerialHandlerManager::get_instance(){&#xA;    if(!the_manager)&#xA;        the_manager = new SerialHandlerManager;&#xA;    return the_manager;&#xA;}&#xA;&#xA;void SerialHandlerManager::register_handler( int signum, int fd, SerialHandler* handler){&#xA;    /* ------------handling sigaction------------ */&#xA;   struct sigaction act;&#xA;    memset( &amp;amp;act, 0, sizeof(struct sigaction));&#xA;&#xA;    act.sa_flags = SA_SIGINFO;&#xA;    act.sa_sigaction = SerialHandlerManager::dispatch_signal;&#xA;    if(fd &amp;gt;= handler_objects.size()) handler_objects.resize(fd + 1);&#xA;    handler_objects[fd] = handler;&#xA;    sigaction( signum, &amp;amp;act, NULL );&#xA;&#xA;}&#xA;&#xA;void SerialHandlerManager::dispatch_signal( int signum, siginfo_t * info, void * context )&#xA;{&#xA;     printf(&quot;%p %p %p\n&quot;, (void*)signum, info, context);&#xA;     printf(&quot;%d %d \n&quot;, info-&amp;gt;si_fd, info-&amp;gt;si_code);&#xA;//    (get_instance()-&amp;gt;handler_objects[info-&amp;gt;si_fd])-&amp;gt;receive_function( signum );&#xA;}&#xA;&#xA;/*------------------------- SERIAL HANDLER----------------------------------*/&#xA;&#xA;/*------ CONST/DESTRUCT----- */&#xA;SerialHandler::SerialHandler( char* dev){&#xA;    //Setting Baudrate&#xA;&#xA;    int baudrate = B38400;&#xA;&#xA;    if ((this-&amp;gt;config.fd = open(dev, O_RDWR | O_NOCTTY | O_NDELAY)) == -1)/* | O_NDELAY*/&#xA;    {&#xA;        perror(&quot;SerialHandler():Can't open device &quot;);&#xA;    }&#xA;&#xA;    config.term_attr.c_cflag    = 0;&#xA;&#xA;    config.term_attr.c_cflag    = (baudrate | CS8 | CLOCAL | CREAD) &amp;amp; (~CSTOPB);&#xA;    config.term_attr.c_iflag    = 0;&#xA;    config.term_attr.c_oflag    = 0;&#xA;    config.term_attr.c_lflag    = 0;&#xA;&#xA;&#xA;    if (tcsetattr(config.fd, TCSAFLUSH, &amp;amp;config.term_attr) != 0)&#xA;    {perror(&quot;serial_init():tcsetattr() failed&quot;);}&#xA;&#xA;    fcntl(config.fd, F_SETFL,FASYNC);&#xA;    /* installing Signal handler for Input interrupt */&#xA;    printf(&quot;fd: %d\n&quot;,config.fd);&#xA;    //Notify SerialHandlerManager that we are sensitive for SIGIO&#xA;    install_singal_handler( SIGIO );&#xA;&#xA;}&#xA;SerialHandler::~SerialHandler(){&#xA;    close(this-&amp;gt;config.fd);&#xA;}&#xA;/*------------------------------- receiving -------------------------------*/&#xA;void SerialHandler::receive_function(int status){&#xA;    printf(&quot;RECEIVE FUNCTION&quot;);&#xA;}&#xA;&#xA;void SerialHandler::install_singal_handler( int signum){&#xA;    (SerialHandlerManager::get_instance())-&amp;gt;register_handler( signum, config.fd, this);&#xA;}&#xA;&#xA;int main(int argc,char* argv[]){&#xA;    //Install Serial Handler&#xA;    SerialHandler testhandler(argv[1]);&#xA;    sleep(100);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;serialTest.h:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  serialTest_INC&#xA;#define  serialTest_INC&#xA;&#xA;#include &amp;lt;linux/ioctl.h&amp;gt;&#xA;#include &amp;lt;string.h&amp;gt;&#xA;#include &amp;lt;sys/ioctl.h&amp;gt;&#xA;#include &amp;lt;sys/signal.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;#include &amp;lt;termios.h&amp;gt;&#xA;#include &amp;lt;fcntl.h&amp;gt;&#xA;#include &amp;lt;unistd.h&amp;gt; /* close /dev**/&#xA;#include &amp;lt;vector&amp;gt;&#xA;struct serial_cfg&#xA;{&#xA;    int fd;&#xA;    fd_set input_fdset;&#xA;    struct termios term_attr;&#xA;};&#xA;&#xA;&#xA;class SerialHandler{&#xA;    friend class SerialHandlerManager;&#xA;    private:&#xA;&#xA;    //config of serial port&#xA;    struct serial_cfg config;&#xA;&#xA;    /* installs new signal handler in SerialHandlerManager */&#xA;    void install_singal_handler( int signum );&#xA;&#xA;/* Called using the SerialHandlerManager*/&#xA;    void receive_function(int status);&#xA;    public:&#xA;    SerialHandler(char* dev);&#xA;    /* also closes the device and releases it */&#xA;    ~SerialHandler();&#xA;};&#xA;&#xA;/* For Handling multiple sigactions &#xA; * Singleton class*/&#xA;class SerialHandlerManager{&#xA;    private:&#xA;        SerialHandlerManager();&#xA;        static SerialHandlerManager* the_manager;&#xA;        std::vector&amp;lt;SerialHandler *&amp;gt; handler_objects;&#xA;        static void dispatch_signal( int signum, siginfo_t* info, void* context);&#xA;    public:&#xA;        static SerialHandlerManager* get_instance();&#xA;        /* Register new Serial Handler */&#xA;        void register_handler(int signum, int fd, SerialHandler* handler);&#xA;};&#xA;&#xA;#endif   /* ----- #ifndef serialTest_INC  ----- */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So if there are data incoming on a serial Port. the &lt;code&gt;dispatch_signal&lt;/code&gt; function is actually called, but it seems siginfo_t does not have the right information.  Here is the output:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;singal recived on fd: 0 , si_code: 128&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;this seems totally wrong, since 128 is a SI_KERNEL code. But having a look in the sigaction man-page says that only POLL_IN, POLL_OUT,... can be placed in si_code when there is a SIGIO. Also the fd shouldn't be 0, as I need the correct fd to call the correct Object function.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am totally confused right now and need your help!&lt;/p&gt;&#xA;" OwnerUserId="2713550" LastEditorUserId="2713550" LastEditDate="2013-11-29T13:40:47.817" LastActivityDate="2013-11-29T13:40:47.817" Title="Linux Signal: siginfo_t has wrong information" Tags="&lt;c++&gt;&lt;linux&gt;&lt;signals&gt;" AnswerCount="0" CommentCount="6" FavoriteCount="1" ClosedDate="2013-11-30T10:07:10.870" />
  <row Id="20389064" PostTypeId="1" CreationDate="2013-12-05T00:30:13.187" Score="2" ViewCount="2575" Body="&lt;p&gt;I'm writing a makefile that requires some enviroment variables to be defined. I am trying to use something like this to acheive this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;define check-var-defined&#xA;  ifndef $(1)&#xA;    $(error $(1) is not defined)&#xA;  endif&#xA;endef&#xA;&#xA;$(call check-var-defined,VAR1)&#xA;$(call check-var-defined,VAR2)&#xA;$(call check-var-defined,VAR3)&#xA;&#xA;rule1:&#xA;    #stuff &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When I run make with no args I get this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$ make&#xA;Makefile:7: *** VAR1 is not defined. Stop.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But when I run it with VAR1 specified I get the same error. &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$ make VAR1=hello&#xA;Makefile:7: *** VAR1 is not defined. Stop.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Any ideas why this doesn't work? What can I do to make this work? Thanks in advance.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(Note that I need to check that the variables are actually defined when the makefile is run, as I need to include another makefle further down and the variables need to be set correctly by the time I do this). &lt;/p&gt;&#xA;" OwnerUserId="1665317" LastActivityDate="2014-03-20T17:18:18.820" Title="Using GNU-make functions to check if variables are defined" Tags="&lt;makefile&gt;&lt;gnu-make&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="21584362" PostTypeId="1" AcceptedAnswerId="21584471" CreationDate="2014-02-05T17:34:31.540" Score="0" ViewCount="83" Body="&lt;p&gt;Please consider the following&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*utils.h*/&#xA;#include &amp;lt;cstdio&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;//#include some other files, including &amp;lt;string&amp;gt;&#xA;//ifndef ... and such macro&#xA;extern string configpath;&#xA;extern void writelog(string, string);&#xA;extern string get_fromfile(string, string);&#xA;//end the said macro &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;then we have&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*utils.cpp*/&#xA;//all necessary includes, including &amp;lt;string&amp;gt;&#xA;#include &quot;utils.h&quot; //they are in the same folder, as the following main .cpp&#xA;void writelog(string msg, string location = &quot;lookinconfigfile&quot;)&#xA;{&#xA;if (location == &quot;lookinconfigfile&quot;)&#xA;  {&#xA;    get_fromFile(configpath, &quot;logpath&quot;); &#xA;    //the function correctly returns the path to logfile, tested separatly.&#xA;  }&#xA;  ...&#xA;}&#xA;string get_formFile(string flpt, string wht)&#xA;{...}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;then in main.cpp, i include utils.h, and set the configpath to point to a file which holds a path to the logfile. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;now &lt;code&gt;g++ -c utils.cpp -std=c++11&lt;/code&gt; produces utils.o&#xA;&lt;code&gt;g++ -c main.cpp -std=c++11&lt;/code&gt; produces main.o&lt;/p&gt;&#xA;&#xA;&lt;p&gt;before introducing the configpath as a global variable, by explicitly mentioning the configpath, that is, hard coding it to each occurrence, i was able to do this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;g++ main.o -o main&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and that would generate main as an executable which would behave as expected.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;But now i get this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;main.o: In function `writelog(std::string, std::string)':&#xA;main.cpp:(.text+0x2ce): undefined reference to `configpath&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Also, if i keep the definition of &lt;code&gt;get_fromFile&lt;/code&gt; in &lt;code&gt;utils.cpp _after_ writelog&lt;/code&gt;, despite the prototype in utils.h, i get that &lt;code&gt;get_fromFile is not defined&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;where do i search looking for solutions?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;edit: as user2079303 suggested, yes, it is utils.h, not utils.cpp, thank you.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;edit2: as bobah mentioned, i actually have the cases correct in my code, just mistyped here. sorry.&lt;/p&gt;&#xA;" OwnerUserId="410719" LastEditorUserId="410719" LastEditDate="2014-02-05T17:51:46.947" LastActivityDate="2014-02-05T22:34:21.030" Title="communication between a cpp file and an h file" Tags="&lt;c++11&gt;&lt;header-files&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="21672834" PostTypeId="1" AcceptedAnswerId="21688467" CreationDate="2014-02-10T09:06:26.160" Score="1" ViewCount="461" Body="&lt;p&gt;I am using VS2012 for a course project that we started from scratch, We are to use C++ to create something like this (I think the aggregation part is reversed):&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&quot;https://www.dropbox.com/s/w2zh7yltbups6cm/class.png&quot; rel=&quot;nofollow&quot;&gt;https://www.dropbox.com/s/w2zh7yltbups6cm/class.png&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Well , we had that on paper , wrote the code for each class with no problems, except we can't test because each class depends on another that was not finished at the time.&#xA;Long story short : each class has its own untested code and VS does not detect any errors whatsoever and based on our previous experience we know that the code is correct, no syntax errors anyway.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;When I start compiling some 500 errors come out of nowhere , some of them it says in &quot;time.h&quot; , I thought it was something wrong with the compiler , tried switching to C::B and see if it work but i needed a different compiler and I don't have the time to download any large files ,seriously , deadline in 2 days and internet speed sucks.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;doing some research here (and googling around) I narrowed it down to cyclic dependencies and I learned that I can draw the diagram in VS and get code files , unfortunately it does it in C# while I have a C++ code (it has to be C++) .&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How can I realize this diagram in C++ ? Which class should include which headers ?&#xA;How can I avoid this in the future ?&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;EDIT:&#xA;Solved it by removing all dependencies and disabling pre-compiled headers (Don't really know if I had to) , then I included each .h in its corresponding .cpp , then I included in each .h every header it needs to use.&#xA;All that did not really solve my problem , it was the declarations !!!&#xA;I did #ifndef &lt;em&gt;myclass&lt;/em&gt; , #define &lt;em&gt;myclass&lt;/em&gt; to each header and declared the used classes , I think it's what's called &quot;Forward Declaration&quot; (correct me if I'm wrong)&#xA;Anyway it finally compiled and I will start testing .&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If you have any remarks then by all means , you can add them.&lt;/p&gt;&#xA;" OwnerUserId="3160344" LastEditorUserId="3160344" LastEditDate="2014-02-10T11:45:17.377" LastActivityDate="2014-02-10T21:57:10.287" Title="Converting UML class diagram to C++ code(VS 2012)" Tags="&lt;class&gt;&lt;uml&gt;&lt;diagram&gt;&lt;cyclic-dependency&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="22027014" PostTypeId="1" CreationDate="2014-02-25T21:49:36.537" Score="1" ViewCount="208" Body="&lt;p&gt;I have to code essentially what would mimic a std::map. I have a templated pair class, and a table class.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am given a transition table:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;        A       B       C       D       E&#xA;nke     fa1     ok1     fa1     fa1     fa1&#xA;ok1     ok2     fa2     fa2     fa2     fa2&#xA;ok2     ok3     fa3     fa3     fa3     fa3&#xA;ok3     nke     nke     nke     nke     nke&#xA;fa1     fa2     fa2     fa2     fa2     fa2&#xA;fa2     fa3     fa3     fa3     fa3     fa3&#xA;fa3     nke     nke     nke     nke     nke&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and an action table:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;          A             B           C            D          E&#xA;nke             &#xA;ok1     &#xA;ok2     &#xA;ok3     alarm       alarm       alarm       unlock      alarm&#xA;fa1     &#xA;fa2     &#xA;fa3     alarm       alarm       alarm       alarm       alarm   &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Basically, I'm suppose to code a security system, where a door opens after someone punches in the combination BAAD. Anything else will sound the alarm.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I understand the concept, but I do not understand how to create a mapping of the table.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Below in the header file, &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;int (*Mapping)( Key k); &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I cannot figure out how I would map key to value using the action and transition table.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How do I map the values of the table by primary key and value?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Please ask if I need to supply anymore information,&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Table Header File:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  TABLE_H&#xA;#define  TABLE_H&#xA;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;stdexcept&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &quot;pair.h&quot;    // Pair class&#xA;&#xA;&#xA;using namespace std;&#xA;// implements a table containing key/value pairs.&#xA;// a table does not contain multiple copies of the same item.&#xA;// types T and Key must have a default constructor&#xA;&#xA;&#xA;template &amp;lt; class Key, typename T &amp;gt;&#xA;class Table&#xA;{&#xA;public:&#xA;Table();  //default constructor&#xA;~Table(); //destructor&#xA;&#xA;typedef Key key_type;&#xA;// for  convenience&#xA;&#xA;private:&#xA;// table implemented using a one dimensional array of key-value pairs&#xA;int tableSize;&#xA;Pair&amp;lt; key_type, T &amp;gt; *the_table;&#xA;&#xA;&#xA;int (*Mapping)( Key k);&#xA;// Mapping is a function which maps keys to&#xA;// an array index; ie a key to address mapping&#xA;// the idea is that Mapping will act on a given key&#xA;// in such a way as to return the relative postion&#xA;// in the sequence at which we expect to find the key&#xA;// Mapping will be used in the remove, add, lookup. =&#xA;// member functions and copy constructor&#xA;&#xA;public:&#xA;// for debugging&#xA;void   print();&#xA;&#xA;Table( int n, int (*map)( Key k)  );&#xA;// map is a function to map key to address&#xA;// in the implementation&#xA;// set the function ie have the code line&#xA;// Mapping = map;&#xA;// populates table with default values&#xA;// for the class Key and T&#xA;&#xA;bool insert(  Pair&amp;lt;  Key, T &amp;gt;  kvpair );&#xA;// return true if item could be added to the&#xA;// table false if item was not added.&#xA;&#xA;bool remove(  const Key  aKey );&#xA;// erase the key/value pair with the specified key&#xA;// from the table and return if successful&#xA;// removed item is replaced with default&#xA;// values for Key and T&#xA;&#xA;T  lookUp (const Key aKey) ;&#xA;// what if key not in table??&#xA;&#xA;//need copy constructor&#xA;//need destructor&#xA;// void operator= ( const Table &amp;amp; initTable );&#xA;// bool empty() const;&#xA;// is the table empty?&#xA;// bool full() const;&#xA;// is the table full?&#xA;// int size() const;&#xA;// return the number of elements in the table&#xA;// bool isIn(const Key&amp;amp; key) const;&#xA;// returns true/false in response to obvious question&#xA;};&#xA;&#xA;#include &quot;table.t&quot;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2316884" LastEditorUserId="4370109" LastEditDate="2017-02-07T23:19:37.140" LastActivityDate="2017-02-07T23:19:37.140" Title="Custom Table ADT (map) FSM (finite state machine)" Tags="&lt;c++&gt;&lt;arrays&gt;&lt;dictionary&gt;&lt;data-structures&gt;" AnswerCount="0" CommentCount="4" />
  <row Id="22269604" PostTypeId="1" AcceptedAnswerId="22269649" CreationDate="2014-03-08T12:57:46.113" Score="0" ViewCount="4774" Body="&lt;p&gt;I keep on getting this error, and I don't know why.Please won't someone explain why such a error is and how I can avoid such a error. This is being compiled with g++&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;My header file&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _STUDENT_H &#xA;#define  _STUDENT_H &#xA;#include &amp;lt;string&amp;gt;&#xA;namespace name {&#xA;   class StudentRecord&#xA;{&#xA;private:&#xA;    std::string name;&#xA;    std::string surname;&#xA;    std::string studentNumber;&#xA;    std::string classRecord;&#xA;    int token;&#xA;&#xA;public:&#xA;    StudentRecord(std::string  n , std::string s , std::string x , std::string c );&#xA;    StudentRecord(void);&#xA;    StudentRecord(const StudentRecord &amp;amp; rhs);&#xA;&#xA;    StudentRecord(StudentRecord &amp;amp;&amp;amp; rhs );&#xA;    ~StudentRecord();&#xA;    int avg(void);&#xA;    int aquire_token(void);&#xA;    void release_token(void);&#xA;};&#xA;&#xA;}&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;*&lt;em&gt;My cpp file as stands *&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;cstdlib&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &quot;studentrecords.h&quot;&#xA;namespace name{&#xA;&#xA;&#xA;// Copy Constructor&#xA;    // Error&#xA;StudentRecord(const StudentRecord &amp;amp; rhs)&#xA;{};&#xA;&#xA;// Move Constructor&#xA;&#xA;&#xA;&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2757083" LastEditorUserId="2757083" LastEditDate="2014-03-08T13:09:54.253" LastActivityDate="2014-03-08T13:09:54.253" Title="error: expected unqualified-id before ‘const’ on line 8" Tags="&lt;c++&gt;&lt;c++11&gt;" AnswerCount="2" CommentCount="3" FavoriteCount="1" />
  <row Id="22280278" PostTypeId="1" AcceptedAnswerId="22281003" CreationDate="2014-03-09T08:57:22.157" Score="0" ViewCount="149" Body="&lt;p&gt;Below is a snippet of my C++  code that deals with Copy assignment operator :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;StudentRecord &amp;amp; operator=(const StudentRecord &amp;amp; rhs) {&#xA;if (this != &amp;amp;rhs ){&#xA;    StudentRecord::name = rhs.name;&#xA;    StudentRecord:: surname = rhs.surname;&#xA;        StudentRecord::studentNumber=rhs.studentNumber;&#xA;        StudentRecord::classRecord = rhs.classRecord;&#xA;        int newToken= StudentRecord::aquire_token();&#xA;        if(StudentRecord::token != -1){&#xA;            //Error here&#xA;            StudentRecord::release_token( StudentRecord::token );&#xA;        }&#xA;&#xA;}&#xA;&#xA;&#xA;return (*this);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Below is the declaration of the member function in the .h header file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;StudentRecord operator=(const StudentRecord  &amp;amp; rhs);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However I get the following error message using Eclipse on Linux:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Invalid arguments 'Candidates are:void release_token(int)'&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Is this something I should be concerned about given that Eclipse in my experience is prone to misbehaving when in use as ide for C++ development. It this is a genuine concern, why is the error occurring and what  step are necessary to fix the error&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Please I really need to know.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _STUDENT_H&#xA;#define  _STUDENT_H&#xA;#include &amp;lt;string&amp;gt;&#xA;namespace dnkmat001 {&#xA;class StudentRecord&#xA;{&#xA;&#xA;public:&#xA;    std::string name;&#xA;    std::string surname;&#xA;    std::string studentNumber;&#xA;    std::string classRecord;&#xA;    int token;&#xA;&#xA;public:&#xA;    StudentRecord(const std::string&amp;amp;  n , const std::string&amp;amp; s , const std::string&amp;amp; x , const std::string&amp;amp; c );&#xA;    StudentRecord(void);&#xA;    StudentRecord(const StudentRecord &amp;amp; rhs);&#xA;    StudentRecord(StudentRecord &amp;amp;&amp;amp; rhs );&#xA;    StudentRecord operator=(const StudentRecord  &amp;amp; rhs);&#xA;    StudentRecord operator=(const StudentRecord  &amp;amp;&amp;amp; rhs);&#xA;    ~StudentRecord();&#xA;    int avg(void);&#xA;    static int aquire_token();&#xA;    void release_token(int t);&#xA;};&#xA;&#xA;  }&#xA; #endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is the declaration of release_token(int):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;void release_token(int t);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2757083" LastEditorUserId="450758" LastEditDate="2014-03-09T12:01:17.040" LastActivityDate="2014-03-10T09:05:03.897" Title="C++ Copy Assignment Operator issues" Tags="&lt;c++&gt;&lt;c++11&gt;" AnswerCount="1" CommentCount="14" FavoriteCount="1" />
  <row Id="22289059" PostTypeId="1" CreationDate="2014-03-09T22:29:15.610" Score="-2" ViewCount="277" Body="&lt;p&gt;My setup is as follows:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;studentrecord.h&lt;/code&gt;, &lt;code&gt;studentrecord.cpp&lt;/code&gt; , &lt;code&gt;database.cpp&lt;/code&gt; , &lt;code&gt;database.h&lt;/code&gt; &lt;code&gt;main.cpp&lt;/code&gt;,&lt;code&gt;counter.h*&lt;/code&gt; ,  A folder containing : &lt;code&gt;tokenlib.h*&lt;/code&gt; , &lt;code&gt;tokenlib.cpp*&lt;/code&gt; ,&lt;code&gt;tokenlib.so&lt;/code&gt;,&lt;code&gt;driver.cpp*&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;studentrecord.h:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _STUDENT_H&#xA;#define  _STUDENT_H&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;vector&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &quot;counter.h&quot;&#xA;namespace dnkmat001&#xA;{&#xA;using std::string;&#xA;&#xA;&#xA;&#xA;class StudentRecord : public sjp::counter&amp;lt;StudentRecord&amp;gt;&#xA;{&#xA;&#xA;public:&#xA;    string name;&#xA;    string surname;&#xA;    string studentNumber;&#xA;    string classRecord;&#xA;    int token;&#xA;&#xA;public:&#xA;    StudentRecord(const string&amp;amp; n, const string&amp;amp; s,&#xA;                  const string&amp;amp; x, const string&amp;amp; c);&#xA;    StudentRecord(void);&#xA;    StudentRecord(const StudentRecord &amp;amp; rhs);&#xA;    StudentRecord(StudentRecord &amp;amp;&amp;amp; rhs);&#xA;    StudentRecord &amp;amp; operator=(const StudentRecord &amp;amp; rhs);&#xA;    StudentRecord &amp;amp; operator=(StudentRecord &amp;amp;&amp;amp; rhs);&#xA;    ~StudentRecord();&#xA;    friend std::ostream&amp;amp; operator&amp;lt;&amp;lt;(std::ostream&amp;amp; os, const StudentRecord&amp;amp; sr);&#xA;    string stud_avg () const;&#xA;};&#xA;&#xA;&#xA;&#xA;}&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;studentrecord.cpp:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;cstdlib&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;algorithm&amp;gt;&#xA;#include &quot;studentrecord.h&quot;&#xA;#include &amp;lt;sstream&amp;gt;&#xA;#include &quot;tokenlib/tokenlib.h&quot;&#xA;&#xA;&#xA;using std::vector;&#xA;using std::move;&#xA;&#xA;namespace dnkmat001&#xA;{&#xA;// Constructor&#xA;StudentRecord::StudentRecord(const string&amp;amp; n, const string&amp;amp; s,&#xA;                             const string&amp;amp; x, const string&amp;amp; c) :&#xA;    name(n), surname(s), studentNumber(x), classRecord(c), token(&#xA;        tokenlib::acquire_token())&#xA;{&#xA;&#xA;}&#xA;// Default Constructor&#xA;StudentRecord::StudentRecord() :&#xA;    name(&quot;John&quot;), surname(&quot;Doe&quot;), studentNumber(&quot;dxejoh001&quot;), classRecord(&#xA;        &quot;50 50 50 50&quot;), token(tokenlib::acquire_token())&#xA;{&#xA;&#xA;}&#xA;&#xA;// Copy Constructor&#xA;StudentRecord::StudentRecord(const StudentRecord &amp;amp; rhs) :&#xA;    name(rhs.name), surname(rhs.surname), studentNumber(rhs.studentNumber), classRecord(&#xA;        rhs.classRecord), token(tokenlib::acquire_token())&#xA;{&#xA;}&#xA;&#xA;// Move Constructor&#xA;StudentRecord::StudentRecord(StudentRecord &amp;amp;&amp;amp; rhs) :&#xA;    name(move(rhs.name)), surname(move(rhs.surname)), studentNumber(&#xA;        move(rhs.studentNumber)), classRecord(&#xA;            move(rhs.classRecord)), token(tokenlib::acquire_token())&#xA;{&#xA;}&#xA;&#xA;// Copy Assignment Operator&#xA;StudentRecord &amp;amp; StudentRecord::operator=(const StudentRecord &amp;amp; rhs)&#xA;{&#xA;    if (this != &amp;amp;rhs)&#xA;    {&#xA;        name = rhs.name;&#xA;        surname = rhs.surname;&#xA;        studentNumber = rhs.studentNumber;&#xA;        classRecord = rhs.classRecord;&#xA;        int newToken = tokenlib::acquire_token();&#xA;        if (token != -1)&#xA;        {&#xA;            tokenlib::release_token(StudentRecord::token);&#xA;        }&#xA;        token = newToken;&#xA;    }&#xA;&#xA;    return (*this);&#xA;&#xA;}&#xA;&#xA;// Move Assignment Operator&#xA;StudentRecord &amp;amp; StudentRecord::operator =(StudentRecord &amp;amp;&amp;amp; rhs)&#xA;{&#xA;    if (this != &amp;amp;rhs)&#xA;    {&#xA;        name = move(rhs.name);&#xA;        surname = move(rhs.surname);&#xA;        studentNumber = move(rhs.studentNumber);&#xA;        classRecord = move(rhs.classRecord);&#xA;        if (token != -1)&#xA;        {&#xA;            tokenlib::release_token(token);&#xA;        }&#xA;        token = rhs.token;&#xA;        rhs.token = -1;&#xA;&#xA;    }&#xA;    return *this;&#xA;}&#xA;&#xA;//Stream Operator&#xA;&#xA;&#xA;// Destructor&#xA;StudentRecord::~StudentRecord()&#xA;{&#xA;    if (token != -1)&#xA;    {&#xA;        tokenlib::release_token(token);&#xA;    }&#xA;&#xA;}&#xA;&#xA;&#xA;string StudentRecord::stud_avg  () const&#xA;{&#xA;    std::istringstream iss (classRecord);&#xA;    vector&amp;lt;string&amp;gt; temp;&#xA;    int sum = 0 ;&#xA;    int count = 0;&#xA;    while(!iss.eof())&#xA;    {&#xA;        string s;&#xA;        int m;&#xA;        std::stringstream convert(s);&#xA;        if ( !(convert &amp;gt;&amp;gt; m))&#xA;        {&#xA;        }&#xA;        else&#xA;        {&#xA;            sum += m;&#xA;            ++count;&#xA;        }&#xA;&#xA;&#xA;&#xA;&#xA;    }&#xA;&#xA;    int avg = sum/count;&#xA;&#xA;&#xA;    return &quot;The student average is :&quot; + avg;&#xA;&#xA;}&#xA;**std::ostream&amp;amp; operator&amp;lt;&amp;lt;(std::ostream&amp;amp; os, const StudentRecord&amp;amp; sr)&#xA;{&#xA;    os &amp;lt;&amp;lt; sr.name &amp;lt;&amp;lt;&quot; &quot;&amp;lt;&amp;lt; sr.surname &amp;lt;&amp;lt;&quot; &quot;&amp;lt;&amp;lt; sr.studentNumber &amp;lt;&amp;lt;&quot; &quot;&amp;lt;&amp;lt;sr.stud_avg();&#xA;    return os;**&#xA;}&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;database.h:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef DATABASE_H_&#xA;#define DATABASE_H_&#xA;#include &amp;lt;list&amp;gt;&#xA;#include &quot;studentrecord.h&quot;&#xA;&#xA;namespace dnkmat001&#xA;{&#xA;using std::list;&#xA;using std::string;&#xA;using std::istringstream;&#xA;&#xA;class Database&#xA;{&#xA;public:&#xA;    list&amp;lt;StudentRecord&amp;gt;studRcrds;&#xA;    list&amp;lt;StudentRecord&amp;gt;::iterator it;&#xA;&#xA;public:&#xA;    Database();&#xA;    Database(const Database &amp;amp; rhs);&#xA;    void add_student(const std::string&amp;amp;  n , const string&amp;amp; s , const string&amp;amp; x , const string&amp;amp; c);&#xA;    void deleteStudent(StudentRecord stud);&#xA;    bool check(const string&amp;amp;  n , const string&amp;amp; s );&#xA;    int check_index(void);&#xA;    string avg_grade(string studNum);&#xA;    void display_all();&#xA;    ~Database();&#xA;&#xA;};&#xA;&#xA;}&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;database.cpp:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;database.h&quot;&#xA;&#xA;using std::vector;&#xA;using std::cout;&#xA;using std::endl;&#xA;namespace dnkmat001&#xA;{&#xA;list&amp;lt;StudentRecord&amp;gt;studRcrds;&#xA;list&amp;lt;StudentRecord&amp;gt;::iterator it;&#xA;&#xA;&#xA;&#xA;Database::Database()&#xA;{&#xA;&#xA;&#xA;}&#xA;&#xA;Database::~Database()&#xA;{&#xA;&#xA;}&#xA;&#xA;&#xA;// Average Grade:&#xA;&#xA;string  Database::avg_grade(string number)&#xA;&#xA;{&#xA;   string result;&#xA;    for(it = studRcrds.begin() ; it != studRcrds.end() ; ++it)&#xA;    {&#xA;        if ((*it).studentNumber == number)&#xA;        {&#xA;         **result=(*it).stud_avg();**&#xA;    }&#xA;&#xA;}&#xA; return result;&#xA;}&#xA;void Database::add_student(const string&amp;amp;  n , const string&amp;amp; s , const string&amp;amp; x , const string&amp;amp; c)&#xA;{&#xA;    StudentRecord student (n , s , x ,c );&#xA;    studRcrds.push_back(student);&#xA;}&#xA;&#xA;&#xA;void Database::display_all(){&#xA;for(it = studRcrds.begin() ; it != studRcrds.end() ; ++it)&#xA;    {&#xA;    cout&amp;lt;&amp;lt;*it;&#xA;    }&#xA;}&#xA;&#xA;} /* namespace dnkmat001 */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;main.cpp:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;vector&amp;gt;&#xA;#include &amp;lt;sstream&amp;gt;&#xA;#include &amp;lt;algorithm&amp;gt;&#xA;#include &amp;lt;cctype&amp;gt;&#xA;#include &amp;lt;climits&amp;gt;&#xA;#include &quot;database.h&quot;&#xA;#include &quot;tokenlib/tokenlib.h&quot;&#xA;&#xA;&#xA;using namespace dnkmat001;&#xA;using std::string;&#xA;using std::vector;&#xA;using std::cout;&#xA;using std::endl;&#xA;using std::cin;&#xA;&#xA;&#xA;&#xA;&#xA;int convertToInt(string s)&#xA;{&#xA;    int Result;&#xA;    std::stringstream convert(s);&#xA;    if (!(convert &amp;gt;&amp;gt; Result))&#xA;    {&#xA;        Result = INT_MAX;&#xA;    }&#xA;&#xA;    return (Result);&#xA;&#xA;}&#xA;struct to_lower&#xA;{&#xA;    int operator() ( int ch )&#xA;    {&#xA;        return std::tolower ( ch );&#xA;    }&#xA;};&#xA;&#xA;void clear(void)&#xA;{&#xA;    std::cout &amp;lt;&amp;lt; string(100, '\n');&#xA;}&#xA;&#xA;int main()&#xA;{&#xA;    int option;&#xA;&#xA;&#xA;&#xA;    typedef vector&amp;lt;string&amp;gt;::size_type vec_sz;&#xA;    vector&amp;lt;string&amp;gt; menuOptions { &quot;Add student&quot;, &quot;Delete student&quot;,&#xA;                                 &quot;Read database &quot;, &quot;Display given student data&quot;, &quot;Grade student&quot;,&#xA;                                 &quot;Display all student data&quot;, &quot;Find winning student&quot;, &quot;Quit&quot;&#xA;                               };&#xA;&#xA;    string input;&#xA;&#xA;&#xA;    transform(input.begin() , input.end() , input.begin(), to_lower());&#xA;&#xA;&#xA;    for (;;)&#xA;    {&#xA;&#xA;        for (vec_sz i = 0; i &amp;lt; menuOptions.size(); ++i)&#xA;        {&#xA;            if (menuOptions[i] != &quot;Quit&quot;)&#xA;            {&#xA;                cout &amp;lt;&amp;lt; i &amp;lt;&amp;lt; &quot;:  &quot; &amp;lt;&amp;lt; menuOptions[i] &amp;lt;&amp;lt; endl;&#xA;            }&#xA;            else&#xA;            {&#xA;                cout &amp;lt;&amp;lt; &quot;q&quot; &amp;lt;&amp;lt; &quot;:  &quot; &amp;lt;&amp;lt; menuOptions[i] &amp;lt;&amp;lt; endl;&#xA;            }&#xA;&#xA;        }&#xA;        cin &amp;gt;&amp;gt; input;&#xA;&#xA;&#xA;        option = convertToInt(input);&#xA;        Database db;&#xA;&#xA;        switch (option)&#xA;        {&#xA;        case 0:&#xA;        {&#xA;            cout&amp;lt;&amp;lt;&quot;Enter the student's information: &quot;&amp;lt;&amp;lt;endl;&#xA;            cout&amp;lt;&amp;lt;&quot;Enter the student's first name: &quot;&amp;lt;&amp;lt;endl;&#xA;            string name;&#xA;            cin&amp;gt;&amp;gt;name;&#xA;            cout&amp;lt;&amp;lt;&quot;Enter the student's last name: &quot;&amp;lt;&amp;lt;endl;&#xA;            string surname;&#xA;            cin&amp;gt;&amp;gt;surname;&#xA;            cout&amp;lt;&amp;lt;&quot;Enter the student's unique student number: &quot;&amp;lt;&amp;lt;endl;&#xA;            string studentNo;&#xA;            cin&amp;gt;&amp;gt;studentNo;&#xA;            cout&amp;lt;&amp;lt;&quot;Enter the list of marks obtained by the student during the course.\n&quot;&#xA;                &amp;lt;&amp;lt;&quot;Marks must be separated by a space and must be on the same line followed by enter key:  &quot;&amp;lt;&amp;lt;endl;&#xA;            string classRcd;&#xA;            cin&amp;gt;&amp;gt; classRcd;&#xA;            db.add_student( name , surname , studentNo , classRcd);&#xA;            clear();&#xA;        }&#xA;&#xA;        break;&#xA;&#xA;        case 1:&#xA;        {&#xA;            cout&amp;lt;&amp;lt;&quot;Enter the information of the student you wish to delete: &quot;&amp;lt;&amp;lt;endl;&#xA;            //db.delete_student();&#xA;            clear();&#xA;        }&#xA;        break;&#xA;&#xA;        case 2:&#xA;        {&#xA;            clear();&#xA;        }&#xA;        break;&#xA;&#xA;        case 3:&#xA;            break;&#xA;&#xA;        case 4:&#xA;&#xA;            break;&#xA;&#xA;        case 5:&#xA;            db.display_all();&#xA;            clear();&#xA;            break;&#xA;&#xA;        case 6:&#xA;            break;&#xA;&#xA;        default:&#xA;            break;&#xA;&#xA;        }&#xA;        if (input == &quot;q&quot;)&#xA;        {&#xA;            StudentRecord::print_counts(cout , &quot;StudentRecord&quot;);&#xA;            tokenlib::final_token_check();&#xA;            break;&#xA;        }&#xA;&#xA;    }&#xA;&#xA;&#xA;    return (0);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;counter.h:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef COUNTER_H_&#xA;#define COUNTER_H_&#xA;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;typeinfo&amp;gt;&#xA;&#xA;namespace sjp {&#xA;&#xA;template &amp;lt;typename T&amp;gt;&#xA;struct counter&#xA;{&#xA;    static std::size_t objects_created;&#xA;    static std::size_t objects_alive;&#xA;    static std::size_t objects_destroyed;&#xA;    counter()&#xA;        { ++objects_created; ++objects_alive; }&#xA;&#xA;    static void print_counts(std::ostream &amp;amp; out, const std::string &amp;amp; type)&#xA;    {&#xA;        out &amp;lt;&amp;lt; &quot;Created &quot; &amp;lt;&amp;lt; objects_created &amp;lt;&amp;lt; ' ' &amp;lt;&amp;lt; type &amp;lt;&amp;lt; &quot;(s). &quot;&#xA;            &amp;lt;&amp;lt; &quot;Destroyed &quot; &amp;lt;&amp;lt; objects_destroyed &amp;lt;&amp;lt; &quot;. &quot;&#xA;            &amp;lt;&amp;lt; objects_alive &amp;lt;&amp;lt; &quot; still alive.&quot; &amp;lt;&amp;lt; std::endl;&#xA;    }&#xA;protected:&#xA;    ~counter() // objects should never be removed through pointers of this type&#xA;        { --objects_alive; ++objects_destroyed; }&#xA;};&#xA;&#xA;template &amp;lt;typename T&amp;gt; std::size_t counter&amp;lt;T&amp;gt;::objects_created( 0 );&#xA;template &amp;lt;typename T&amp;gt; std::size_t counter&amp;lt;T&amp;gt;::objects_destroyed( 0 );&#xA;template &amp;lt;typename T&amp;gt; std::size_t counter&amp;lt;T&amp;gt;::objects_alive( 0 );&#xA;&#xA;};&#xA;&#xA;#endif /* COUNTER_H_ */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;tokenlib.h:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;namespace tokenlib {&#xA;&#xA;int acquire_token(void);&#xA;void release_token(int token);&#xA;void check_tokens(void);&#xA;void final_token_check(void);&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;tokenlib.cpp:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;tokenlib.h&quot;&#xA;&#xA;#include &amp;lt;algorithm&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;iterator&amp;gt;&#xA;#include &amp;lt;exception&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;vector&amp;gt;&#xA;#include &amp;lt;set&amp;gt;&#xA;&#xA;namespace tokenlib {&#xA;&#xA;// Various static stuff that the outside world should not see&#xA;static std::size_t nr_of_generated_tokens = 20;&#xA;static std::vector&amp;lt;int&amp;gt; generated_tokens(nr_of_generated_tokens);&#xA;static std::set&amp;lt;int&amp;gt; acquired_tokens;&#xA;static bool tokens_initialised = false;&#xA;&#xA;void initialise_tokens(void)&#xA;{&#xA;    // Fill the token vector with values 0,...,n-1&#xA;    // Shuffle them too&#xA;    std::size_t n = 100;&#xA;    std::generate(generated_tokens.begin(), generated_tokens.end(),&#xA;        [&amp;amp;]{ return n++; }); &#xA;    std::random_shuffle(generated_tokens.begin(), generated_tokens.end());&#xA;&#xA;    // Clear the acquired tokens set&#xA;    acquired_tokens.clear();&#xA;&#xA;    tokens_initialised = true;&#xA;}&#xA;&#xA;&#xA;int acquire_token(void)&#xA;{&#xA;    // Initialise tokens if necessary&#xA;    if(!tokens_initialised)&#xA;        { initialise_tokens(); }&#xA;&#xA;    // Fall over if they've really run out of tokens&#xA;    if(generated_tokens.empty())&#xA;        { throw std::runtime_error(&quot;Out of tokens&quot;); }&#xA;&#xA;    // Pull the last token off the back of the vector&#xA;    // Put it in the set of acquired tokens&#xA;    // Return to the user&#xA;    int token = std::move(generated_tokens.back());&#xA;    generated_tokens.pop_back();&#xA;    acquired_tokens.insert(token);&#xA;    return token;&#xA;}&#xA;&#xA;void release_token(int token)&#xA;{&#xA;    // Fall over if they try release a token they haven't acquired.&#xA;    if(acquired_tokens.count(token) == 0)&#xA;    {&#xA;        throw std::runtime_error(&#xA;            std::string(&quot;Attempting to release unacquired token &quot;) +&#xA;            std::to_string(token));&#xA;    }&#xA;&#xA;    acquired_tokens.erase(token);&#xA;    generated_tokens.push_back(token);&#xA;}&#xA;&#xA;void check_tokens(void)&#xA;{&#xA;    std::cout &amp;lt;&amp;lt; &quot;Acquired Tokens: &quot;;&#xA;    std::copy(acquired_tokens.begin(), acquired_tokens.end(),&#xA;        std::ostream_iterator&amp;lt;int&amp;gt;(std::cout, &quot; &quot;));&#xA;    std::cout &amp;lt;&amp;lt; std::endl;&#xA;&#xA;    std::cout &amp;lt;&amp;lt; &quot;Token Pool: &quot;;&#xA;    std::copy(generated_tokens.begin(), generated_tokens.end(),&#xA;        std::ostream_iterator&amp;lt;int&amp;gt;(std::cout, &quot; &quot;));&#xA;    std::cout &amp;lt;&amp;lt; std::endl;&#xA;&#xA;}&#xA;&#xA;void final_token_check(void)&#xA;{&#xA;    if(acquired_tokens.size() == 0 &amp;amp;&amp;amp;&#xA;        generated_tokens.size() == nr_of_generated_tokens)&#xA;    {&#xA;        std::cout &amp;lt;&amp;lt; &quot;SUCCESS: All acquired tokens have been released&quot; &amp;lt;&amp;lt; std::endl;&#xA;    }&#xA;    else&#xA;    {&#xA;        std::cout &amp;lt;&amp;lt; &quot;FAILURE: Not all tokens have been released&quot; &amp;lt;&amp;lt; std::endl;&#xA;        check_tokens();&#xA;    }&#xA;}&#xA;&#xA;} // namespace&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;driver.cpp:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;tokenlib.h&quot;&#xA;&#xA;int main(void)&#xA;{&#xA;    int token1 = tokenlib::acquire_token();&#xA;    tokenlib::check_tokens();&#xA;&#xA;    int token2 = tokenlib::acquire_token();&#xA;    tokenlib::check_tokens();&#xA;&#xA;    int token3 = tokenlib::acquire_token();&#xA;    tokenlib::check_tokens();&#xA;&#xA;    tokenlib::release_token(token1);&#xA;    tokenlib::release_token(token2);&#xA;    tokenlib::release_token(token3);&#xA;&#xA;    tokenlib::check_tokens();&#xA;&#xA;    // This should throw an exception&#xA;    //tokenlib::release_token(1000000);&#xA;&#xA;    tokenlib::final_token_check();&#xA;&#xA;    // Make it fail&#xA;    int last_token = tokenlib::acquire_token();&#xA;    tokenlib::final_token_check();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; A * denotes code that I was given and didn't create myself.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Sorry I was being too general earlier. I tried too remove as  much irrelevant  information as could before. Focus on the database class and  main method. I have tried to  bold what I deem important.&lt;/p&gt;&#xA;" OwnerUserId="2757083" LastEditorUserId="2757083" LastEditDate="2014-03-10T07:53:39.367" LastActivityDate="2014-03-10T07:53:39.367" Title="Overloading ostream operator issues" Tags="&lt;c++&gt;&lt;c++11&gt;" AnswerCount="1" CommentCount="17" FavoriteCount="1" />
  <row Id="22729364" PostTypeId="1" AcceptedAnswerId="22729432" CreationDate="2014-03-29T09:36:53.127" Score="0" ViewCount="623" Body="&lt;p&gt;There is a question which make me puzzle. I know it is not right to do that ,but I don't know why. And how does the #ifndef #define #endif work.How the compliers deal with the varialbles like the following &quot;a&quot; and &quot;b&quot; ;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The code is simple:(myh.h):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef P_H&#xA;#define P_H&#xA;struct P{&#xA;      int a;   &#xA;};&#xA;int b;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;another file s.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include&quot;myh.h&quot;&#xA;P a1;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;the main.cpp:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include&amp;lt;iostream&amp;gt;&#xA;#include&quot;myh.h&quot;&#xA;using namespace std;&#xA;&#xA;int main()&#xA;{&#xA;    P a2;&#xA;   return 0;&#xA;&#xA;}  &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The error is multiple definition of b; just as I know. I have two questions: 1.as some books  said if you use #ifndef the compliers will not include it twice , then why the &quot;b&quot; seem be included twice .&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;What is the differnce of &quot;a&quot; 、 &quot;b&quot;and &quot;P&quot;. Why &quot;a&quot; and &quot;P&quot; have no question . I don't know wether I am right to consider &quot;P&quot; as a variable the same level with &quot;b&quot;? Or &quot;P&quot; is just a definition of type.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;If It is the difference of local and global ,why is &quot;P&quot; right?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am really puzzled. Pardern your time to help me. Thanks.    &lt;/p&gt;&#xA;" OwnerUserId="3331479" LastActivityDate="2016-10-16T22:43:32.240" Title="How does the #ifndef deal with the globally declared variables and my own variables?" Tags="&lt;c++&gt;" AnswerCount="4" CommentCount="0" ClosedDate="2014-03-29T17:58:28.967" />
  <row Id="22769919" PostTypeId="1" CreationDate="2014-03-31T18:58:44.840" Score="1" ViewCount="328" Body="&lt;p&gt;I am new in c++. When I create a header file Arme.h, I get automatically these instructions &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef DEF_ARME&#xA;#define DEF_ARME &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;What does these mean and is it important?&lt;/p&gt;&#xA;" OwnerUserId="2130515" LastEditorDisplayName="user2033018" LastEditDate="2014-03-31T19:52:27.993" LastActivityDate="2014-03-31T19:52:27.993" Title="what does mean #ifndef #define directive" Tags="&lt;c++&gt;&lt;c&gt;&lt;g++&gt;&lt;directive&gt;" AnswerCount="5" CommentCount="3" ClosedDate="2014-03-31T23:40:00.897" />
  <row Id="23281110" PostTypeId="1" AcceptedAnswerId="23291908" CreationDate="2014-04-24T22:35:17.027" Score="0" ViewCount="698" Body="&lt;p&gt;I'm using Gtkmm and multithreading.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have a class &quot;NetworkWorker&quot; doig stuffs with the network in a secondary thread.&#xA;In this class i want to make many signals which will be handled by my class &quot;MainWindow&quot;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The methods which handle these signals, will edit append text in a TextView.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have the following code:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;NetworkWorker.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef         NETWORKWORKER_H_&#xA;# define        NETWORKWORKER_H_&#xA;&#xA;# include       &amp;lt;sigc++/sigc++.h&amp;gt;&#xA;# include       &amp;lt;glibmm/threads.h&amp;gt;&#xA;# include       &amp;lt;string&amp;gt;&#xA;&#xA;class NetworkWorker&#xA;{&#xA; public:&#xA;  NetworkWorker();&#xA;  ~NetworkWorker();&#xA;&#xA;  void start();&#xA;  void stop();&#xA;&#xA;  sigc::signal&amp;lt;void, std::string&amp;amp;&amp;gt;&amp;amp; signal_data_received();&#xA;&#xA; private:&#xA;  void run();&#xA;&#xA;  sigc::signal&amp;lt;void, std::string&amp;amp;&amp;gt; m_signal_data_received;&#xA;&#xA;  Glib::Threads::Thread* m_thread;&#xA;  Glib::Threads::Mutex m_mutex;&#xA;  bool m_stop;&#xA;};&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;NetworkWorker.c&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include        &amp;lt;cstdlib&amp;gt;&#xA;#include        &amp;lt;glibmm/timer.h&amp;gt;&#xA;#include        &amp;lt;glibmm/threads.h&amp;gt;&#xA;#include        &amp;lt;iostream&amp;gt;&#xA;#include        &amp;lt;sigc++/sigc++.h&amp;gt;&#xA;&#xA;#include        &quot;NetworkWorker.h&quot;&#xA;&#xA;NetworkWorker::NetworkWorker() :&#xA;  m_thread(NULL), m_stop(false)&#xA;{&#xA;&#xA;}&#xA;&#xA;NetworkWorker::~NetworkWorker()&#xA;{&#xA;  stop();&#xA;}&#xA;&#xA;void NetworkWorker::start()&#xA;{&#xA;  if (!m_thread)&#xA;    m_thread = Glib::Threads::Thread::create(sigc::mem_fun(*this, &amp;amp;NetworkWorker::run));&#xA;}&#xA;&#xA;void NetworkWorker::stop()&#xA;{&#xA;  {&#xA;    Glib::Threads::Mutex::Lock lock(m_mutex);&#xA;    m_stop = true;&#xA;  }&#xA;&#xA;  if (m_thread)&#xA;    m_thread-&amp;gt;join();&#xA;}&#xA;&#xA;sigc::signal&amp;lt;void, std::string&amp;amp;&amp;gt;&amp;amp; NetworkWorker::signal_data_received()&#xA;{&#xA;  return m_signal_data_received;&#xA;}&#xA;&#xA;void NetworkWorker::run()&#xA;{&#xA;  while (true)&#xA;    {&#xA;      {&#xA;        Glib::Threads::Mutex::Lock lock(m_mutex);&#xA;        if (m_stop)&#xA;          break;&#xA;      }&#xA;      Glib::usleep(5000);&#xA;      std::cout &amp;lt;&amp;lt; &quot;Thread&quot; &amp;lt;&amp;lt; std::endl;&#xA;      std::string* str = new std::string(&quot;MyData&quot;);&#xA;      m_signal_data_received.emit(*str);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;MainWindow.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef         MAIN_WINDOW_H_&#xA;# define        MAIN_WINDOW_H_&#xA;&#xA;# include       &amp;lt;gtkmm/textview.h&amp;gt;&#xA;# include       &amp;lt;gtkmm/window.h&amp;gt;&#xA;# include       &amp;lt;string&amp;gt;&#xA;&#xA;class MainWindow : public Gtk::Window&#xA;{&#xA; public:&#xA;  MainWindow();&#xA;  ~MainWindow();&#xA;&#xA;  void appendText(const std::string&amp;amp; str);&#xA;&#xA; private:&#xA;  Gtk::TextView m_text_view;&#xA;};&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;MainWindow.c&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include        &amp;lt;gtkmm/notebook.h&amp;gt;&#xA;#include        &amp;lt;gtkmm/widget.h&amp;gt;&#xA;#include        &amp;lt;iostream&amp;gt;&#xA;#include        &amp;lt;string&amp;gt;&#xA;&#xA;#include        &quot;MainWindow.h&quot;&#xA;&#xA;MainWindow::MainWindow()&#xA;{&#xA;  set_title(&quot;My App&quot;);&#xA;  set_default_size(800, 600);&#xA;  add(m_text_view);&#xA;}&#xA;&#xA;MainWindow::~MainWindow()&#xA;{&#xA;&#xA;}&#xA;&#xA;void MainWindow::appendText(const std::string&amp;amp; str)&#xA;{&#xA;  std::string final_text = str + &quot;\n&quot;;&#xA;  Glib::RefPtr&amp;lt;Gtk::TextBuffer&amp;gt; buffer = m_text_view.get_buffer();&#xA;  Gtk::TextBuffer::iterator it = buffer-&amp;gt;end();&#xA;  buffer-&amp;gt;insert(it, final_text);&#xA;  Glib::RefPtr&amp;lt;Gtk::Adjustment&amp;gt; adj = m_text_view.get_vadjustment();&#xA;  adj-&amp;gt;set_value(adj-&amp;gt;get_upper() - adj-&amp;gt;get_page_size());&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and my main.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include        &amp;lt;cstdlib&amp;gt;&#xA;#include        &amp;lt;gtkmm/main.h&amp;gt;&#xA;#include        &amp;lt;iostream&amp;gt;&#xA;#include        &amp;lt;string&amp;gt;&#xA;&#xA;#include        &quot;MainWindow.h&quot;&#xA;#include        &quot;NetworkWorker.h&quot;&#xA;&#xA;void            recv(const std::string&amp;amp; str)&#xA;{&#xA;  std::cout &amp;lt;&amp;lt; str &amp;lt;&amp;lt; std::endl;&#xA;}&#xA;&#xA;int             main(int argc, char **argv)&#xA;{&#xA;  Gtk::Main     app(Gtk::Main(argc, argv));&#xA;  MainWindow    main_window;&#xA;  NetworkWorker network_worker;&#xA;&#xA;  main_window.show_all();&#xA;&#xA;  network_worker.signal_data_received().connect(sigc::ptr_fun(&amp;amp;recv));&#xA;  network_worker.signal_data_received().connect(sigc::mem_fun(main_window, &amp;amp;MainWindow::appendText));&#xA;  network_worker.start();&#xA;&#xA;  Gtk::Main::run(main_window);&#xA;  return (EXIT_SUCCESS);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;These snippetes have been a re-adapted for this question, so maybe some change is incoherent.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;When I execute this code, I have the following output:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$&amp;gt; ./client &#xA;Thread&#xA;MyData&#xA;Thread&#xA;MyData&#xA;[...]&#xA;Thread&#xA;MyData&#xA;Thread&#xA;MyData&#xA;(client:5596): Gtk-CRITICAL **: gtk_text_layout_real_invalidate: assertion 'layout-&amp;gt;wrap_loop_count == 0' failed&#xA;Thread&#xA;MyData&#xA;Thread&#xA;MyData&#xA;[...]&#xA;Thread&#xA;MyData&#xA;Thread&#xA;MyData&#xA;[1]    5596 segmentation fault (core dumped)  ./client&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Can some one help me to resolve this issue ? :)&lt;/p&gt;&#xA;" OwnerUserId="2640357" LastEditorUserId="2640357" LastEditDate="2014-04-25T00:29:51.063" LastActivityDate="2014-04-25T11:34:49.053" Title="Emit safely a signal from a thread and connect it to a widget" Tags="&lt;c++&gt;&lt;multithreading&gt;&lt;gtk&gt;&lt;signals&gt;&lt;glibmm&gt;" AnswerCount="1" CommentCount="3" />
  <row Id="23490923" PostTypeId="1" AcceptedAnswerId="23491007" CreationDate="2014-05-06T09:33:59.547" Score="0" ViewCount="54" Body="&lt;p&gt;I get an error in my program saying &quot;Unresolved External symbol&quot;, i tried everything i know but couldn't solve it. I started getting this error after i used class template.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is FileHandler Class Header :-&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &quot;test.h&quot;&#xA;#include &amp;lt;iomanip&amp;gt;&#xA;#include &quot;Administrator.h&quot;&#xA;#ifndef  FileHandler_h&#xA;#define FileHandler_h&#xA;&#xA;using namespace std;&#xA;template&amp;lt;class T&amp;gt;&#xA;class FileHandler&#xA;   {&#xA;     public:string writeToFile(T writeObject);&#xA;&#xA;public: FileHandler();&#xA;&#xA;   };&#xA;  #endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;File Handler Class Implementation&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;template&amp;lt;class T&amp;gt;&#xA;FileHandler&amp;lt;T&amp;gt;::FileHandler(){}&#xA;&#xA;template&amp;lt;class T&amp;gt;&#xA;string FileHandler&amp;lt;T&amp;gt;:: writeToFile(T writeObject)&#xA;{&#xA;&#xA;   ofstream outputFile;&#xA;   outputFile.open(&quot;file.txt&quot;,ios::out|ios::app);&#xA;&#xA;&#xA;more code..........&#xA;&#xA;     return &quot;done&quot;;&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is the code where i call the method in filehandler class&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;string Administrator::registerNewMember(Administrator newAdmin)&#xA;{&#xA;&#xA;  FileHandler&amp;lt;Administrator&amp;gt; f1;&#xA;&#xA;    return f1.writeToFile(newAdmin);&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Below is a screen shot of the error which i get.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/2szhL.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How do i fix this error?&lt;/p&gt;&#xA;" OwnerUserId="2336599" LastEditorUserId="321731" LastEditDate="2014-09-06T04:06:52.100" LastActivityDate="2014-09-06T04:06:52.100" Title="C++ Class Template Issue" Tags="&lt;c++&gt;&lt;templates&gt;&lt;file-io&gt;&lt;compiler-errors&gt;&lt;class-template&gt;" AnswerCount="2" CommentCount="1" ClosedDate="2014-05-06T09:56:34.337" />
  <row Id="23696115" PostTypeId="1" AcceptedAnswerId="23699893" CreationDate="2014-05-16T13:20:24.863" Score="102" ViewCount="23417" Body="&lt;p&gt;Traditionally, the standard and portable way to avoid multiple header inclusions in C++ was/is  to use the &lt;code&gt;#ifndef - #define - #endif&lt;/code&gt;pre-compiler directives scheme also called &lt;a href=&quot;http://en.wikipedia.org/wiki/Include_guard&quot;&gt;macro-guard scheme&lt;/a&gt; (see code snippet below).&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef MY_HEADER_HPP&#xA;#define MY_HEADER_HPP&#xA;...&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In most implementations/compilers (see picture below) however, there's a more &quot;elegant&quot; alternative that serves the same purpose as the macro-guard scheme called &lt;a href=&quot;http://en.wikipedia.org/wiki/Pragma_once&quot;&gt;&lt;code&gt;#pragma once&lt;/code&gt;&lt;/a&gt;. &lt;code&gt;#pragma once&lt;/code&gt; has several advantages compared to the macro-guard scheme, including less code, avoidance of name clashes, and sometimes improved compile speed.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/qDohP.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Doing some research, I realized that although &lt;code&gt;#pragma once&lt;/code&gt; directive is supported by almost all known compilers, there's a turbidness on whether &lt;code&gt;#pragma once&lt;/code&gt; directive is part of the C++11 standard or not.&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;strong&gt;Questions:&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Could someone clarify whether &lt;code&gt;#pragma once&lt;/code&gt; directive is part of the C++11 standard or not?&lt;/li&gt;&#xA;&lt;li&gt;If it's not part of the C++11 standard, are there any plans on including it on later releases (e.g., C++14 or later)?&lt;/li&gt;&#xA;&lt;li&gt;It would also be nice if someone could further elaborate on the advantages/disadvantages in using either one of the techniques (i.e., macro-guard versus &lt;code&gt;#pragma once&lt;/code&gt;).&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;" OwnerUserId="2352671" LastEditorUserId="2352671" LastEditDate="2014-05-16T22:58:11.240" LastActivityDate="2014-05-16T22:58:11.240" Title="Is #pragma once part of the C++11 standard?" Tags="&lt;c++&gt;&lt;c++11&gt;&lt;macros&gt;&lt;header-files&gt;&lt;c++14&gt;" AnswerCount="2" CommentCount="6" FavoriteCount="13" />
  <row Id="23794435" PostTypeId="1" CreationDate="2014-05-21T21:49:42.747" Score="0" ViewCount="94" Body="&lt;p&gt;i have tried sharing a global variable between different source files in c using extern.&#xA;it seems like each program creates locally different copies of the variable and as a result, when a program changes its value which also changes is not visible to the second program..how can i repair this? The program is given below:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;tools.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  __TOOLS__&#xA;#define  __TOOLS__&#xA;#include &amp;lt;errno.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;&#xA;extern int i;&#xA;&#xA;void init();&#xA;&#xA;#endif &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;tools.c&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;tools.h&quot;&#xA;#include &amp;lt;fcntl.h&amp;gt;&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;&#xA;int i;&#xA;&#xA;void init(){&#xA;&#xA;i=0;&#xA;}  &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;prog1.c&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;tools.h&quot;&#xA;#include &amp;lt;errno.h&amp;gt;&#xA;#include &amp;lt;fcntl.h&amp;gt;&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;#include &amp;lt;unistd.h&amp;gt;&#xA;&#xA;int main(int argc,char *argv[]){&#xA;&#xA;i=1;&#xA;printf(&quot;%d\n&quot;, i);&#xA;&#xA;return 0;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;prog2.c&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;tools.h&quot;&#xA;#include &amp;lt;errno.h&amp;gt;&#xA;#include &amp;lt;fcntl.h&amp;gt;&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;#include &amp;lt;unistd.h&amp;gt;&#xA;&#xA;int main(int argc,char *argv[]){&#xA;&#xA;sleep(1);&#xA;printf(&quot;%d\n&quot;, i);&#xA;&#xA;return 0;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;prog1 printed 1&lt;/p&gt;&#xA;&#xA;&lt;p&gt;prog2 printed 0 (the target was to print 1 - see the change to the value prog1 did)&lt;/p&gt;&#xA;" OwnerUserId="3605146" LastEditorUserId="3351066" LastEditDate="2014-05-22T04:42:16.943" LastActivityDate="2014-05-22T04:42:16.943" Title="shared variables between different source files in c" Tags="&lt;c&gt;&lt;variables&gt;&lt;shared&gt;&lt;extern&gt;" AnswerCount="4" CommentCount="2" />
  <row Id="23891347" PostTypeId="1" AcceptedAnswerId="23955188" CreationDate="2014-05-27T13:52:33.127" Score="2" ViewCount="248" Body="&lt;p&gt;This is a school thing.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here's the problem:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;We're working on a Bomberman clone, and we have to implement a scripting interface, allowing the user to make his own &quot;artificial intelligence&quot;.&#xA;We chose to use Perl. Right now, I build the perl module like this:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here are the files (test purpose):&lt;/p&gt;&#xA;&#xA;&lt;p&gt;SaibApi.xs:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifdef  __cplusplus&#xA;extern &quot;C&quot; {&#xA;#endif&#xA;#include &quot;EXTERN.h&quot;&#xA;#include &quot;perl.h&quot;&#xA;#include &quot;XSUB.h&quot;&#xA;#ifdef  __cplusplus&#xA;}&#xA;#endif&#xA;#include &quot;ppport.h&quot;&#xA;#include &quot;SaibApi.hpp&quot;&#xA;&#xA;MODULE = SaibApi                PACKAGE = SaibApi&#xA;&#xA;SaibApi *&#xA;SaibApi::new()&#xA;&#xA;void&#xA;SaibApi::DESTROY()&#xA;&#xA;void&#xA;SaibApi::PrintLol()&#xA;&#xA;void&#xA;SaibApi::PrintPvar()&#xA;&#xA;void&#xA;SaibApi::setLol(int arg)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;SaibApi.hpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef         SAIBAPI_HPP_&#xA;# define        SAIBAPI_HPP_&#xA;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;&#xA;class           SaibApi {&#xA;public:&#xA; SaibApi() {}&#xA; ~SaibApi() {}&#xA; void          PrintLol() { std::cout &amp;lt;&amp;lt; &quot;lol\n&quot;; }&#xA; void          PrintPvar() { std::cout &amp;lt;&amp;lt; _lol &amp;lt;&amp;lt; &quot;\n&quot;; }&#xA; void          setLol(int arg) {_lol = arg;}&#xA;private:&#xA; int           _lol;&#xA;};&#xA;&#xA;#endif          /* !SAIBAPI_HPP_ */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Makefike.PL:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;use 5.014002;&#xA;use ExtUtils::MakeMaker;&#xA;&#xA;my $CC =                'g++';&#xA;&#xA;# See lib/ExtUtils/MakeMaker.pm for details of how to influence&#xA;# the contents of the Makefile that is written.&#xA;WriteMakefile(&#xA; NAME              =&amp;gt; 'SaibApi',&#xA; VERSION_FROM      =&amp;gt; 'lib/SaibApi.pm', # finds $VERSION  &#xA; PREREQ_PM         =&amp;gt; {}, # e.g., Module::Name =&amp;gt; 1.1&#xA; ($] &amp;gt;= 5.005 ?     ## Add these new keywords supported since 5.005&#xA; (ABSTRACT_FROM  =&amp;gt; 'lib/SaibApi.pm', # retrieve abstract from module &#xA;  AUTHOR         =&amp;gt; 'Arkeopix &amp;lt;arkeopix@&amp;gt;') : ()),&#xA; LIBS              =&amp;gt; [''], # e.g., '-lm' &#xA; DEFINE            =&amp;gt; '', # e.g., '-DHAVE_SOMETHING'&#xA; INC               =&amp;gt; '-I.', # e.g., '-I. -I/usr/include/other'&#xA;       # Un-comment this if you add C files to link with later:   &#xA;       # OBJECT            =&amp;gt; '$(O_FILES)', # link all the C files too &#xA; CC                =&amp;gt; $CC,&#xA; LD                =&amp;gt; '$(CC)',&#xA; XSOPT             =&amp;gt; '-C++',&#xA; TYPEMAPS          =&amp;gt; ['perlobject.map'],&#xA;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;For clarity purpose, i excluded typemaps files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The module is correctly built and i'm able to instantiate the SaibApi class in perl.&#xA;Now our problem is that there is apparently no way to instantiate the class in c++ and in perl at the same time. What we're trying to do is to give the user a simple API, allowing to get objects from our C++ code (lots of std::list containing maps, players etc...) via simple methods. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;eg:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#! /usr/bin/perl -w&#xA;#use SaibApi;&#xA;&#xA;my $ai = new SaibApi();&#xA;my @map = ai-&amp;gt;GetMap();&#xA;# some more code here...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;We've made a lot of research but the documentation about XS is a bit scarce. We're stuck right now. How one would instantiate the class in c++ and in perl at the same time, allowing to set &lt;code&gt;_lol&lt;/code&gt; in the c++ part and print it in the perl part without having to use the &lt;code&gt;SetLol()&lt;/code&gt; method ? And if not possible, what are the alternatives ?&lt;/p&gt;&#xA;" OwnerUserId="2385503" LastActivityDate="2014-05-30T12:56:48.210" Title="How to interface c++ and perl using XS?" Tags="&lt;c++&gt;&lt;perl&gt;&lt;xs&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="24158614" PostTypeId="1" AcceptedAnswerId="24166188" CreationDate="2014-06-11T08:55:32.813" Score="0" ViewCount="415" Body="&lt;p&gt;I want to instantiate a class regarding its name. I found that Qt allows it with &lt;code&gt;QMetaType::create&lt;/code&gt;.&lt;br&gt;&#xA;I also found that we have to register the class using &lt;code&gt;Q_DECLARE_METATYPE&lt;/code&gt;.&#xA;But I did everything needed (I think), and it didn't work.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;That's my basic class :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef     __BLOCK_HH__&#xA;# define    __BLOCK_HH__&#xA;&#xA;# include   &amp;lt;QMetaType&amp;gt;&#xA;# include   &amp;lt;QObject&amp;gt;&#xA;&#xA;# include   &amp;lt;string&amp;gt;&#xA;# include   &amp;lt;vector&amp;gt;&#xA;&#xA;# include   &quot;Util.hpp&quot;&#xA;# include   &quot;Common.hh&quot;&#xA;&#xA;class       Block&#xA;{&#xA;protected:&#xA;    std::string _name;&#xA;    uint32      _u32StartAddr;&#xA;    uint32      _u32EndAddr;&#xA;    uint8       *_pu8Content;&#xA;    bool        _bSure;&#xA;    bool        _bVirgin;&#xA;    std::string _type;&#xA;&#xA;    std::vector&amp;lt;std::string&amp;gt;    _errorCauses;&#xA;&#xA;    Block(const std::string&amp;amp;, uint32, uint32, uint8 *, const std::string&amp;amp;);&#xA;&#xA;public:&#xA;    Block(const std::string&amp;amp; = &quot;&quot;, uint32 = 0, uint32 = 0, uint8 * = 0);&#xA;    Block(const Block&amp;amp;);&#xA;    virtual ~Block();&#xA;&#xA;    Block&amp;amp;  operator=(const Block&amp;amp;);&#xA;&#xA;    void        setName(const std::string&amp;amp;);&#xA;    void        setStartAddr(uint32);&#xA;    void        setEndAddr(uint32);&#xA;    void        setContent(uint8 *);&#xA;    void        sure();&#xA;    void        notSure();&#xA;    void        erase();&#xA;&#xA;    const std::string&amp;amp;  getName() const;&#xA;    uint32              getStartAddr() const;&#xA;    uint32              getEndAddr() const;&#xA;    uint8               *getContent() const;&#xA;    bool                isSure() const;&#xA;    bool                isVirgin() const;&#xA;    const std::string&amp;amp;  getType() const;&#xA;&#xA;    void            addError(const std::string&amp;amp;);&#xA;    void            dumpError(std::ostream&amp;amp; = std::cerr) const;&#xA;&#xA;    virtual void    dump(std::ostream&amp;amp; = std::cout) const;&#xA;    virtual void    parse();&#xA;&#xA;    virtual bool    operator&amp;lt;(const Block&amp;amp;) const;&#xA;};&#xA;&#xA;Q_DECLARE_METATYPE(Block)&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;That's one of the inherited class :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef     __CSS_HH__&#xA;# define    __CSS_HH__&#xA;&#xA;# include   &quot;Block.hh&quot;&#xA;&#xA;typedef struct&#xA;{&#xA;    uint32  boot_lma;&#xA;    uint32  boot_vma;&#xA;    uint32  boot_length;&#xA;    uint32  boot_entry;&#xA;    uint32  nb_of_param;&#xA;} t_css;&#xA;&#xA;class       CSS : public Block&#xA;{&#xA;    uint32  _u32BootFlashAddr;&#xA;    uint32  _u32BootSdramAddr;&#xA;    uint32  _u32BootSize;&#xA;    uint32  _u32Bep;&#xA;    uint32  _u32CpuClock;&#xA;    uint32  _u32SdramSize;&#xA;    bool    _bEncram;&#xA;&#xA;public:&#xA;    CSS(uint32 = 0, uint32 = 0, uint8 * = 0);&#xA;    virtual ~CSS();&#xA;&#xA;    virtual void    dump(std::ostream&amp;amp; = std::cout) const;&#xA;    virtual void    parse();&#xA;&#xA;    uint32  getBootFlashAddr() const;&#xA;    uint32  getBootSdramAddr() const;&#xA;    uint32  getBootSize() const;&#xA;    uint32  getBEP() const;&#xA;    uint32  getCpuClock() const;&#xA;    uint32  getSdramSize() const;&#xA;    bool    encramEnabled() const;&#xA;};&#xA;&#xA;Q_DECLARE_METATYPE(CSS)&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And that's the piece of code I use to instantiate :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Block       *Mapper::constructBlock(const std::string&amp;amp; name, uint32 u32Start, uint32 u32End, uint8 *pu8Content)&#xA;{&#xA;    Block   *block = 0;&#xA;    int32   i32Id = QMetaType::type(name.c_str());&#xA;&#xA;    if (i32Id != QMetaType::UnknownType)&#xA;    {&#xA;        block = static_cast&amp;lt;Block *&amp;gt;(QMetaType::create(i32Id));&#xA;        if (block)&#xA;        {&#xA;            block-&amp;gt;setStartAddr(u32Start);&#xA;            block-&amp;gt;setEndAddr(u32End);&#xA;            block-&amp;gt;setContent(pu8Content);&#xA;            block-&amp;gt;parse();&#xA;        }&#xA;    }&#xA;    return (block);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The name I give here will be &quot;Block&quot; for the class Block and &quot;CSS&quot; for the class CSS. But &lt;code&gt;QMetaType::type&lt;/code&gt; always return &lt;code&gt;QMetaType::UnknownType&lt;/code&gt;.&lt;br&gt;&#xA;Maybe I forgot something to register the class. Have you an idea ?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks&lt;/p&gt;&#xA;" OwnerUserId="2543550" LastEditorUserId="2543550" LastEditDate="2014-06-11T09:18:00.787" LastActivityDate="2014-06-11T14:56:39.333" Title="Reflection using QMetaType (Class instantiation by name)" Tags="&lt;c++&gt;&lt;qt&gt;&lt;reflection&gt;&lt;qt5&gt;&lt;instantiation&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="24610603" PostTypeId="1" CreationDate="2014-07-07T12:26:09.640" Score="1" ViewCount="513" Body="&lt;p&gt;First I tried to download iODBC. &lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;My MSYS console can't configure it, even if it &quot;INSTALL&quot; document orders to do it, because it has just configure.in, that have to be parsed by autoconf.&lt;/li&gt;&#xA;&lt;li&gt;&lt;p&gt;I downloaded GnuWin32 autoconf (2.63) to parse it. But it can't parse, because when I start autoconf in MSYS with path to configure.in, it can't find some files:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;./autoconf: line 615: C:/PROGRA~2/GnuWin32/autoconf/bin/autom4te: No such file or directory&#xA;./autoconf: line 615: exec: C:/PROGRA~2/GnuWin32/autoconf/bin/autom4te: cannot execute: No such file or directory&lt;/p&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;Fun, that autoconf already placed in GnuWin32/bin directory, and autom4te lays near. &lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;I tried just rename configure.in to configure, but I receive syntax error at first line with &quot;AC_PREREQ(2.59)&quot;. Also I found in internet that 2.63 may not work with 2.59, and lost any wish to continue my attempts.&lt;/li&gt;&#xA;&lt;li&gt;I also tried to run bootstrap, but it falls with &quot;line 145: --force: command not found&quot;.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;Then I decide to try unixODBC. I downloaded library 2.3.2 from &lt;a href=&quot;http://www.unixodbc.org/&quot; rel=&quot;nofollow&quot;&gt;home link&lt;/a&gt;, and started to configure it. It was done well.&#xA;Then I run &quot;make check&quot;. It failed with:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;iniOpen.c: In function 'iniOpen':&#xA;iniOpen.c:401:43: error: 'EOVERFLOW' undeclared (first use in this function)&#xA;         ( errno != ENOSPC ) &amp;amp;&amp;amp; ( errno != EOVERFLOW ) &amp;amp;&amp;amp;&#xA;                                           ^&#xA;iniOpen.c:401:43: note: each undeclared identifier is reported only once for each function it appears in&#xA;iniOpen.c:402:20: error: 'EWOULDBLOCK' undeclared (first use in this function)&#xA;         ( errno != EWOULDBLOCK ))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I found that EWOULDBLOCK and EOVERFLOW never met in sources anywhere else. Also I found that it guess take them from MinGW\include\errno.h, where I found all other constaints (such as ENOSPC). Also I found EWOULDBLOCK and EOVERFLOW in boost &quot;cerrno.hpp&quot; and other files with errors. I fixed problem, insterting #ifndef - #define - #endif. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Now I have problem with &quot;ld.exe: cannot find -lpthread&quot; - Linker is trying to link posix threads that are not available at system. I can remove it, but what should I add instead? Or better would be to download and build pthread_win32 from &lt;a href=&quot;https://www.sourceware.org/pthreads-win32/index.html&quot; rel=&quot;nofollow&quot;&gt;posix thread for Win link&lt;/a&gt;?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It was built with adding definition for EWOULDBLOCK, EOVERFLOW and configuring with &lt;code&gt;flag --enable-threads=no&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So, my question is: is there right way to work with ODBC from MinGW WITH threads? If I was moving right way, how to solve those strange (at least because I downloaded releases marked as &quot;stable&quot;) troubles?&lt;/p&gt;&#xA;" OwnerUserId="1927794" LastEditorUserId="1927794" LastEditDate="2014-07-08T09:48:31.627" LastActivityDate="2014-07-08T09:48:31.627" Title="Is there a way to work with ODBC by MinGW?" Tags="&lt;c++&gt;&lt;odbc&gt;&lt;mingw&gt;" AnswerCount="0" CommentCount="7" />
  <row Id="24966585" PostTypeId="1" CreationDate="2014-07-26T01:18:20.313" Score="0" ViewCount="986" Body="&lt;p&gt;Trying to get a grip on proper format for setting up header files for my external functions that I'm doing for school.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In the .h file I place the &lt;code&gt;#ifndef &amp;lt;token&amp;gt; #define &amp;lt;token&amp;gt;&lt;/code&gt; and &lt;code&gt;#endif&lt;/code&gt; pre-processor calls around my prototypes but additional &lt;code&gt;#defines&lt;/code&gt;, for use within the function itself, go inside the .c file or in the .h?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;When adding the whole package to my main program do I just need to add at the top of my main program  &lt;code&gt;#include &quot;name_of_function_pkg.h&quot;&lt;/code&gt; or does there need to be a reference to the .c file within the header file too?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;[Edit]  Added the code for you as requested.  The whole things works fine but just want to write it by the standard everyone else does.&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My main() file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    #include &amp;lt;stdio.h&amp;gt;&#xA;    #include &quot;utils.h&quot;&#xA;&#xA;    //  DEFINED Values&#xA;&#xA;    #define FALSE 1&#xA;    #define TRUE 0&#xA;&#xA;    //  MAIN CODE&#xA;    int main()&#xA;    {&#xA;&#xA;    //  Local Variables&#xA;        int success = TRUE;&#xA;&#xA;        float fValue,fConvert;&#xA;        float fSrcFactor,fDstFactor;&#xA;&#xA;        char cSourceCurrency;&#xA;        char cDestCurrency;&#xA;        char cNewline;&#xA;&#xA;    //  User Input&#xA;        printf(&quot;Enter source currency: &quot;);&#xA;        scanf(&quot;%c%c&quot;,&amp;amp;cSourceCurrency,&amp;amp;cNewline);&#xA;        printf(&quot;Enter destination currency: &quot;);&#xA;        scanf(&quot;%c%c&quot;,&amp;amp;cDestCurrency,&amp;amp;cNewline);&#xA;        printf(&quot;Enter the value: &quot;);&#xA;        scanf(&quot;%f&quot;,&amp;amp;fValue);&#xA;&#xA;        fConvert = convert( cSourceCurrency, cDestCurrency, fValue);&#xA;&#xA;&#xA;    //  Output&#xA;        if(fConvert == -1)&#xA;            {&#xA;                printf(&quot;There was an error with the input.&quot;);&#xA;            }&#xA;&#xA;        else printf(&quot;%c%.2f = %c%.2f&quot;,cSourceCurrency,fValue,cDestCurrency,fConvert) ;&#xA;&#xA;&#xA;    //  Exit    &#xA;        return 0;&#xA;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;My utils.h File:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef UTILS&#xA;#define UTILS &#xA;&#xA;float convert( char cSourceCurrency, char cDestCurrency, float fValue );&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;My utils.c File [truncated]&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// Should these defines be in the .h file?&#xA;#define CDN 1&#xA;#define YEN 95.04&#xA;#define EUR 0.69&#xA;#define E2Y 137.69&#xA;&#xA;#define FALSE 1&#xA;#define TRUE 0&#xA;&#xA;&#xA;float convert( char cSourceCurrency, char cDestCurrency, float fValue )&#xA;{&#xA;//  Function Variables&#xA;int success = TRUE;&#xA;&#xA;float fConvert; &#xA;float fSrcFactor,fDstFactor;&#xA;&#xA;&#xA;//  Error Checking&#xA;if( (cSourceCurrency!='Y') &amp;amp;&amp;amp; (cSourceCurrency!='$') &amp;amp;&amp;amp; (cSourceCurrency!='E'))&#xA;    {&#xA;        success = FALSE;&#xA;        return (-1);&#xA;    }&#xA;if( (cDestCurrency!='Y') &amp;amp;&amp;amp; (cDestCurrency!='$') &amp;amp;&amp;amp; (cDestCurrency!='E'))&#xA;    {&#xA;        success = FALSE;&#xA;        return (-1);&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1150206" LastEditorUserId="1150206" LastEditDate="2014-07-26T01:39:07.637" LastActivityDate="2014-07-26T03:30:51.930" Title="C header file format" Tags="&lt;c&gt;&lt;format&gt;&lt;header-files&gt;" AnswerCount="2" CommentCount="2" />
  <row Id="24985326" PostTypeId="1" AcceptedAnswerId="24986273" CreationDate="2014-07-27T20:24:42.850" Score="0" ViewCount="1741" Body="&lt;p&gt;I am attempting to make part of a program that uses a bank account class as the base class and checking and savings as the derived classes.  I have been trying to set up the basic framework before I do any fancy data handling and I've followed some tutorials to get a better understanding of classes and inheritance.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have looked for answers but the answers I have found don't seem to be my problem but I might just need another set of eyes on my code.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;the compiler errors:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;In function &lt;code&gt;main':&#xA;  badriver.cpp:20: undefined reference to&lt;/code&gt;Checking::getAccount()'&#xA;  badriver.cpp:23: undefined reference to &lt;code&gt;Checking::setAccount(int)'&#xA;  badriver.cpp:24: undefined reference to&lt;/code&gt;Savings::setAccount(int)'&#xA;  badriver.cpp:26: undefined reference to `Checking::getAccount()'&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;badriver.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;BankAccount.cpp&quot;&#xA;#include &quot;Checking.cpp&quot;&#xA;#include &quot;Savings.cpp&quot;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;using namespace std;&#xA;&#xA;int main(){&#xA;&#xA;   Checking c;&#xA;   Savings s;&#xA;&#xA;   cout &amp;lt;&amp;lt; &quot;Checking: &quot; &amp;lt;&amp;lt; c.getAccount() &amp;lt;&amp;lt; &quot; - Type: &quot; &amp;lt;&amp;lt; c.getType() &amp;lt;&amp;lt; endl;&#xA;   cout &amp;lt;&amp;lt; &quot;Savings: &quot; &amp;lt;&amp;lt; s.getAccount() &amp;lt;&amp;lt; &quot; - Type: &quot; &amp;lt;&amp;lt; s.getType() &amp;lt;&amp;lt; endl;&#xA;&#xA;   c.setAccount(9);&#xA;   s.setAccount(15);&#xA;&#xA;   cout &amp;lt;&amp;lt; &quot;New Checking: &quot; &amp;lt;&amp;lt; c.getAccount() &amp;lt;&amp;lt; endl;&#xA;   cout &amp;lt;&amp;lt; &quot;New Savings: &quot; &amp;lt;&amp;lt; s.getAccount() &amp;lt;&amp;lt; endl;&#xA;       return 0;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;BankAccount.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef BANKACCOUNT_H&#xA;#define BANKACCOUNT_H&#xA;#include &amp;lt;string&amp;gt;&#xA;using std::string;&#xA;using std::ostream;&#xA;using std::istream;&#xA;&#xA;class BankAccount{&#xA;&#xA;private:&#xA;   int myAccount;&#xA;&#xA;   const char* color;&#xA;&#xA;public:&#xA;   // default constructor&#xA;   BankAccount();&#xA;   BankAccount(int account);&#xA;   virtual ~BankAccount();&#xA;&#xA;   virtual void setAccount(int)=0;&#xA;   int getAccount();&#xA;//    &#xA;//    void setSAccount(int);&#xA;//    int getSAccount();&#xA;//    &#xA;   virtual const char* getColor();                                            &#xA;   virtual const char* getType() = 0; &#xA;   //virtual const char* getCType() = 0; &#xA;&#xA;protected:&#xA;   void setColor(const char*);   &#xA;&#xA;};&#xA;&#xA;#endif // BANKACCOUNT_H&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;BankAccount.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;BankAccount.h&quot;&#xA;#include &quot;Checking.h&quot;&#xA;#include &quot;Savings.h&quot;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;cstdlib&amp;gt;&#xA;using namespace std;&#xA;&#xA;// default constructor&#xA;BankAccount::BankAccount(){&#xA;   account = 1;&#xA;}&#xA;&#xA;BankAccount::~BankAccount(){}&#xA;&#xA;// void BankAccount::setAccount(int account){&#xA;//    myAccount  = account;&#xA;// }&#xA;&#xA;int BankAccount::getAccount(){&#xA;   return myAccount ;&#xA;}&#xA;&#xA;BankAccount::BankAccount(int account){&#xA;   myAccount = account;&#xA;}&#xA;&#xA;const char* BankAccount::getColor(){&#xA;   return color;&#xA;}&#xA;&#xA;void BankAccount::setColor(const char* c){&#xA;   color = c;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Checking.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef CHECKING_H&#xA;#define CHECKING_H&#xA;#include &quot;BankAccount.h&quot;&#xA;#include &amp;lt;string&amp;gt;&#xA;using std::string;&#xA;using std::ostream;&#xA;using std::istream;&#xA;&#xA;class Checking : public BankAccount{&#xA;&#xA;private:&#xA;   const char* type;&#xA;&#xA;public:&#xA;   Checking();&#xA;   virtual ~Checking();&#xA;   void setAccount(int account);&#xA;&#xA;&#xA;   virtual const char* getType();&#xA;&#xA;   void setChecking(int);&#xA;   int getChecking();&#xA;};&#xA;&#xA;#endif //CHECKING_H&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Checking.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Checking.h&quot;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;cstdlib&amp;gt;&#xA;using namespace std;&#xA;&#xA;Checking::Checking() : BankAccount(1), type(&quot;Checking&quot;){}&#xA;&#xA;Checking::~Checking(){}&#xA;&#xA;BankAccount::~BankAccount(){}&#xA;&#xA;void BankAccount::setAccount(int account){&#xA;   myAccount  = account;&#xA;}&#xA;&#xA;&#xA;const char* Checking::getType(){&#xA;   return type;&#xA;}   &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Savings.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  SAVINGS_H&#xA;#define SAVINGS_H&#xA;#include &quot;BankAccount.h&quot;&#xA;#include &amp;lt;string&amp;gt;&#xA;using std::string;&#xA;using std::ostream;&#xA;using std::istream;&#xA;&#xA;class Savings: public BankAccount{&#xA;&#xA;private:&#xA;   const char* type;&#xA;&#xA;public:&#xA;   Savings();&#xA;   virtual ~Savings();&#xA;   void setAccount(int account);&#xA;&#xA;   virtual const char* getType();&#xA;&#xA;   void setSavings(int);&#xA;   int getSavings();&#xA;};&#xA;&#xA;#endif // SAVINGS_H&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Savings.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Savings.h&quot;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;cstdlib&amp;gt;&#xA;using namespace std;&#xA;&#xA;Savings::Savings() : BankAccount(2), type(&quot;Savings&quot;){}&#xA;&#xA;Savings::~Savings(){}&#xA;&#xA;BankAccount::~BankAccount(){}&#xA;&#xA;void BankAccount::setAccount(int account){&#xA;   myAccount  = account;&#xA;}&#xA;&#xA;const char* Savings::getType(){&#xA;   return type;&#xA;}   &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Thanks for any help pointing me in the right direction.&lt;/p&gt;&#xA;" OwnerUserId="2327728" LastEditorUserId="2327728" LastEditDate="2014-07-27T21:55:53.783" LastActivityDate="2014-07-27T22:28:54.537" Title="C++ class and inheritance error: undefined reference to derived class" Tags="&lt;c++&gt;&lt;class&gt;&lt;inheritance&gt;&lt;derived-class&gt;&lt;base-class&gt;" AnswerCount="1" CommentCount="6" />
  <row Id="25245500" PostTypeId="1" AcceptedAnswerId="25245538" CreationDate="2014-08-11T14:18:25.910" Score="1" ViewCount="141" Body="&lt;p&gt;I am having an issue where I am getting conflicting function names from two different libraries I am including. I am attempting to use the &lt;code&gt;gettimeofday&lt;/code&gt; function from &lt;code&gt;sys/time.h&lt;/code&gt;, but the compiler is trying to use &lt;code&gt;ACE_Task::gettimeofday&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I am not sure why the compiler is implicitly using that 'ACE_Task' namespace, as there are no explicit 'using namespace ACE_Task' or similar. I am fairly inexperienced with C++, so I don't know how to explicitly tell the compiler to use the sys/time.h's definition.&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-none prettyprint-override&quot;&gt;&lt;code&gt;log4cpp_common_macros.h:26:23: error: no matching function for call to ‘Project::Messenger::gettimeofday(timeval*, int)’&#xA;    gettimeofday(&amp;amp;tv, 0); &#xA;&#xA;... (repeat errors/notes about the same line)&#xA;&#xA;In file included from /usr/share/ace/ace/Task_T.h:187:0,&amp;lt;br&amp;gt;&#xA; from /usr/share/ace/ace/Task.h:303,&amp;lt;br&amp;gt;&#xA; from libmessenger/io/TP_SenderTask.h:20,&amp;lt;br&amp;gt;&#xA; from libmessenger/Messenger.h:24,&amp;lt;br&amp;gt;&#xA; from libmessenger/Messenger.cpp:15:&amp;lt;br&amp;gt;&#xA;&#xA;/usr/share/ace/ace/Task_T.inl:70:1: note: ACE_Time_Value_T&amp;lt;TIME_POLICY&amp;gt; ACE_Task&amp;lt;_ACE_SYNCH, TIME_POLICY&amp;gt;::gettimeofday() const [with _ACE_SYNCH = ACE_MT_SYNCH; TIME_POLICY = ACE_System_Time_Policy]&#xA; ACE_Task&amp;lt;ACE_SYNCH_USE, TIME_POLICY&amp;gt;::gettimeofday (void) const&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Below is the offending piece of the code (edit: from log4cpp_common_macros.h):&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-c++ prettyprint-override&quot;&gt;&lt;code&gt;#include &quot;log4cpp_wrapper.h&quot;&#xA;#include &amp;lt;sys/time.h&amp;gt;&#xA;&#xA;#define STDERR_FORMAT_TIME(time_str)                                    \&#xA;{                                                                       \&#xA;   struct tm ptm;                                                       \&#xA;   struct timeval tv;                                                   \&#xA;   gettimeofday(&amp;amp;tv, 0);                                                \                                                                         &#xA;   time_t t = tv.tv_sec;                                                \&#xA;   gmtime_r(&amp;amp;t, &amp;amp;ptm);                                                  \&#xA;   strftime(time_str, sizeof(time_str), &quot;%Y/%m/%d %H:%M:%S&quot;, &amp;amp;ptm);     \&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Messenger.cpp :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Messenger.h&quot;     // here is include for the stack going to ACE_Task                                                                                                                       &#xA;#include &quot;Messenger.inl&quot;&#xA;&#xA;#include &quot;libmessenger/io/TP_IO_Connector.h&quot;&#xA;#include &quot;libmessenger/io/TP_IO_Handler.h&quot;&#xA;&#xA;#include &quot;common/Utils.h&quot;&#xA;#include &quot;log4cpp_common_macros.h&quot;  // here is the include for the macros&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Messenger.h :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;common/CIN_Defs.h&quot;&#xA;#include &quot;Message.h&quot;&#xA;#include &quot;MessagesProcessor.h&quot;&#xA;&#xA;#include &amp;lt;vector&amp;gt;&#xA;#include &amp;lt;set&amp;gt;&#xA;&#xA;#include &quot;libmessenger/MessagesProcessor.h&quot;&#xA;#include &quot;libmessenger/io/TP_SenderTask.h&quot;&#xA;&#xA;#include &quot;ace/Guard_T.h&quot;&#xA;#include &quot;ace/Recursive_Thread_Mutex.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;From io/TP_SenderTask.h:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   TP_SenderTask_h&#xA;#define  TP_SenderTask_h&#xA;&#xA;#include &quot;common/CIN_Defs.h&quot;&#xA;&#xA;#include &amp;lt;list&amp;gt;&#xA;&#xA;#include &quot;ace/Task.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="3929846" LastEditorUserId="3929846" LastEditDate="2014-08-11T14:48:12.160" LastActivityDate="2014-08-11T14:48:12.160" Title="C++ Compiler using wrong function declaration" Tags="&lt;c++&gt;" AnswerCount="1" CommentCount="3" />
  <row Id="25307454" PostTypeId="1" CreationDate="2014-08-14T11:54:27.393" Score="0" ViewCount="258" Body="&lt;p&gt;While building busybox I found some source files are including linux kernel headers.&#xA;I added #define __KERNEL__ to select some portion of header file lines. and I also added #define _BUSYBOX_ and inserted #ifndef _BUSYBOX_ in the kernel header file so that some specific part is not selected by the compiler.(I don't know this is the right approach)&lt;br&gt;&#xA;The next problem I face is below. It says fd_set is defined twice.  &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;In file included from /opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/../../../../sparc-snake-linux/sys-include/linux/thread_info.h:10:0,&#xA;                 from /opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/../../../../sparc-snake-linux/sys-include/linux/preempt.h:9,&#xA;                 from /opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/../../../../sparc-snake-linux/sys-include/linux/spinlock.h:50,&#xA;                 from /opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/../../../../sparc-snake-linux/sys-include/linux/mmzone.h:7,&#xA;                 from /opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/../../../../sparc-snake-linux/sys-include/linux/gfp.h:4,&#xA;                 from /opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/../../../../sparc-snake-linux/sys-include/linux/slab.h:12,&#xA;                 from archival/libarchive/unxz/xz_private.h:16,&#xA;                 from archival/libarchive/unxz/xz_dec_bcj.c:11,&#xA;                 from archival/libarchive/decompress_unxz.c:36:&#xA;/opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/../../../../sparc-snake-linux/sys-include/linux/types.h:23:26: error: conflicting types for 'fd_set'&#xA;/opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/../../../../sparc-snake-linux/include/sys/select.h:75:5: note: previous declaration of 'fd_set' was here&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The message shows fd_set was first defined in sparc-snake-linux/include/sys/select.h and then later again in sparc-snake-linux/sys-include/linux/types.h. Using&lt;br&gt;&#xA;echo &quot;&quot; | sparc-snake-linux-gcc -o /tmp/tmp.o -v -x c -&lt;br&gt;&#xA;I could see the default include path is&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;...&amp;gt; search starts here:&#xA; /opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/include&#xA; /opt/snakede/lib/gcc/sparc-snake-linux/4.6.2/include-fixed&#xA; /opt/snakede/sparc-snake-linux/sys-include&#xA; /opt/snakede/sparc-snake-linux/include&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It searches /opt/snakede/sparc-snake-linux/sys-include first before /opt/snakede/sparc-snake-linux/include but the file under /opt/snakede/sparc-snake-linux/include was selected first anyhow. So inserted many #ifndef &lt;em&gt;BUSYBOX&lt;/em&gt; guard so that the second definitions are block from the compile. The blocked lines are mostly under sys-include directory. I want to know if this is a permissible method (just blocking the second definition) or if there is another nicer, well-defined method for this kind of situation(like I should have instead blocked the first definition-mostly from gcc include header files- and use the files under sys-include directory, which are meant for the target system)&#xA;EDIT : using #ifndef &lt;em&gt;BUSYBOX&lt;/em&gt; I blocked over 20 2nd-time-appearting definitions and am still seeing such errors coming. I don't know if this is the right approach.&lt;/p&gt;&#xA;" OwnerUserId="1511337" LastEditorUserId="1511337" LastEditDate="2014-08-15T00:52:22.380" LastActivityDate="2014-08-20T02:18:16.413" Title="selecting right kernel header files for busybox build" Tags="&lt;linux&gt;&lt;gcc&gt;&lt;makefile&gt;&lt;include&gt;&lt;busybox&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="25564987" PostTypeId="1" AcceptedAnswerId="25566037" CreationDate="2014-08-29T08:59:53.813" Score="0" ViewCount="264" Body="&lt;p&gt;I am trying to get an OpenGL/glew program from a template made by my uni lecturer work. He has added this code to his program:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;if(!GLEW_VERSION_3_1) {&#xA;    std::cerr &amp;lt;&amp;lt; &quot;Driver does not support OpenGL 3.1&quot; &amp;lt;&amp;lt; std::endl;  &#xA;    return 1;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This prints the error on my mac. After some experimenting, I have found out that my mac is actually running OpenGL (2.1 INTEL-8.28.30). I have worked my way around this using a nasty #ifndef &lt;strong&gt;APPLE&lt;/strong&gt; before that part of the code, but I cannot do this in the long term.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is there any way in which I can upgrade to 3.1?&lt;/p&gt;&#xA;" OwnerUserId="1790803" LastActivityDate="2014-08-29T10:04:34.600" Title="OpenGL 3.x on Macbook Air mid 2012" Tags="&lt;c++&gt;&lt;osx&gt;&lt;opengl&gt;&lt;glew&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="25620281" PostTypeId="1" CreationDate="2014-09-02T09:37:17.597" Score="0" ViewCount="121" Body="&lt;p&gt;I have two different deployment in my project! for those two deployment i am having different structure members, But with the same structure name. For example I am using the below model to do-&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifdef SATHISH&#xA;typedef struct{&#xA;       int id;&#xA;       char name[10];&#xA;}data;&#xA;#else&#xA;typedef struct{&#xA;       struct student s1;&#xA;       double average;&#xA;}data;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In this case when the &lt;code&gt;SATHISH&lt;/code&gt; flag enabled first structure will be evaluated, if the flag is not defined second structure will be evaluated!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is there any other best alternative way to do the same thing with out using preprocessor directives (like &lt;code&gt;#ifdef .... #endif&lt;/code&gt; or &lt;code&gt;#ifndef .... #endif&lt;/code&gt;)?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any suggestion is appreciated!&lt;/p&gt;&#xA;" OwnerUserId="3782727" LastEditorUserId="3782727" LastEditDate="2014-09-02T11:19:03.243" LastActivityDate="2014-09-02T12:16:38.397" Title="Is there any other way to avoid conflicting types other then using preprocessor directives?" Tags="&lt;c&gt;&lt;preprocessor-directive&gt;&lt;ifdefine&gt;" AnswerCount="1" CommentCount="8" />
  <row Id="26460998" PostTypeId="1" AcceptedAnswerId="26482104" CreationDate="2014-10-20T08:05:45.087" Score="15" ViewCount="8352" Body="&lt;p&gt;I'm a new in swift programming.&#xA;I need to create pure swift framework and import it in my existing pure swift project.&#xA;When I try to import swift framework, I'm getting this error &#xA;message:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&quot;Could not build Objective-C module '&amp;lt;myModule&amp;gt;'&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/POJFd.png&quot; alt=&quot;Framework File Structure&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Test.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt; import Foundation&#xA;&#xA;public class Test {&#xA;    class func printTest() {&#xA;        println(&quot;111&quot;);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Asdf.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import UIKit&#xA;public class Asdf: Test {&#xA;    class func echo() {&#xA;        println(888);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;myModule-Swift.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &amp;lt;myModule&amp;gt;_&amp;lt;myModule&amp;gt;_Swift_h&#xA;#define &amp;lt;myModule&amp;gt;_&amp;lt;myModule&amp;gt;_Swift_h&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;After framework build, i have added framework in my existing project and get this&#xA;&lt;img src=&quot;https://i.stack.imgur.com/7IXmW.png&quot; alt=&quot;Project Structure and import problem screen&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What am I doing wrong? Thanks For Help!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;@findall comment answer -&#xA;I tried to add all framework files to my project root folder and inside project folder, but again got the same error&#xA;&lt;img src=&quot;https://i.stack.imgur.com/VlzgD.png&quot; alt=&quot;Add Framework files to project root&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/eQtsm.png&quot; alt=&quot;Add Framework files inside project folder&quot;&gt;&lt;/p&gt;&#xA;" OwnerUserId="3283209" LastEditorUserId="3283209" LastEditDate="2014-10-21T06:33:04.687" LastActivityDate="2016-12-06T09:01:09.167" Title="Create and import swift framework" Tags="&lt;iphone&gt;&lt;swift&gt;&lt;compilation&gt;&lt;frameworks&gt;&lt;ios8&gt;" AnswerCount="3" CommentCount="5" FavoriteCount="6" />
  <row Id="26588469" PostTypeId="1" AcceptedAnswerId="26589257" CreationDate="2014-10-27T13:18:32.350" Score="1" ViewCount="422" Body="&lt;p&gt;I have this piece of code connecting to local graphite (which is actually just &lt;code&gt;nc -l -p 2023&lt;/code&gt; running on localhost):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;getCarbonAddr :: Config -&amp;gt; IO SockAddr&#xA;getCarbonAddr cfg = do&#xA;    let host = (graphiteHost . graphiteConfig) cfg&#xA;    let port = (graphitePort . graphiteConfig) cfg&#xA;    -- addrInfos &amp;lt;- getAddrInfo (Just defaultHints)&#xA;    addrInfos &amp;lt;- getAddrInfo Nothing&#xA;                   (Just host)&#xA;                   (Just (show port))&#xA;    putStrLn $ &quot;addrInfos: &quot; ++ show addrInfos&#xA;    c &amp;lt;- case addrInfos of&#xA;           (addrInfo : _) -&amp;gt; return (addrAddress addrInfo)&#xA;           _ -&amp;gt; unsupportedAddressError host&#xA;    return c&#xA;  where&#xA;    unsupportedAddressError h = ioError $ userError $&#xA;      &quot;unsupported address: &quot; ++ h&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Config values for host and port are &quot;localhost&quot; and 2023 respectively. When I run this on my OS X after upgrade to Yosemite -- I see the following crash:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;addrInfos: [AddrInfo {addrFlags = [], addrFamily = AF_INET6, addrSocketType = Datagram, addrProtocol = 17, addrAddress = [::1]:2023, addrCanonName = Nothing},AddrInfo {addrFlags = [], addrFamily = AF_INET6, addrSocketType = Stream, addrProtocol = 6, addrAddress = [::1]:2023, addrCanonName = Nothing},AddrInfo {addrFlags = [], addrFamily = AF_INET, addrSocketType = Datagram, addrProtocol = 17, addrAddress = 127.0.0.1:2023, addrCanonName = Nothing},AddrInfo {addrFlags = [], addrFamily = AF_INET, addrSocketType = Stream, addrProtocol = 6, addrAddress = 127.0.0.1:2023, addrCanonName = Nothing},AddrInfo {addrFlags = [], addrFamily = AF_INET6, addrSocketType = Datagram, addrProtocol = 17, addrAddress = [fe80::1%lo0]:2023, addrCanonName = Nothing},AddrInfo {addrFlags = [], addrFamily = AF_INET6, addrSocketType = Stream, addrProtocol = 6, addrAddress = [fe80::1%lo0]:2023, addrCanonName = Nothing}]&#xA;LocalJob: connect: unsupported operation (Address family not supported by protocol family)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This seemed weird to me, so I decided to run this C program (googled for &quot;getaddrinfo&quot; example, changed hostname and port, added printing of ai_family):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;#include &amp;lt;netdb.h&amp;gt;&#xA;#include &amp;lt;netinet/in.h&amp;gt;&#xA;#include &amp;lt;sys/socket.h&amp;gt;&#xA;&#xA;#ifndef   NI_MAXHOST&#xA;#define   NI_MAXHOST 1025&#xA;#endif&#xA;&#xA;int main(void)&#xA;{&#xA;    struct addrinfo *result;&#xA;    struct addrinfo *res;&#xA;    int error;&#xA;&#xA;    /* resolve the domain name into a list of addresses */&#xA;    error = getaddrinfo(&quot;localhost&quot;, &quot;2023&quot;, NULL, &amp;amp;result);&#xA;    if (error != 0)&#xA;    {&#xA;        fprintf(stderr, &quot;error in getaddrinfo: %s\n&quot;, gai_strerror(error));&#xA;        return EXIT_FAILURE;&#xA;    }&#xA;&#xA;    /* loop over all returned results and do inverse lookup */&#xA;    for (res = result; res != NULL; res = res-&amp;gt;ai_next)&#xA;    {&#xA;        char hostname[NI_MAXHOST] = &quot;&quot;;&#xA;&#xA;        error = getnameinfo(res-&amp;gt;ai_addr, res-&amp;gt;ai_addrlen, hostname, NI_MAXHOST, NULL, 0, 0);&#xA;        if (error != 0)&#xA;        {&#xA;            fprintf(stderr, &quot;error in getnameinfo: %s\n&quot;, gai_strerror(error));&#xA;            continue;&#xA;        }&#xA;        if (*hostname != '\0')&#xA;            printf(&quot;hostname: %s. ai_family: %i\n&quot;, hostname, res-&amp;gt;ai_family);&#xA;    }&#xA;&#xA;    freeaddrinfo(result);&#xA;    return EXIT_SUCCESS;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;After launching it, I saw this output:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;➜  getaddrinfotest  ./main&#xA;hostname: localhost. ai_family: 30&#xA;hostname: localhost. ai_family: 30&#xA;hostname: localhost. ai_family: 2&#xA;hostname: localhost. ai_family: 2&#xA;hostname: localhost. ai_family: 30&#xA;hostname: localhost. ai_family: 30&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So, the ai_family 30 seems to be a weird thing. As I understand from &lt;a href=&quot;http://lxr.free-electrons.com/source/include/linux/socket.h#L141&quot; rel=&quot;nofollow&quot;&gt;socket.h sources&lt;/a&gt;, it is AF_TIPC protocol, which is quite a rare thing I didn't heard of before. I also opened haskell's &lt;a href=&quot;http://hackage.haskell.org/package/network-2.6.0.2/docs/src/Network-Socket-Types.html#packFamily%27&quot; rel=&quot;nofollow&quot;&gt;packFamily' sources&lt;/a&gt; and was surprise to see it doesn't handle value of 30 there (doesn't know about AF_TIPC).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The questions I have are: what's the best thing to do now? Did I get the problem correctly? Should haskell handle unknown ai family better? // thanks!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;UPDATE: I resolved an issue by putting hint to use ipv4:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;addrInfos &amp;lt;- getAddrInfo (Just (defaultHints { addrFamily=AF_INET }))&#xA;               (Just host)&#xA;               (Just (show port))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;but I still wonder how to resolve this issue &quot;the right way&quot;.&lt;/p&gt;&#xA;" OwnerUserId="540810" LastEditorUserId="540810" LastEditDate="2014-10-27T13:26:40.493" LastActivityDate="2014-10-27T14:00:03.187" Title="Haskell: Unsupported operation (Address family not supported by protocol family)" Tags="&lt;c&gt;&lt;osx&gt;&lt;sockets&gt;&lt;haskell&gt;" AnswerCount="1" CommentCount="5" />
  <row Id="26594637" PostTypeId="1" AcceptedAnswerId="26595153" CreationDate="2014-10-27T18:45:26.383" Score="-1" ViewCount="60" Body="&lt;p&gt;I have to add compiler directives before class declaration like :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;`ifndef MIPI_RFFE_SCOREBOARD__SV&#xA;`define MIPI_RFFE_SCOREBOARD__SV&#xA;&#xA;class mipi_rffe_scoreboard extends uvm_scoreboard;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I tried :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;sed 's/class (\w+)(.*)/\`ifndef \U\1__SV\2/' mipi_rffe_scoreboard.sv &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Which gives :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;sed: -e expression #1, char 38: invalid reference \2 on `s' command's RHS&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I have seen &lt;a href=&quot;http://stackoverflow.com/questions/11694980/using-sed-insert-a-line-below-or-above-the-pattern&quot;&gt;Using sed, Insert a line below (or above) the pattern?&lt;/a&gt;. Here Kamal's answer solves only the part of the problem as I need to capture &quot;mipi_rffe_scoreboard&quot; and change it to uppercase&lt;/p&gt;&#xA;" OwnerUserId="1372455" LastEditorUserId="1372455" LastEditDate="2014-10-28T08:04:33.573" LastActivityDate="2014-10-28T08:04:33.573" Title="Add/Insert lines before pattern such that lines to be added have part of the pattern in uppercase" Tags="&lt;regex&gt;&lt;perl&gt;&lt;shell&gt;&lt;awk&gt;&lt;sed&gt;" AnswerCount="1" CommentCount="8" FavoriteCount="1" />
  <row Id="26693646" PostTypeId="1" AcceptedAnswerId="26693994" CreationDate="2014-11-01T21:53:14.020" Score="0" ViewCount="327" Body="&lt;p&gt;I've been investigating some strange behavior regarding the boost serialization of a &lt;code&gt;std::tr1::unordered_map&lt;/code&gt; with a custom key. Between serializing a key and serializing the &lt;code&gt;unordered_map&lt;/code&gt; that contains the key, there are 4 different situations from the four members: deserialized key, deserialized &lt;code&gt;unordered_map&lt;/code&gt;, original key, original &lt;code&gt;unordered_map&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;using original key with original &lt;code&gt;unordered_map&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;using deserialized key with deserialized &lt;code&gt;unordered_map&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;using deserialized key with original &lt;code&gt;unordered_map&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;using original key with deserialized &lt;code&gt;unordered_map&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&#xA;&lt;p&gt;The first two cases work as you would expect, but the last two cases do not map correctly. I've created a minimum working example below. Note that you need the boost header for the &lt;code&gt;unordered_map&lt;/code&gt; to be serializable. I've attached that at the bottom.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;cstdlib&amp;gt;&#xA;#include &amp;lt;unordered_map&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;fstream&amp;gt;&#xA;#include &amp;lt;boost/archive/text_oarchive.hpp&amp;gt;&#xA;#include &amp;lt;boost/archive/text_iarchive.hpp&amp;gt;&#xA;#include &quot;unordered_map.hpp&quot;&#xA;&#xA;class HashKey {&#xA;public:&#xA;    HashKey() = default;&#xA;    HashKey(const HashKey&amp;amp; orig) = default;&#xA;    virtual ~HashKey() = default;&#xA;    friend class boost::serialization::access;&#xA;&#xA;    template&amp;lt;class Archive&amp;gt;&#xA;    void serialize(Archive &amp;amp; ar, const unsigned int version)&#xA;    {&#xA;        ar &amp;amp; const_cast&amp;lt;unsigned long &amp;amp;&amp;gt;(id);&#xA;    }&#xA;    inline bool operator==(const HashKey&amp;amp; key) const {&#xA;        return this-&amp;gt;id == key.id;&#xA;    }&#xA;    struct KeyHasher {&#xA;        std::size_t operator()(const HashKey* key) const {&#xA;            return boost::hash&amp;lt;unsigned long&amp;gt;()(key-&amp;gt;id);&#xA;        }&#xA;    };&#xA;private:&#xA;    static unsigned long int idCounter;&#xA;    const unsigned long int id = HashKey::idCounter;&#xA;};&#xA;&#xA;unsigned long int HashKey::idCounter = 0;&#xA;&#xA;int main(int argc, char** argv) {&#xA;    std::tr1::unordered_map&amp;lt;HashKey*,std::string,HashKey::KeyHasher&amp;gt; map;&#xA;    HashKey key;&#xA;    map[&amp;amp;key]=&quot;works!&quot;;&#xA;&#xA;    {&#xA;        std::ofstream ofs(&quot;key.save&quot;);&#xA;        boost::archive::text_oarchive oa(ofs);&#xA;        oa &amp;lt;&amp;lt; key;&#xA;        oa &amp;lt;&amp;lt; map;&#xA;    }&#xA;    HashKey newKey;&#xA;    std::tr1::unordered_map&amp;lt;HashKey*,std::string,HashKey::KeyHasher&amp;gt; newMap;&#xA;    {&#xA;        std::ifstream ifs(&quot;key.save&quot;);&#xA;        boost::archive::text_iarchive ia(ifs);&#xA;        ia &amp;gt;&amp;gt; newKey;&#xA;        ia &amp;gt;&amp;gt; newMap;&#xA;    }&#xA;    std::cout&amp;lt;&amp;lt;&quot;Result: &quot;&amp;lt;&amp;lt;map[&amp;amp;key]&amp;lt;&amp;lt;&quot;\n&quot;;&#xA;    std::cout&amp;lt;&amp;lt;&quot;Result: &quot;&amp;lt;&amp;lt;newMap[&amp;amp;newKey]&amp;lt;&amp;lt;&quot;\n&quot;;&#xA;    std::cout&amp;lt;&amp;lt;&quot;Result: &quot;&amp;lt;&amp;lt;map[&amp;amp;newKey]&amp;lt;&amp;lt;&quot;\n&quot;;&#xA;    std::cout&amp;lt;&amp;lt;&quot;Result: &quot;&amp;lt;&amp;lt;newMap[&amp;amp;key]&amp;lt;&amp;lt;&quot;\n&quot;;&#xA;&#xA;&#xA;    return 0;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The output of this code when run is:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Result: works!&#xA;Result: works!&#xA;Result: &#xA;Result: &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I do not understand why the last two cases are not working. I checked the values output by the hash function, and they are correct. I suspect that it has something to do with the &lt;code&gt;operator()==&lt;/code&gt;for the pointers that are being used as keys, but I'm not certain how to check. I would like to be able to use all 4 cases in my code. Any illumination on why this isn't working? Thanks.&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;This is the &lt;code&gt;unordered_map.hpp&lt;/code&gt; that is used to serialize the hashmap. This comes from &lt;a href=&quot;https://svn.boost.org/trac/boost/ticket/5265&quot; rel=&quot;nofollow&quot;&gt;this boost ticket&lt;/a&gt;. Include it with the MWE:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  BOOST_SERIALIZATION_UNORDERED_MAP_HPP&#xA;#define BOOST_SERIALIZATION_UNORDERED_MAP_HPP&#xA;&#xA;// MS compatible compilers support #pragma once&#xA;#if defined(_MSC_VER) &amp;amp;&amp;amp; (_MSC_VER &amp;gt;= 1020)&#xA;# pragma once&#xA;#endif&#xA;&#xA;/////////1/////////2/////////3/////////4/////////5/////////6/////////7/////////8&#xA;// serialization/unordered_map.hpp:&#xA;// serialization for stl unordered_map templates&#xA;&#xA;// (C) Copyright 2002 Robert Ramey - http://www.rrsd.com . &#xA;// Use, modification and distribution is subject to the Boost Software&#xA;// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at&#xA;// http://www.boost.org/LICENSE_1_0.txt)&#xA;&#xA;//  See http://www.boost.org for updates, documentation, and revision history.&#xA;&#xA;#include &amp;lt;boost/tr1/unordered_map.hpp&amp;gt;&#xA;&#xA;#include &amp;lt;boost/config.hpp&amp;gt;&#xA;&#xA;#include &amp;lt;boost/serialization/utility.hpp&amp;gt;&#xA;#include &amp;lt;boost/serialization/unordered_collections_save_imp.hpp&amp;gt;&#xA;#include &amp;lt;boost/serialization/unordered_collections_load_imp.hpp&amp;gt;&#xA;#include &amp;lt;boost/serialization/split_free.hpp&amp;gt;&#xA;&#xA;namespace boost { &#xA;namespace serialization {&#xA;&#xA;namespace stl {&#xA;&#xA;// map input&#xA;template&amp;lt;class Archive, class Container&amp;gt;&#xA;struct archive_input_unordered_map&#xA;{&#xA;    inline void operator()(&#xA;        Archive &amp;amp;ar, &#xA;        Container &amp;amp;s, &#xA;        const unsigned int v&#xA;    ){&#xA;        typedef BOOST_DEDUCED_TYPENAME Container::value_type type;&#xA;        detail::stack_construct&amp;lt;Archive, type&amp;gt; t(ar, v);&#xA;        // borland fails silently w/o full namespace&#xA;        ar &amp;gt;&amp;gt; boost::serialization::make_nvp(&quot;item&quot;, t.reference());&#xA;        std::pair&amp;lt;BOOST_DEDUCED_TYPENAME Container::const_iterator, bool&amp;gt; result = &#xA;            s.insert(t.reference());&#xA;        // note: the following presumes that the map::value_type was NOT tracked&#xA;        // in the archive.  This is the usual case, but here there is no way&#xA;        // to determine that.  &#xA;        if(result.second){&#xA;            ar.reset_object_address(&#xA;                &amp;amp; (result.first-&amp;gt;second),&#xA;                &amp;amp; t.reference().second&#xA;            );&#xA;        }&#xA;    }&#xA;};&#xA;&#xA;// multimap input&#xA;template&amp;lt;class Archive, class Container&amp;gt;&#xA;struct archive_input_unordered_multimap&#xA;{&#xA;    inline void operator()(&#xA;        Archive &amp;amp;ar, &#xA;        Container &amp;amp;s, &#xA;        const unsigned int v&#xA;    ){&#xA;        typedef BOOST_DEDUCED_TYPENAME Container::value_type type;&#xA;        detail::stack_construct&amp;lt;Archive, type&amp;gt; t(ar, v);&#xA;        // borland fails silently w/o full namespace&#xA;        ar &amp;gt;&amp;gt; boost::serialization::make_nvp(&quot;item&quot;, t.reference());&#xA;        BOOST_DEDUCED_TYPENAME Container::const_iterator result &#xA;            = s.insert(t.reference());&#xA;        // note: the following presumes that the map::value_type was NOT tracked&#xA;        // in the archive.  This is the usual case, but here there is no way&#xA;        // to determine that.  &#xA;        ar.reset_object_address(&#xA;            &amp;amp; result-&amp;gt;second,&#xA;            &amp;amp; t.reference()&#xA;        );&#xA;    }&#xA;};&#xA;&#xA;} // stl&#xA;&#xA;template&amp;lt;&#xA;    class Archive, &#xA;    class Key, &#xA;    class HashFcn, &#xA;    class EqualKey,&#xA;    class Allocator&#xA;&amp;gt;&#xA;inline void save(&#xA;    Archive &amp;amp; ar,&#xA;    const std::tr1::unordered_map&amp;lt;&#xA;        Key, HashFcn, EqualKey, Allocator&#xA;    &amp;gt; &amp;amp;t,&#xA;    const unsigned int /*file_version*/&#xA;){&#xA;    boost::serialization::stl::save_unordered_collection&amp;lt;&#xA;        Archive, &#xA;        std::tr1::unordered_map&amp;lt;&#xA;            Key, HashFcn, EqualKey, Allocator&#xA;        &amp;gt;&#xA;    &amp;gt;(ar, t);&#xA;}&#xA;&#xA;template&amp;lt;&#xA;    class Archive, &#xA;    class Key, &#xA;    class HashFcn, &#xA;    class EqualKey,&#xA;    class Allocator&#xA;&amp;gt;&#xA;inline void load(&#xA;    Archive &amp;amp; ar,&#xA;    std::tr1::unordered_map&amp;lt;&#xA;        Key, HashFcn, EqualKey, Allocator&#xA;    &amp;gt; &amp;amp;t,&#xA;    const unsigned int /*file_version*/&#xA;){&#xA;    boost::serialization::stl::load_unordered_collection&amp;lt;&#xA;        Archive,&#xA;        std::tr1::unordered_map&amp;lt;&#xA;            Key, HashFcn, EqualKey, Allocator&#xA;        &amp;gt;,&#xA;        boost::serialization::stl::archive_input_unordered_map&amp;lt;&#xA;            Archive, &#xA;            std::tr1::unordered_map&amp;lt;&#xA;                Key, HashFcn, EqualKey, Allocator&#xA;            &amp;gt;&#xA;        &amp;gt;&#xA;    &amp;gt;(ar, t);&#xA;}&#xA;&#xA;// split non-intrusive serialization function member into separate&#xA;// non intrusive save/load member functions&#xA;template&amp;lt;&#xA;    class Archive, &#xA;    class Key, &#xA;    class HashFcn, &#xA;    class EqualKey,&#xA;    class Allocator&#xA;&amp;gt;&#xA;inline void serialize(&#xA;    Archive &amp;amp; ar,&#xA;    std::tr1::unordered_map&amp;lt;&#xA;        Key, HashFcn, EqualKey, Allocator&#xA;    &amp;gt; &amp;amp;t,&#xA;    const unsigned int file_version&#xA;){&#xA;    boost::serialization::split_free(ar, t, file_version);&#xA;}&#xA;&#xA;// unordered_multimap&#xA;template&amp;lt;&#xA;    class Archive, &#xA;    class Key, &#xA;    class HashFcn, &#xA;    class EqualKey,&#xA;    class Allocator&#xA;&amp;gt;&#xA;inline void save(&#xA;    Archive &amp;amp; ar,&#xA;    const std::tr1::unordered_multimap&amp;lt;&#xA;        Key, HashFcn, EqualKey, Allocator&#xA;    &amp;gt; &amp;amp;t,&#xA;    const unsigned int /*file_version*/&#xA;){&#xA;    boost::serialization::stl::save_unordered_collection&amp;lt;&#xA;        Archive, &#xA;        std::tr1::unordered_multimap&amp;lt;&#xA;            Key, HashFcn, EqualKey, Allocator&#xA;        &amp;gt;&#xA;    &amp;gt;(ar, t);&#xA;}&#xA;&#xA;template&amp;lt;&#xA;    class Archive, &#xA;    class Key, &#xA;    class HashFcn, &#xA;    class EqualKey,&#xA;    class Allocator&#xA;&amp;gt;&#xA;inline void load(&#xA;    Archive &amp;amp; ar,&#xA;    std::tr1::unordered_multimap&amp;lt;&#xA;        Key, HashFcn, EqualKey, Allocator&#xA;    &amp;gt; &amp;amp;t,&#xA;    const unsigned int /*file_version*/&#xA;){&#xA;    boost::serialization::stl::load_unordered_collection&amp;lt;&#xA;        Archive,&#xA;        std::tr1::unordered_multimap&amp;lt;&#xA;            Key, HashFcn, EqualKey, Allocator&#xA;        &amp;gt;,&#xA;        boost::serialization::stl::archive_input_unordered_multimap&amp;lt;&#xA;            Archive, &#xA;            std::tr1::unordered_multimap&amp;lt;&#xA;                Key, HashFcn, EqualKey, Allocator&#xA;            &amp;gt;&#xA;        &amp;gt;&#xA;    &amp;gt;(ar, t);&#xA;}&#xA;&#xA;// split non-intrusive serialization function member into separate&#xA;// non intrusive save/load member functions&#xA;template&amp;lt;&#xA;    class Archive, &#xA;    class Key, &#xA;    class HashFcn, &#xA;    class EqualKey,&#xA;    class Allocator&#xA;&amp;gt;&#xA;inline void serialize(&#xA;    Archive &amp;amp; ar,&#xA;    std::tr1::unordered_multimap&amp;lt;&#xA;        Key, HashFcn, EqualKey, Allocator&#xA;    &amp;gt; &amp;amp;t,&#xA;    const unsigned int file_version&#xA;){&#xA;    boost::serialization::split_free(ar, t, file_version);&#xA;}&#xA;&#xA;} // namespace serialization&#xA;} // namespace boost&#xA;&#xA;#endif // BOOST_SERIALIZATION_UNORDERED_MAP_HPP&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2454341" LastActivityDate="2014-11-01T22:38:40.047" Title="Odd behavior using boost serialization, std::tr1::unordered_map, and a custom key" Tags="&lt;c++&gt;&lt;serialization&gt;&lt;boost&gt;&lt;hash&gt;&lt;unordered-map&gt;" AnswerCount="1" CommentCount="8" />
  <row Id="26940456" PostTypeId="1" CreationDate="2014-11-14T23:21:50.593" Score="1" ViewCount="44" Body="&lt;p&gt;I know this title is a bit confusing but a diagram will probably help. &#xA;in one file: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef ...&#xA;#def  ...&#xA;#includes (including OListiterator.h&amp;gt;&#xA;template &amp;lt;class T&amp;gt;&#xA;class OList;&#xA;template &amp;lt;class T&amp;gt;&#xA;Class OListiterator{&#xA;    friend class OList&amp;lt;T&amp;gt;::OList;&#xA;    typename OList&amp;lt;T&amp;gt;::Node* iiter;&#xA;};&#xA;function defs;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;in another:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef ...&#xA;#def ...&#xA;#includes (one is OList.h)&#xA;template&amp;lt;class T&amp;gt;&#xA;class OListiterator;&#xA;template &amp;lt;class T&amp;gt;&#xA;Class OList{&#xA;     friend class OListiterator&amp;lt;T&amp;gt;::OListiterator;&#xA;     public:&#xA;          class Node{&#xA;          };&#xA;      //things&#xA;};&#xA;//functions&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This is what myself and the TA assisting me would have thought would work, but I am thrown the error: Node does not name a type in OList. Does anybody know why/how I can fix this? Let me know if I need to post more.&lt;/p&gt;&#xA;" OwnerUserId="4059976" LastEditorUserId="4059976" LastEditDate="2014-11-15T00:19:26.750" LastActivityDate="2014-11-15T00:19:26.750" Title="Accessing a class object within a class from a class" Tags="&lt;c++&gt;&lt;class&gt;&lt;iterator&gt;&lt;nodes&gt;" AnswerCount="3" CommentCount="0" />
  <row Id="27071560" PostTypeId="1" AcceptedAnswerId="27072265" CreationDate="2014-11-21T22:38:09.153" Score="1" ViewCount="196" Body="&lt;p&gt;I am writing a Windows Forms GUI application in Visual Studio 2012 using C++CLI and I really need to use the Boost bidirectional map to coordinate some GUI element values with values in some internal structs. I downloaded and unzipped the boost package and then in my project's Properties menu I added the Boost location to Configuration Properties -&gt; VC++ Directories -&gt; Include Directories.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;But, when I add the boost include (and nothing else, not even declaring a boost::bimap object)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;boost/bimap.hpp&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I get the errors&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;error C3389: __declspec(dllexport) cannot be used with /clr:pure or /clr:safe&#xA;error C3395: 'boost::serialization::void_cast_register' : __declspec(dllexport) cannot be applied to a function with the __clrcall calling convention&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When I follow the compile errors I end up in &quot;void_cast_fwd.hpp&quot; and on the line below that contains &quot;BOOST_DLLEXPORT&quot; but I'm not sure what to do with it.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  BOOST_SERIALIZATION_VOID_CAST_FWD_HPP&#xA;#define BOOST_SERIALIZATION_VOID_CAST_FWD_HPP&#xA;&#xA;// MS compatible compilers support #pragma once&#xA;#if defined(_MSC_VER)&#xA;# pragma once&#xA;#endif&#xA;&#xA;/////////1/////////2/////////3/////////4/////////5/////////6/////////7/////////8&#xA;// void_cast_fwd.hpp:   interface for run-time casting of void pointers.&#xA;&#xA;// (C) Copyright 2005 Robert Ramey - http://www.rrsd.com . &#xA;// Use, modification and distribution is subject to the Boost Software&#xA;// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at&#xA;// http://www.boost.org/LICENSE_1_0.txt)&#xA;// gennadiy.rozental@tfn.com&#xA;&#xA;//  See http://www.boost.org for updates, documentation, and revision history.&#xA;&#xA;#include &amp;lt;cstddef&amp;gt; // NULL&#xA;#include &amp;lt;boost/serialization/force_include.hpp&amp;gt;&#xA;&#xA;namespace boost {&#xA;namespace serialization {&#xA;namespace void_cast_detail{&#xA;class void_caster;&#xA;} // namespace void_cast_detail&#xA;template&amp;lt;class Derived, class Base&amp;gt;&#xA;BOOST_DLLEXPORT &#xA;inline const void_cast_detail::void_caster &amp;amp; void_cast_register(&#xA;    const Derived * dnull = NULL, &#xA;    const Base * bnull = NULL&#xA;) BOOST_USED;&#xA;} // namespace serialization&#xA;} // namespace boost&#xA;&#xA;#endif // BOOST_SERIALIZATION_VOID_CAST_HPP&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I am new to .NET and C++CLI and not sure how to change the compiler commands /clr:pure or /clr:safe. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any thoughts on how I can use this boost library in my application would be greatly appreciated.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Also, I am NOT worried about portability right now, all I care is that it compiles on Windows. I am assuming the fact that I am using C++CLI in .NET is more of a portability restriction than trying to use boost libraries, but am interested to hear opinions on this too.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thank you!&lt;/p&gt;&#xA;" OwnerUserId="2238779" LastEditorUserId="2238779" LastEditDate="2014-11-21T22:51:49.400" LastActivityDate="2014-11-21T23:45:32.330" Title="How to use Boost classes in a .NET C++CLI GUI application" Tags="&lt;.net&gt;&lt;boost&gt;&lt;c++-cli&gt;" AnswerCount="2" CommentCount="4" />
  <row Id="27209761" PostTypeId="1" AcceptedAnswerId="27209801" CreationDate="2014-11-30T03:42:52.843" Score="1" ViewCount="72" Body="&lt;p&gt;A newbie in C++. I am trying to create a node class (and not struct) in c++. And practice some various trees implementations. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;My header file&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  NODE_H&#xA;#define NODE_H&#xA;class Node{&#xA;private:&#xA;    Node *left,*right;&#xA;    int data;&#xA;    Node(){}&#xA;public:&#xA;    Node(int data);&#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;class def&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Node.h&quot;&#xA;&#xA;Node::Node(int data) {&#xA;    this-&amp;gt;data = data;&#xA;    this-&amp;gt;left = NULL;&#xA;    this-&amp;gt;right = NULL;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;My test:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Node.h&quot;&#xA;int main(int argc, char *argv[]){&#xA;    Node n = new Node(2);&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;error:&#xA; In function ‘int main(int, char**)’:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/home/fraz/ClionProjects/algorithms/BinaryTest.cpp:3:24: error: invalid conversion from ‘Node*’ to ‘int’ [-fpermissive]&#xA;     Node n = new Node(2);&#xA;                        ^&#xA;In file included from /home/mohit/ClionProjects/algorithms/BinaryTest.cpp:1:0:&#xA;/home/fraz/ClionProjects/algorithms/Node.h:9:5: note: initializing argument 1 of ‘Node::Node(int)’&#xA;     Node(int data);&#xA;     ^&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Yeah, I have a long way to go.&lt;/p&gt;&#xA;" OwnerUserId="902885" LastActivityDate="2014-11-30T03:51:03.660" Title="Node class in C++" Tags="&lt;c++&gt;" AnswerCount="1" CommentCount="2" />
  <row Id="27276907" PostTypeId="1" CreationDate="2014-12-03T16:34:50.433" Score="1" ViewCount="616" Body="&lt;p&gt;Attempting to use Android in Ubuntu to study TaintDroid and running into some issues. I followed the instructions at  &lt;a href=&quot;http://appanalysis.org/download_2.3.html&quot; rel=&quot;nofollow&quot;&gt;http://appanalysis.org/download_2.3.html&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm using Ubuntu 14.04 64 bit in Virtual box&lt;/p&gt;&#xA;&#xA;&lt;p&gt;When I get to Make, i get the following stacktrace&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;colin@colin-VirtualBox:~/tdroid/tdroid-2.3.4_r1$ ls&#xA;bionic    cts          device      hardware  ndk       prebuilt&#xA;bootable  dalvik       external    libcore   out       sdk&#xA;build     development  frameworks  Makefile  packages  system   &#xA;colin@colin-VirtualBox:~/tdroid/tdroid-2.3.4_r1$ . build/envsetup.sh     &#xA;including device/htc/passion/vendorsetup.sh   &#xA;including device/samsung/crespo/vendorsetup.sh&#xA;colin@colin-VirtualBox:~/tdroid/tdroid-2.3.4_r1$ lunch 1&#xA;&#xA;============================================&#xA;PLATFORM_VERSION_CODENAME=REL&#xA;PLATFORM_VERSION=2.3.4&#xA;TARGET_PRODUCT=generic&#xA;TARGET_BUILD_VARIANT=eng&#xA;TARGET_SIMULATOR=false&#xA;TARGET_BUILD_TYPE=release&#xA;TARGET_BUILD_APPS=&#xA;TARGET_ARCH=arm&#xA;HOST_ARCH=x86&#xA;HOST_OS=linux&#xA;HOST_BUILD_TYPE=release&#xA;BUILD_ID=GRJ22&#xA;============================================&#xA;colin@colin-VirtualBox:~/tdroid/tdroid-2.3.4_r1$ make -j4&#xA;============================================&#xA;PLATFORM_VERSION_CODENAME=REL&#xA;PLATFORM_VERSION=2.3.4&#xA;TARGET_PRODUCT=generic&#xA;TARGET_BUILD_VARIANT=eng&#xA;TARGET_SIMULATOR=false&#xA;TARGET_BUILD_TYPE=release&#xA;TARGET_BUILD_APPS=&#xA;TARGET_ARCH=arm&#xA;HOST_ARCH=x86&#xA;HOST_OS=linux&#xA;HOST_BUILD_TYPE=release&#xA;BUILD_ID=GRJ22&#xA;============================================&#xA;find: `frameworks/base/frameworks/base/docs/html': No such file or directory&#xA;find: `out/target/common/docs/gen': No such file or directory&#xA;find: `frameworks/base/frameworks/base/docs/html': No such file or directory&#xA;find: `out/target/common/docs/gen': No such file or directory&#xA;find: `frameworks/base/frameworks/base/docs/html': No such file or directory&#xA;find: `out/target/common/docs/gen': No such file or directory&#xA;find: `frameworks/base/frameworks/base/docs/html': No such file or directory&#xA;find: `out/target/common/docs/gen': No such file or directory&#xA;find: `frameworks/base/frameworks/base/docs/html': No such file or directory&#xA;find: `out/target/common/docs/gen': No such file or directory&#xA;host Java: apicheck (out/host/common/obj/JAVA_LIBRARIES/apicheck_intermediates/classes)&#xA;Header: out/host/linux-x86/obj/include/libexpat/expat_external.h&#xA;Header: out/host/linux-x86/obj/include/libexpat/expat.h&#xA;Header: out/target/product/generic/obj/include/libexpat/expat.h&#xA;Header: out/target/product/generic/obj/include/libexpat/expat_external.h&#xA;Header: out/host/linux-x86/obj/include/libpng/pngconf.h&#xA;Header: out/host/linux-x86/obj/include/libpng/png.h&#xA;Header: out/host/linux-x86/obj/include/libpng/pngusr.h&#xA;Header: out/target/product/generic/obj/include/libpng/png.h    &#xA;Header: out/target/product/generic/obj/include/libpng/pngusr.h&#xA;Header: out/target/product/generic/obj/include/libpng/pngconf.h&#xA;Header: out/target/product/generic/obj/include/libwpa_client/wpa_ctrl.h&#xA;Header: out/target/product/generic/obj/include/libsonivox/eas.h&#xA;Header: out/target/product/generic/obj/include/libsonivox/eas_types.h&#xA;Header: out/target/product/generic/obj/include/libsonivox/eas_reverb.h&#xA;Header: out/target/product/generic/obj/include/libsonivox/jet.h&#xA;Header: out/target/product/generic/obj/include/libsonivox/ARM_synth_constants_gnu.inc&#xA;host Java: clearsilver (out/host/common/obj/JAVA_LIBRARIES/clearsilver_intermediates  /classes)&#xA;target Java: core (out/target/common/obj/JAVA_LIBRARIES/core_intermediates/classes)&#xA;host Java: dx (out/host/common/obj/JAVA_LIBRARIES/dx_intermediates/classes)&#xA;Notice file: frameworks/base/libs/utils/NOTICE -- out/host/linux-x86/obj/NOTICE_FILES/src//lib/libutils.a.txt&#xA;Notice file: system/core/liblog/NOTICE -- out/host/linux-x86/obj/NOTICE_FILES/src//lib/liblog.a.txt&#xA;Notice file: system/core/libcutils/NOTICE -- out/host/linux-x86/obj/NOTICE_FILES/src//lib/libcutils.a.txt&#xA;Notice file: external/expat/NOTICE -- out/host/linux-x86/obj/NOTICE_FILES/src//lib/libexpat.a.txt&#xA;Notice file: external/libpng/NOTICE -- out/host/linux-x86/obj/NOTICE_FILES/src//lib/libpng.a.txt&#xA;Yacc: aidl &amp;lt;= frameworks/base/tools/aidl/aidl_language_y.y&#xA;bison -d  -o out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.cpp frameworks/base/tools/aidl/aidl_language_y.y&#xA;touch out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.hpp&#xA;echo '#ifndef 'aidl_language_y_h &amp;gt; out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.h&#xA;echo '#define 'aidl_language_y_h &amp;gt;&amp;gt; out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.h&#xA;cat out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.hpp &amp;gt;&amp;gt; out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.h&#xA; echo '#endif' &amp;gt;&amp;gt; out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.h&#xA;rm -f out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_y.hpp   &#xA; Lex: aidl &amp;lt;= frameworks/base/tools/aidl/aidl_language_l.l&#xA; /bin/bash: flex: command not found&#xA;  make: *** [out/host/linux-x86/obj/EXECUTABLES/aidl_intermediates/aidl_language_l.cpp] Error 127 &#xA;make: *** Waiting for unfinished jobs....&#xA;Note: Some input files use unchecked or unsafe operations.&#xA;Note: Recompile with -Xlint:unchecked for details.    &#xA;Note: Some input files use or override a deprecated API.&#xA;Note: Recompile with -Xlint:deprecation for details.&#xA;Note: Some input files use unchecked or unsafe operations. &#xA;Note: Recompile with -Xlint:unchecked for details.&#xA;colin@colin-VirtualBox:~/tdroid/tdroid-2.3.4_r1$ emulator&#xA;emulator: command not found&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Has anyone had a similar issue? Linux and the terminal are somewhat foreign to me.&lt;/p&gt;&#xA;" OwnerUserId="1486387" LastActivityDate="2017-02-23T02:33:21.517" Title="Android Build Error - Ubuntu &amp; TaintDroid" Tags="&lt;android&gt;&lt;linux&gt;&lt;ubuntu&gt;&lt;virtual-machine&gt;&lt;virtualbox&gt;" AnswerCount="1" CommentCount="1" FavoriteCount="0" />
  <row Id="27576719" PostTypeId="1" CreationDate="2014-12-20T03:43:17.883" Score="0" ViewCount="148" Body="&lt;p&gt;I have a confusion with the way &lt;code&gt;#include&lt;/code&gt; directives work in &lt;code&gt;C/C++&lt;/code&gt;. My first question is:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If header A includes header B &lt;strong&gt;first&lt;/strong&gt; and &lt;strong&gt;then&lt;/strong&gt; header C, is everything defined in header B immediately available in header C ? e.g:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/* FILE: header A */&#xA;&#xA;#include &quot;B.h&quot;&#xA;#include &quot;C.h&quot; //are stuff from B.h available INSIDE C.h now?&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;My second question is (somewhat related to above) is this inclusion behavior different in C and C++?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Lastly, I am trying to compile &lt;code&gt;freeglut&lt;/code&gt; with a C++ compiler and &lt;code&gt;freeglut&lt;/code&gt;'s header has the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  __FREEGLUT_H__&#xA;#define  __FREEGLUT_H__&#xA;&#xA;#include &quot;freeglut_std.h&quot;&#xA;#include &quot;freeglut_ext.h&quot;&#xA;&#xA;#endif /* __FREEGLUT_H__ */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Problem is that, under compilation as C, everything is fine but switching to C++ in Visual Studio suddenly makes &lt;code&gt;freeglut_ext.h&lt;/code&gt; to be unaware of everything defined in &lt;code&gt;freeglut_std.h&lt;/code&gt;. Is this an issue limited to MSVC?&lt;/p&gt;&#xA;" OwnerUserId="388751" LastActivityDate="2014-12-20T03:54:40.033" Title="Include hierarchy confusion" Tags="&lt;c++&gt;&lt;c&gt;&lt;visual-studio&gt;&lt;visual-studio-2012&gt;&lt;freeglut&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="27671639" PostTypeId="1" AcceptedAnswerId="27672599" CreationDate="2014-12-27T21:31:10.937" Score="-3" ViewCount="404" Body="&lt;p&gt;I'm having troubles with nested headers, &lt;/p&gt;&#xA;&#xA;&lt;h3&gt;a.h&lt;/h3&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef a_h&#xA;#define a_h&#xA;    #include&amp;lt;b.h&amp;gt;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;h3&gt;b.h&lt;/h3&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef b_h&#xA;#define b_h&#xA;    #include&amp;lt;a.h&amp;gt;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Looks like the include guards are not working.&lt;br&gt;&#xA;In fact, I'm getting Apple Mach-O Linker Error, duplicate symbols, clang: error: linker command failed with exit code 1.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What am I doing wrong?&lt;/p&gt;&#xA;" OwnerUserId="4398629" LastEditorUserId="1505120" LastEditDate="2015-11-25T02:34:58.507" LastActivityDate="2015-11-25T02:34:58.507" Title="XCode 6 preprocessor directive ( #ifndef ) not working, can't use nested headers" Tags="&lt;c++&gt;&lt;ios&gt;&lt;iphone&gt;&lt;xcode&gt;" AnswerCount="1" CommentCount="3" ClosedDate="2014-12-28T06:05:04.547" />
  <row Id="27765918" PostTypeId="1" CreationDate="2015-01-04T13:20:46.210" Score="0" ViewCount="123" Body="&lt;p&gt;I had an game created, when they send me version via test flight (outside of itunes connect) it works correctly and i get local push notifications - also the prompt asking if i want to allow push notifications.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;However, when the game is uploaded to itunes connect and i download from there the local push notifications do not work, i also do not receive a message asking for permission to allow notifications from this game.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any idea on why it works outside itunes connect but not when downloading from appstore or prerelease from itunes.?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Notification appears to be raised by:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;- (void) sendLocalReminder:(NSDate *)date  Type:(NSString*)type Alert:(NSString *)title{&#xA;    // some code ...&#xA;    UILocalNotification *localNotif = [[UILocalNotification alloc] init];&#xA;&#xA;    if (localNotif == nil)&#xA;        return;&#xA;&#xA;    localNotif.fireDate = date;&#xA;    localNotif.timeZone = [NSTimeZone defaultTimeZone];&#xA;    localNotif.alertAction = NSLocalizedString(@&quot;Reminder&quot;, nil);&#xA;    localNotif.alertBody = title;&#xA;    localNotif.soundName = UILocalNotificationDefaultSoundName;&#xA;    localNotif.applicationIconBadgeNumber = 0;&#xA;&#xA;    NSDictionary *infoDict = [NSDictionary dictionaryWithObject:type forKey:@&quot;lid&quot;];&#xA;    localNotif.userInfo = infoDict;&#xA;&#xA;    [[UIApplication sharedApplication] scheduleLocalNotification:localNotif];&#xA;    [localNotif release];&#xA;&#xA;}&#xA;&#xA;-(void)notifyScratch&#xA;{&#xA;    [self sendLocalReminder:[NSDate dateWithTimeIntervalSinceNow:TIME_LIFE_BONUS] Type:LNT_SCRATCH_CARD Alert:LNM_SCRATCH_CARD];&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;AppDelegate.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//&#xA;//  &#xA;//  &#xA;//&#xA;//  Created by HuangYinHui on 11/12/14.&#xA;//  Copyright __MyCompanyName__ 2014. All rights reserved.&#xA;//&#xA;&#xA;#ifndef  _APP_DELEGATE_H_&#xA;#define  _APP_DELEGATE_H_&#xA;&#xA;#include &quot;CCApplication.h&quot;&#xA;&#xA;/**&#xA;@brief    The cocos2d Application.&#xA;&#xA;The reason to implement with private inheritance is to hide some interface details of CCDirector.&#xA;*/&#xA;class  AppDelegate : private cocos2d::CCApplication&#xA;{&#xA;public:&#xA;    AppDelegate();&#xA;    virtual ~AppDelegate();&#xA;&#xA;    /**&#xA;    @brief    Implement CCDirector and CCScene init code here.&#xA;    @return true    Initialize success, app continue.&#xA;    @return false   Initialize failed, app terminate.&#xA;    */&#xA;    virtual bool applicationDidFinishLaunching();&#xA;&#xA;    /**&#xA;    @brief  The function is called when the application enters the background&#xA;    @param  the pointer of the application instance&#xA;    */&#xA;    virtual void applicationDidEnterBackground();&#xA;&#xA;    /**&#xA;    @brief  The function is called when the application enters the foreground&#xA;    @param  the pointer of the application instance&#xA;    */&#xA;    virtual void applicationWillEnterForeground();&#xA;};&#xA;&#xA;#endif // _APP_DELEGATE_H_&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;AppDelegate.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//  Created by HuangYinHui on 11/12/14.&#xA;//  Copyright __MyCompanyName__ 2014. All rights reserved.&#xA;//&#xA;&#xA;#include &quot;AppDelegate.h&quot;&#xA;&#xA;#include &quot;GameUtils/GameConfig.h&quot;&#xA;&#xA;#include &quot;GameScene/LoadingScene.h&quot;&#xA;//#include &quot;GameScene/MainMenuScene.h&quot;&#xA;//#include &quot;GameScene/ScratchCardsScene.h&quot;&#xA;//#include &quot;GameScene/DialogBoxScene.h&quot;&#xA;//#include &quot;GameScene/BuyCoinsScene.h&quot;&#xA;#include &quot;GameScene/GameScene.h&quot;&#xA;//#include &quot;GameScene/HowToPlayScene.h&quot;&#xA;//#include &quot;GameScene/GameEndScene.h&quot;&#xA;&#xA;USING_NS_CC;&#xA;using namespace CocosDenshion;&#xA;&#xA;AppDelegate::AppDelegate()&#xA;{&#xA;&#xA;}&#xA;&#xA;AppDelegate::~AppDelegate()&#xA;{&#xA;}&#xA;&#xA;bool AppDelegate::applicationDidFinishLaunching()&#xA;{&#xA;    // initialize director&#xA;    CCDirector *pDirector = CCDirector::sharedDirector();&#xA;    pDirector-&amp;gt;setOpenGLView(CCEGLView::sharedOpenGLView());&#xA;&#xA;    // turn on display FPS&#xA;    pDirector-&amp;gt;setDisplayStats(false);&#xA;&#xA;    // set FPS. the default value is 1.0/60 if you don't call this&#xA;    pDirector-&amp;gt;setAnimationInterval(1.0 / 60);&#xA;&#xA;    loadGameInfo();&#xA;    // create a scene. it's an autorelease object&#xA;    CCScene *pScene = LoadingScene::scene();&#xA;//    CCScene *pScene = MainMenuScene::scene();&#xA;//    CCScene *pScene = ScratchCardsScene::scene();&#xA;//    CCScene *pScene = DialogBoxScene::scene();&#xA;//    CCScene *pScene = BuyCoinsScene::scene();&#xA;//    CCScene *pScene = GameScene::scene();&#xA;//    CCScene *pScene = HowToPlayScene::scene();&#xA;//    CCScene *pScene = GameEndScene::scene();&#xA;&#xA;    // run&#xA;    pDirector-&amp;gt;runWithScene(pScene);&#xA;&#xA;    return true;&#xA;}&#xA;&#xA;// This function will be called when the app is inactive. When comes a phone call,it's be invoked too&#xA;void AppDelegate::applicationDidEnterBackground()&#xA;{&#xA;//    CCNotificationCenter::sharedNotificationCenter()-&amp;gt;postNotification(EVENT_COME_TO_BACKGROUND, NULL);&#xA;    CCDirector::sharedDirector()-&amp;gt;stopAnimation();&#xA;    SimpleAudioEngine::sharedEngine()-&amp;gt;pauseBackgroundMusic();&#xA;    SimpleAudioEngine::sharedEngine()-&amp;gt;pauseAllEffects();&#xA;}&#xA;&#xA;// this function will be called when the app is active again&#xA;void AppDelegate::applicationWillEnterForeground()&#xA;{&#xA;    CCDirector::sharedDirector()-&amp;gt;startAnimation();&#xA;    SimpleAudioEngine::sharedEngine()-&amp;gt;resumeBackgroundMusic();&#xA;    SimpleAudioEngine::sharedEngine()-&amp;gt;resumeAllEffects();&#xA;&#xA;#if (CC_TARGET_PLATFORM==CC_PLATFORM_ANDROID)&#xA;    if (g_pGameScene)&#xA;        g_pGameScene-&amp;gt;listenToForeground(NULL);&#xA;#endif&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2183216" LastEditorUserId="2183216" LastEditDate="2015-01-04T13:49:35.570" LastActivityDate="2015-01-04T13:49:35.570" Title="Local push notifications not working on live app" Tags="&lt;ios&gt;&lt;iphone&gt;&lt;notifications&gt;&lt;push-notification&gt;&lt;uilocalnotification&gt;" AnswerCount="0" CommentCount="6" />
  <row Id="27767837" PostTypeId="1" AcceptedAnswerId="27769352" CreationDate="2015-01-04T16:43:38.877" Score="0" ViewCount="185" Body="&lt;p&gt;I am following the book &quot;SDL Game Development By Shaun Mitchell&quot; to learn SDL2 and have run into a compiler error I cannot solve.  I am receiving a &quot;error C2011: 'TextureManager' : 'class' type redefinition&quot; when attempting to build the project.  I am using Visual Studio 2008.  I have added the precompile commands as typically suggested for this error.  I have cleaned the project then built it.  The error continues every time I attempt to build the project. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;TextureManager.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;SDL.h&quot;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;map&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;&#xA;#ifndef __TextureManger__&#xA;#define __TextureManager__&#xA;&#xA;&#xA;class TextureManager&#xA;{&#xA;    public:&#xA;        bool load(std::string fileName,std::string id,SDL_Renderer* pRenderer);&#xA;    // draw&#xA;    void draw(std::string id, int x, int y, int width, int height, SDL_Renderer* pRenderer, SDL_RendererFlip flip = SDL_FLIP_NONE);&#xA;&#xA;    // drawframe&#xA;    void drawFrame(std::string id, int x, int y, int width, int height, int currentRow, int currentFrame, SDL_Renderer* pRenderer, SDL_RendererFlip flip = SDL_FLIP_NONE);&#xA;&#xA;    std::map&amp;lt;std::string, SDL_Texture*&amp;gt; m_textureMap;&#xA;};&#xA;&#xA;&#xA;#endif /* defined(__TextureManager__) */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;TextureManager.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;TextureManager.h&quot;&#xA;#include &quot;SDL_image.h&quot;&#xA;#include &quot;SDL.H&quot;&#xA;&#xA;bool TextureManager::load(std::string fileName, std::string id, SDL_Renderer* pRenderer)&#xA;{&#xA;SDL_Surface* pTempSurface = IMG_Load(fileName.c_str());&#xA;if(pTempSurface == 0)&#xA;{&#xA;    return false;&#xA;}&#xA;SDL_Texture* pTexture = SDL_CreateTextureFromSurface(pRenderer, pTempSurface);&#xA;SDL_FreeSurface(pTempSurface);&#xA;// everything went ok, add the texture to our list&#xA;if(pTexture != 0)&#xA;{&#xA;    m_textureMap[id] = pTexture;&#xA;    return true;&#xA;}&#xA;// reaching here means something went wrong&#xA;return false;&#xA;}&#xA;&#xA;void TextureManager::draw(std::string id, int x, int y, int width, int height, SDL_Renderer* pRenderer, SDL_RendererFlip flip)&#xA;{&#xA;SDL_Rect srcRect;&#xA;SDL_Rect destRect;&#xA;srcRect.x = 0;&#xA;srcRect.y = 0;&#xA;srcRect.w = destRect.w = width;&#xA;srcRect.h = destRect.h = height;&#xA;destRect.x = x;&#xA;destRect.y = y;&#xA;SDL_RenderCopyEx(pRenderer, m_textureMap[id], &amp;amp;srcRect, &amp;amp;destRect, 0, 0, flip);&#xA;}&#xA;&#xA;void TextureManager::drawFrame(std::string id, int x, int y, int width, int height, int currentRow, int currentFrame, SDL_Renderer *pRenderer, SDL_RendererFlip flip)&#xA;{&#xA;SDL_Rect srcRect;&#xA;SDL_Rect destRect;&#xA;srcRect.x = width * currentFrame;&#xA;srcRect.y = height * (currentRow - 1);&#xA;srcRect.w = destRect.w = width;&#xA;srcRect.h = destRect.h = height;&#xA;destRect.x = x;&#xA;destRect.y = y;&#xA;SDL_RenderCopyEx(pRenderer, m_textureMap[id], &amp;amp;srcRect, &amp;amp;destRect, 0, 0, flip);&#xA;} &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Game.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;SDL.h&quot;&#xA;#include &quot;TextureManager.h&quot;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;&#xA;#ifndef __Game__&#xA;#define __Game__&#xA;&#xA;class Game&#xA;{&#xA;public:&#xA;    Game() {}&#xA;    ~Game() {}&#xA;    // simply set the running variable to true&#xA;    bool init(const char* title, int xpos, int ypos, int width, int height, bool fullscreen);&#xA;    void render();&#xA;    void update();&#xA;    void handleEvents();&#xA;    void clean();&#xA;&#xA;    // a function to access the private running variable&#xA;    bool running()&#xA;    { &#xA;            return m_bRunning; &#xA;    }&#xA;private:&#xA;    SDL_Window* m_pWindow;&#xA;    SDL_Renderer* m_pRenderer;&#xA;    int m_currentFrame;&#xA;    TextureManager m_textureManager;&#xA;    bool m_bRunning;&#xA;};&#xA;#endif /* defined(__Game__) */ &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Game.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Game.h&quot;&#xA;#include &quot;SDL_image.h&quot;&#xA;#include &quot;TextureManager.h&quot;&#xA;&#xA;//defined init function&#xA;bool Game::init(const char* title, int xpos, int ypos, int width, int height, bool fullscreen)&#xA;{&#xA;int flags = 0;&#xA;if(fullscreen)&#xA;{&#xA;    flags = SDL_WINDOW_FULLSCREEN;&#xA;}&#xA;//attempt to initialize SDL&#xA;if(SDL_Init(SDL_INIT_EVERYTHING) == 0)&#xA;{&#xA;    std::cout &amp;lt;&amp;lt; &quot;SDL init success\n&quot;;&#xA;    // init the window&#xA;    m_pWindow = SDL_CreateWindow(title, xpos, ypos,&#xA;    width, height, flags);&#xA;    if(m_pWindow != 0) // window init success&#xA;    {&#xA;        std::cout &amp;lt;&amp;lt; &quot;window creation success\n&quot;;&#xA;        m_pRenderer = SDL_CreateRenderer(m_pWindow, -1, 0);&#xA;        if(m_pRenderer != 0) // renderer init success&#xA;        {&#xA;            std::cout &amp;lt;&amp;lt; &quot;renderer creation success\n&quot;;&#xA;            SDL_SetRenderDrawColor(m_pRenderer,255,0,0,255);&#xA;        }&#xA;        else&#xA;        {&#xA;            std::cout &amp;lt;&amp;lt; &quot;renderer init fail\n&quot;;&#xA;            return false; // renderer init fail&#xA;        }&#xA;    }&#xA;    else&#xA;    {&#xA;        std::cout &amp;lt;&amp;lt; &quot;window init fail\n&quot;;&#xA;        return false; // window init fail&#xA;    }&#xA;}&#xA;else&#xA;{&#xA;    std::cout &amp;lt;&amp;lt; &quot;SDL init fail\n&quot;;&#xA;    return false; // SDL init fail&#xA;}&#xA;std::cout &amp;lt;&amp;lt; &quot;init success\n&quot;;&#xA;//Load the image&#xA;m_textureManager.load(&quot;assets/animate-alpha.png&quot;, &quot;animate&quot;, m_pRenderer);&#xA;m_bRunning = true; // everything inited successfully, start the main loop&#xA;return true;&#xA;}&#xA;&#xA;//define render function&#xA;void Game::render()&#xA;{&#xA;SDL_RenderClear(m_pRenderer); //clear&#xA;m_textureManager.draw(&quot;animate&quot;, 0,0, 128, 82, m_pRenderer);&#xA;m_textureManager.drawFrame(&quot;animate&quot;, 100,100, 128, 82, 1, m_currentFrame, m_pRenderer);&#xA;SDL_RenderPresent(m_pRenderer); //draw&#xA;}&#xA;&#xA;&#xA;//defining clean function&#xA;void Game::clean()&#xA;{&#xA;std::cout &amp;lt;&amp;lt; &quot;cleaning game\n&quot;;&#xA;SDL_DestroyWindow(m_pWindow);&#xA;SDL_DestroyRenderer(m_pRenderer);&#xA;SDL_Quit();&#xA;}&#xA;&#xA;//handle event function&#xA;void Game::handleEvents()&#xA;{&#xA;SDL_Event event;&#xA;if(SDL_PollEvent(&amp;amp;event))&#xA;{&#xA;    switch (event.type)&#xA;    {&#xA;        case SDL_QUIT:&#xA;            m_bRunning = false;&#xA;            break;&#xA;        default:&#xA;            break;&#xA;    }&#xA;}&#xA;}&#xA;&#xA;void Game::update()&#xA;{&#xA;m_currentFrame = 128 * int(((SDL_GetTicks() / 100) % 6));&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Main.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include&amp;lt;SDL.h&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &quot;Game.h&quot;&#xA;// our Game object&#xA;&#xA;Game* g_game = 0;&#xA;int main(int argc, char* argv[])&#xA;{&#xA;    g_game = new Game();&#xA;    g_game-&amp;gt;init(&quot;Chapter 1&quot;, 100, 100, 640, 480, 0);&#xA;    while(g_game-&amp;gt;running())&#xA;{&#xA;    g_game-&amp;gt;handleEvents();&#xA;    g_game-&amp;gt;update();&#xA;    g_game-&amp;gt;render();&#xA;}&#xA;&#xA;g_game-&amp;gt;clean();&#xA;return 0;&#xA;} &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="4417652" LastActivityDate="2015-01-04T19:17:41.240" Title="Receiving &quot;error C2011: 'TextureManager' : 'class' type redefinition&quot; error. #ifndef #define #endif in files" Tags="&lt;c++&gt;&lt;sdl-2&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="27995095" PostTypeId="1" CreationDate="2015-01-17T01:07:59.377" Score="0" ViewCount="49" Body="&lt;p&gt;I have a file called &quot;controls.h&quot; that declares the handles for buttons that will be used in a Win32 app.&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-c++ prettyprint-override&quot;&gt;&lt;code&gt;#ifndef  CONTROLS_H&#xA;#define CONTROLS_H&#xA;#include &quot;Window.h&quot;&#xA;&#xA;HWND hwnd_Font_btn;&#xA;HWND hwnd_Color_btn;&#xA;&#xA;#pragma region UI_FUNCTION_DEC&#xA;bool DrawUI(HWND parenthwnd);&#xA;#pragma endregion&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;These handles and the function declaration is used in a file called &quot;controls.cpp&quot;&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-c++ prettyprint-override&quot;&gt;&lt;code&gt;#include &quot;controls.h&quot;&#xA;&#xA;bool DrawUI(HWND parenthwnd)&#xA;{&#xA;    hwnd_Font_btn = CreateWindowEx(NULL, L&quot;BUTTON&quot;, L&quot;Select Font&quot;, WS_TABSTOP | WS_VISIBLE | WS_CHILD | BS_DEFPUSHBUTTON, &#xA;        10, 10, 100, 25, parenthwnd, NULL, (HINSTANCE)GetWindowLong(parenthwnd, GWL_HINSTANCE), NULL);&#xA;    hwnd_Color_btn = CreateWindowEx(NULL, L&quot;BUTTON&quot;, L&quot;Select Color&quot;, WS_TABSTOP | WS_VISIBLE | WS_CHILD | BS_DEFPUSHBUTTON,&#xA;        10, 45, 100, 25, parenthwnd, NULL, (HINSTANCE)GetWindowLong(parenthwnd, GWL_HINSTANCE), NULL);&#xA;    return true;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&quot;Controls.h&quot; is then included in &quot;main.cpp&quot; and then DrawUI is called. However, I can't compile the code because Visual Studio says that the handles are declared in multiple locations.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Error   1   error LNK2005: &quot;struct HWND__ * hwnd_Font_btn&quot; (?hwnd_Font_btn@@3PAUHWND__@@A) already defined in controls.obj  D:\Query\Query\main.obj Query&#xA;Error   2   error LNK2005: &quot;struct HWND__ * hwnd_Color_btn&quot; (?hwnd_Color_btn@@3PAUHWND__@@A) already defined in controls.obj    D:\Query\Query\main.obj Query&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I simply don't see the problem. I admit, I am inexperienced at programming, but Visual Studio's search function shows that these are only used in the header and controls.cpp file.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Can you help me track down the problem?&lt;/p&gt;&#xA;" OwnerUserId="1813678" LastActivityDate="2015-01-17T01:40:29.493" Title="Mysterious multiple declarations" Tags="&lt;c++&gt;&lt;visual-studio&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="28270716" PostTypeId="1" CreationDate="2015-02-02T03:27:57.877" Score="0" ViewCount="155" Body="&lt;p&gt;I am trying to create an ActiveX DLL with QT in Visual C++ and I get the following errors when building:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Error   1   error LNK2001: unresolved external symbol DllCanUnloadNow&#xA;Error   2   error LNK2001: unresolved external symbol DllGetClassObject&#xA;Error   3   error LNK2001: unresolved external symbol DllRegisterServer&#xA;Error   4   error LNK2001: unresolved external symbol DllUnregisterServer&#xA;Error   5   error LNK2001: unresolved external symbol DumpIDL   &#xA;Error   6   error LNK1120: 5 unresolved externals&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Am I missing any library includes?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thank you for your time.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT:&lt;/strong&gt; Here is the header:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef #ifndef TESTACTIVEX_H&#xA;#define #ifndef TESTACTIVEX_H&#xA;&#xA;#include &amp;lt;QtWidgets/QWidget&amp;gt;&#xA;#include &amp;lt;ActiveQt/QAxBindable&amp;gt;&#xA;&#xA;#include &quot;ui_testactivex.h&quot;&#xA;&#xA;class TestActiveX : public QWidget, public QAxBindable&#xA;{&#xA;    Q_OBJECT&#xA;&#xA;public:&#xA;    TestActiveX(QWidget *parent = 0);&#xA;&#xA;private:&#xA;    Ui::TestActiveXClass ui;&#xA;};&#xA;&#xA;#endif // #ifndef TESTACTIVEX_H &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="3434662" LastEditorUserId="3434662" LastEditDate="2015-02-02T05:55:28.603" LastActivityDate="2015-02-03T01:57:57.650" Title="Linker errors when building ActiveX DLL in Visual C++" Tags="&lt;c++&gt;&lt;qt&gt;&lt;visual-c++&gt;" AnswerCount="1" CommentCount="5" />
  <row Id="28494476" PostTypeId="1" AcceptedAnswerId="28503583" CreationDate="2015-02-13T07:24:43.077" Score="2" ViewCount="88" Body="&lt;p&gt;My Makefile is based on multiple variables defined in a configuration file or &lt;code&gt;ENV&lt;/code&gt; vars. My current solution is to test all of them manually: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;NOGOAL = help clean distclean mrproper&#xA;ifeq ($(strip $(filter $(NOGOAL), $(MAKECMDGOALS))),)&#xA;VAR1 ?= $(error VAR1 undefined)&#xA;VAR2 ?= $(error VAR2 undefined)&#xA;VAR3 ?= $(error VAR3 undefined)&#xA;...&#xA;VARn ?= $(error VARn undefined)&#xA;endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I would like to use a &lt;code&gt;foreach&lt;/code&gt; loop instead: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ifeq ($(strip $(filter $(NOGOAL), $(MAKECMDGOALS))),)&#xA;TESTVAR = TEST1 TEST2 TEST3&#xA;$(foreach v, $(TESTVAR), $(eval $v ?= $$(warning Error: $v undefined)))&#xA;endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Unfortunately &lt;code&gt;eval&lt;/code&gt; doesn't work as I expected. Did I miss something?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here a full test of my tests with 2 implementations of the tests. Even if &lt;code&gt;TEST3&lt;/code&gt; is not defined I don't get any error&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;TEST1 = 1&#xA;TEST2 = 1&#xA;#TEST3 = 1   # NOT DEFINED&#xA;&#xA;&#xA;TESTVAR := TEST1 TEST2 TEST3&#xA;&#xA;# First implementation&#xA;$(foreach v, $(TESTVAR), $(eval $v ?= $$(warning Error: $v undefined)))&#xA;&#xA;# Second implementation&#xA;$(foreach v, $(TESTVAR), $(eval $(call TESTER,$v)))&#xA;define TESTER&#xA;ifndef $1&#xA;$(warning $1 not defined)&#xA;endif&#xA;endef&#xA;&#xA;# Dummy rule&#xA;all:&#xA;    @echo Hello World   &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However, my first implementation works if I use &lt;code&gt;$(TEST3)&lt;/code&gt; somewhere. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here I get no error but TEST3 is not defined:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;~$ cat Makefile&#xA;TEST1 = 1&#xA;TEST2 = 1&#xA;#TEST3 = 1   # NOT DEFINED&#xA;&#xA;&#xA;TESTVAR := TEST1 TEST2 TEST3&#xA;&#xA;# First implementation&#xA;$(foreach v, $(TESTVAR), $(eval $v ?= $$(warning Error: $v undefined)))&#xA;&#xA;# Dummy rule&#xA;all:&#xA;        @echo Hello World&#xA;&#xA;~$ make&#xA;Hello World&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="2612235" LastEditorUserId="2612235" LastEditDate="2015-02-13T12:55:32.087" LastActivityDate="2015-02-13T15:58:11.750" Title="Test if a list of variables are defined in a Makefile" Tags="&lt;makefile&gt;" AnswerCount="1" CommentCount="2" FavoriteCount="0" />
  <row Id="28765851" PostTypeId="1" CreationDate="2015-02-27T13:05:33.770" Score="1" ViewCount="118" Body="&lt;p&gt;I'm trying to prefix a PayPal static library so clients implementing our framework are able to use a different version of it. I've been following &lt;a href=&quot;http://pdx.esri.com/blog/2013/12/13/namespacing-dependencies/&quot; rel=&quot;nofollow&quot;&gt;this article&lt;/a&gt;  and &lt;a href=&quot;http://stackoverflow.com/questions/11512291/prefix-static-library-ios/19341366#19341366&quot;&gt;this post&lt;/a&gt; but I'm having some issues.&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;I created a target and added libPayPalMobile.a to Link with binary libraries.&lt;/li&gt;&#xA;&lt;li&gt;I've added the &lt;a href=&quot;https://github.com/jverkoey/nimbus/blob/master/scripts/generate_namespace_header&quot; rel=&quot;nofollow&quot;&gt;run script&lt;/a&gt; that has been mentioned in the tutorials above.&lt;/li&gt;&#xA;&lt;li&gt;I've added my target as a dependency to the project.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;After &lt;code&gt;NamespacedDependencies.h&lt;/code&gt; gets generated, I'm seeing some unwanted symbols in the Externs section: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// Externs&#xA;#ifndef k1PasswordButtonWidth&#xA;#define k1PasswordButtonWidth __NS_SYMBOL(k1PasswordButtonWidth)&#xA;#endif&#xA;&#xA;#ifndef k1PasswordButtonRightMargin&#xA;#define k1PasswordButtonRightMargin __NS_SYMBOL(k1PasswordButtonRightMargin)&#xA;#endif&#xA;&#xA;l002&#xA;l003&#xA;l004&#xA;l003&#xA;l004&#xA;l005&#xA;l006&#xA;l001&#xA;l007&#xA;l002&#xA;l008&#xA;l003&#xA;l009&#xA;l010&#xA;l007&#xA;l011&#xA;l004&#xA;l012&#xA;l008&#xA;l009&#xA;l005&#xA;l010&#xA;l011&#xA;l003&#xA;l012&#xA;l004&#xA;l003&#xA;l005&#xA;l013&#xA;l003&#xA;l006&#xA;l004&#xA;l014&#xA;l003&#xA;l015&#xA;l007&#xA;l004&#xA;l016&#xA;l004&#xA;l008&#xA;l001&#xA;l005&#xA;l005&#xA;l002&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I figured I could remove these using &lt;code&gt;grep -v &quot;l[0-9]{0,5}&quot;&lt;/code&gt; but they seem to be dumped with the above symbols, meaning I can't simply filter out these.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Obviously, the problem is that I can't even compile since I'm getting &lt;code&gt;Parse Issue: Unknown type name l002&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any idea what these evil things are and how to get rid of them?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT:&#xA;This is Externs part of the script:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;echo &quot;// Externs&quot; &amp;gt;&amp;gt; $header&#xA;&#xA;nm $CODESIGNING_FOLDER_PATH | sort | uniq | grep &quot; D &quot; | cut -d' ' -f3 | grep -v &quot;\$_NS&quot; | grep -v &quot;\$_UI&quot; | sed -e 's/_\(.*\)/#ifndef \1\'$'\n''#define \1 __NS_SYMBOL(\1)\'$'\n''#endif\'$'\n''/g' &amp;gt;&amp;gt; $header&#xA;&#xA;nm $CODESIGNING_FOLDER_PATH | sort | uniq | grep &quot; S &quot; | cut -d' ' -f3 | grep -v &quot;\$_NS&quot; | grep -v &quot;.eh&quot; | grep -v &quot;\$_UI&quot; | grep -v &quot;OBJC_&quot; | sed -e 's/_\(.*\)/#ifndef \1\'$'\n''#define \1 __NS_SYMBOL(\1)\'$'\n''#endif\'$'\n''/g' &amp;gt;&amp;gt; $header&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1304844" LastActivityDate="2015-03-11T15:27:03.950" Title="Filter unwanted symbols when prefixing static library in iOS" Tags="&lt;ios&gt;&lt;objective-c&gt;&lt;xcode&gt;&lt;paypal&gt;&lt;static-libraries&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="29386370" PostTypeId="1" CreationDate="2015-04-01T08:43:11.190" Score="0" ViewCount="42" Body="&lt;p&gt;OK, after posting a simple example here:&#xA;&lt;a href=&quot;http://stackoverflow.com/questions/29368402/ambiguous-antlr-parser-rule&quot;&gt;Ambiguous ANTLR parser rule&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I think that over-simplyfing the example didn't work well for me.&#xA;So, I'm adding now the real example.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the text to be parsed:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _EVENTS_H&#xA;#define _EVENTS_H&#xA;#define EVENTS_LOGGER_VER 3.0f&#xA;/******************************************************************************************************&#xA;&amp;lt;Start of event definitions section - Do not edit this comment.&#xA;******************************************************************************************************/&#xA;#define EVT_FLOW_HW_ASSERTION_BASE              0x0     // Hw assertion base event&#xA;#define EVT_FLOW_HW_ASSERTION_PMG               0x1    // Hw assertion detected on PMG module. Module = 0x%x. Status is 0x%x.&#xA;#define EVT_I2C_SECTION_START                   0x20&#xA;#define EVT_I2C_DRIVER_ERROR                    0x26    //  I2C driver returns with error 0x%x on Device 0x%x Offset 0x%x&#xA;#define EVT_I2C_TARGET_DEVICE_ERROR             0x27    //  I2C interrupt on error: Status=0x%x%x&#xA;#define EVT_TIME_MEASUREMENTS                   0x2A    // Time measurement. Line : %d; Spare : %d; Time, us : %d&#xA;#define EVT_DFU_AFTER_UPDATE_STATE_REG          0x2D    // Going to DFU  (REG_RESET_STATUS = %x)&#xA;#define EVT_MNOT_SAFE_DEBUG_INFO_CTL_RO_P1      0xC3    // ctl ro data 0x99-0xa0: 0x%x 0x%x 0x%x&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and here is the grammar:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;grammar EventsHFile;&#xA;&#xA;/*&#xA; * Parser Rules&#xA; */&#xA;&#xA;prog : ifndefEvents defineEvents defineVersion event+ EOF;&#xA;&#xA;ifndefEvents : IFNDEF '_EVENTS_H';&#xA;&#xA;defineEvents : DEFINE '_EVENTS_H';&#xA;&#xA;defineVersion: DEFINE 'EVENTS_LOGGER_VER' version=versionRule 'f';&#xA;&#xA;versionRule:   REAL   ;&#xA;&#xA;event : DEFINE EVT_HEADER eventName=eventNameRule HEX eventId=eventIdRule (COMMENT_HEADER commentRule)?;&#xA;&#xA;eventNameRule : ID;&#xA;&#xA;eventIdRule : HEX_VALUE;&#xA;&#xA;commentRule: (ID | hexArgumentRule | decimalArgumentRule | numericArgumentRule | HEX | HEX_VALUE | COMMENTCHAR)+;&#xA;&#xA;numericArgumentRule : '%x';&#xA;&#xA;hexArgumentRule : HEX numericArgumentRule+;&#xA;&#xA;decimalArgumentRule : '%d';&#xA;&#xA;IFNDEF : '#ifndef';&#xA;DEFINE : '#define';&#xA;&#xA;EVT_HEADER : 'EVT_';&#xA;&#xA;COMMENT_HEADER : '//';&#xA;&#xA;fragment&#xA;DIGIT                   :           [0-9];&#xA;&#xA;fragment&#xA;LETTER                  :           [a-zA-Z];&#xA;&#xA;fragment&#xA;UNDERSCORE              :           '_';&#xA;&#xA;fragment&#xA;HEXADIGIT&#xA;    :   [0-9a-fA-F]&#xA;    ;&#xA;&#xA;ID : LETTER (LETTER|DIGIT|UNDERSCORE)* ;&#xA;&#xA;REAL : DIGIT+ '.' DIGIT+;&#xA;&#xA;HEX : '0' [xX] ;&#xA;&#xA;HEX_VALUE : HEXADIGIT HEXADIGIT* ;&#xA;&#xA;COMMENTCHAR : ('(' | ')' | '=' | '-' | ':');&#xA;&#xA;BLOCKCOMMENT :   '/*' .*? '*/' -&amp;gt; channel(HIDDEN);&#xA;WS     :   (' ' | '\r' | '\n' | '\t') -&amp;gt; channel(HIDDEN);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now, the problem is, as explained in the previous post, that the eventNameRule is probably ambiguous, and it catches the 'EVT_' prefix, resulting in the following tree (I'm adding one event tree, all events look the same):&#xA; &lt;img src=&quot;https://i.stack.imgur.com/wLNTz.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;As usual, any help is appreciated.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks,&#xA;Busi&lt;/p&gt;&#xA;" OwnerUserId="1007857" LastActivityDate="2015-04-06T07:44:56.170" Title="Ambiguous ANTLR parser rule - part 2" Tags="&lt;parsing&gt;&lt;antlr&gt;&lt;antlr4&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="29418194" PostTypeId="1" CreationDate="2015-04-02T16:46:24.843" Score="-1" ViewCount="64" Body="&lt;p&gt;I am a beginner in c programming and please forgive any obvious mistakes that I might make.&#xA;My question- I have a header and source file already given to me(shown below)-&lt;/p&gt;&#xA;&#xA;&lt;p&gt;header1.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef .....&#xA;#define .....&#xA;&#xA;typedef struct&#xA;{&#xA;    int a1,b1; //a's=input and b's=ouput&#xA;    int a2,b2;&#xA;    int a3,b3;&#xA;    int a4,b4;&#xA;}xx_xx;&#xA;int xxcalc(xx_xx *y);&#xA;endif;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;source.c&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#define &quot;header1.h&quot;&#xA;#define &amp;lt;stdio.h&amp;gt;&#xA;int xxcalc(xx_xx *y)&#xA;{&#xA;    y-&amp;gt;b1 = 2 * a1;&#xA;    y-&amp;gt;b2 = 3 * a2 + a1;&#xA;    y-&amp;gt;b3 = a3 + 7;&#xA;    y-&amp;gt;b4 = a4 / 3;&#xA;    return 1;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now i am required to write a main source file and then find the result by computing the expressions using msp430 micro controller. I am using code composer studio for doing this.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;main.c&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#define &quot;header1.h&quot;&#xA;#define &amp;lt;stdio.h&amp;gt;&#xA;// few lines of code to disable watchdog timer&#xA;void main()&#xA;{&#xA;    int data1[10],r;&#xA;    y = &amp;amp;data1;&#xA;    y-&amp;gt;a1 = 2;&#xA;    y-&amp;gt;a2 = 3;&#xA;    y-&amp;gt;a3 = 4;&#xA;    y-&amp;gt;a4 = 5;&#xA;    r = b1 * b2 + b3 + b4;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now when I compile this and check the registers none of my inputs are considered and there is garbage value in its place.&#xA;what am I doing wrong?&#xA;Is my method of entering inputs and accessing the value of the output variables declared in the structure correct?&lt;/p&gt;&#xA;" OwnerUserId="4739152" LastEditorUserId="4739152" LastEditDate="2015-04-04T06:05:46.753" LastActivityDate="2015-04-04T06:05:46.753" Title="Pointer to a structure involving mutiple c source files" Tags="&lt;c&gt;&lt;pointers&gt;&lt;structure&gt;&lt;typedef&gt;" AnswerCount="1" CommentCount="4" />
  <row Id="29492995" PostTypeId="1" AcceptedAnswerId="29580393" CreationDate="2015-04-07T13:39:03.103" Score="0" ViewCount="1144" Body="&lt;p&gt;I'm currently working with the lwip stack to implement a modbus server, but the &quot;keep-alive&quot; function doesn't work. Can someone look to my problem?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;static void prvweb_ParseHTMLRequest( struct netconn *pxNetCon )&#xA;{&#xA;struct netbuf *pxRxBuffer;&#xA;portCHAR *pcRxString;&#xA;unsigned portSHORT usLength;&#xA;static unsigned portLONG ulPageHits = 0;&#xA;&#xA;    while(netconn_recv( pxNetCon, &amp;amp;pxRxBuffer) != ERR_OK)&#xA;    {&#xA;        vTaskDelay( webSHORT_DELAY );&#xA;    }&#xA;    if( pxRxBuffer != NULL )&#xA;    {&#xA;        /* Where is the data? */&#xA;        netbuf_data( pxRxBuffer, ( void * ) &amp;amp;pcRxString, &amp;amp;usLength );&#xA;&#xA;        if(( NULL != pcRxString               )&#xA;        &amp;amp;&amp;amp; ( !strncmp( pcRxString, &quot;GET&quot;, 3 ) ))&#xA;        {&#xA;            /********************************* &#xA;                    Generate HTML page &#xA;            *********************************/&#xA;&#xA;            /* Write out the dynamically generated page. */&#xA;            netconn_write( pxNetCon, cDynamicPage, (u16_t) strlen( cDynamicPage ), NETCONN_COPY );&#xA;        }&#xA;        netbuf_delete( pxRxBuffer );&#xA;    }&#xA;&#xA;    netconn_close( pxNetCon );&#xA;    netconn_delete( pxNetCon );&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I changed the following settings:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef LWIP_TCP_KEEPALIVE&#xA;#define LWIP_TCP_KEEPALIVE              1&#xA;#endif&#xA;&#xA;&#xA;&#xA;#ifndef  TCP_KEEPIDLE_DEFAULT&#xA;#define  TCP_KEEPIDLE_DEFAULT     7200000UL /* Default KEEPALIVE timer in milliseconds */&#xA;#endif&#xA;&#xA;#ifndef  TCP_KEEPINTVL_DEFAULT&#xA;#define  TCP_KEEPINTVL_DEFAULT    75000UL   /* Default Time between KEEPALIVE probes in milliseconds */&#xA;#endif&#xA;&#xA;#ifndef  TCP_KEEPCNT_DEFAULT&#xA;#define  TCP_KEEPCNT_DEFAULT      9U        /* Default Counter for KEEPALIVE probes */&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Are there other things I must do in my code? If i tried this the server will end the connection after transmit the HTML page. I tried to delete  netconn_close( pxNetCon ); and/or netconn_delete( pxNetCon ); ,but this will not give the right solution. The connection will stay open, but I cannot connect again. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;So are there other settings I didn't use? Or are there modification in the code needed? &lt;/p&gt;&#xA;" OwnerUserId="4738912" LastActivityDate="2015-05-11T13:32:42.653" Title="lwip stack netconn api keep connection &quot;keep-alive&quot;" Tags="&lt;c&gt;&lt;lwip&gt;" AnswerCount="1" CommentCount="2" FavoriteCount="1" />
  <row Id="30023748" PostTypeId="1" CreationDate="2015-05-04T06:21:30.273" Score="1" ViewCount="645" Body="&lt;p&gt;I'm trying to use functions from a DLL that can't be added as Reference through Visual Studio (a message saying &quot;reference cannot be added&quot; appears). However, I've gotten instructions from the creator of the DLL and they suggested I use them like this in VB.Net:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Private Declare Function Prn_Init Lib &quot;VAx_VPOS396_APPAPI.dll&quot; () As Integer&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;That works, but now I want to write a program in C#. How do I &quot;translate&quot; that declaration to C#?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Additional: In C++ the declaration comes in a *.h file with these lines:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _VPOS396DLL_API_H&#xA;#define  _VPOS396DLL_API_H&#xA;VPOS396_DLL_API     int Prn_Init(void);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="385151" LastActivityDate="2015-05-04T06:28:54.313" Title="How do I use a DLL function in C# without adding the DLL as reference?" Tags="&lt;c#&gt;&lt;dll&gt;&lt;namespaces&gt;&lt;declaration&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="30137563" PostTypeId="1" CreationDate="2015-05-09T08:05:39.460" Score="0" ViewCount="35" Body="&lt;p&gt;I have a very poor understanding of inheritance and I can't seem to find the answer I'm looking for. I apologize for the length of this post but I feel I need to be very specific.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have a base class &quot;ProgCtl&quot; which can send signals to processes. I have a simple program called &quot;Beeper&quot; which just runs forever, giving a &quot;beep!&quot; message every 10 seconds until interrupted. The derived class which I'm tasked with making, &quot;BeepCtrl&quot;, is meant to specifically send signals and make changes to the beeper program. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;My problem is: I can't figure out how to access the methods and variables of ProgCtl from the methods in BeepCtrl. Mainly in BeepCtrl.cpp where I have to use ProgCtl's alive and send method's to check if the process exists and to end it.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;are my beep constructor's ProgCtl extension even doing anything? My notes only say that this allows me to set the attribute values. I'm really sorry. I know it's bad etiquette to try to get more than one question (and broad ones) on here but I'm truly lost. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;ProgCtl.hpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  PROGCTL_HPP&#xA;#define PROGCTL_HPP&#xA;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;#include &amp;lt;unistd.h&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;&#xA;class ProgCtl {&#xA;    private:&#xA;      std::string   m_program;&#xA;      pid_t         m_pid;&#xA;&#xA;      void          find_pid();&#xA;&#xA;    public:&#xA;      // Constructors&#xA;      ProgCtl():m_program(&quot;&quot;),m_pid(-1){}&#xA;      ProgCtl(std::string prog):m_program(prog),m_pid(-1){}&#xA;      ProgCtl(char *prog):m_pid(-1) {&#xA;          m_program = std::string(prog);&#xA;      }&#xA;      // Setters&#xA;      void       setName(std::string prog);&#xA;      void       setName(char *prog);&#xA;      void       setPid(pid_t pid){m_pid = pid;}&#xA;      // Other&#xA;      bool       alive();&#xA;      int        send(int sig);&#xA;      int        start();&#xA;};&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;BeepCtrl.hpp; far from complete due to this fundamental issue&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef BeepCtrl_HPP&#xA;#define BeepCtrl_HPP&#xA;#include &quot;ProgCtl.hpp&quot;&#xA;#include &amp;lt;string&amp;gt;&#xA;#include &amp;lt;signal.h&amp;gt;&#xA;#include &amp;lt;unistd.h&amp;gt;&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;sys/types.h&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;class BeepCtrl: public ProgCtl{&#xA;&#xA;public:&#xA;    BeepCtrl(std::string name):ProgCtl(name){};&#xA;    BeepCtrl():ProgCtl(){};&#xA;    BeepCtrl(char *prog):ProgCtl(prog){};&#xA;    void stop(); //if alive, send kill&#xA;    void beep_faster(); //test if beeper is alive then decrement inveral&#xA;    void beep_slower(); // increment interval&#xA;};&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;BeepCtrl.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;BeepCtrl.hpp&quot;&#xA;&#xA;void stop() //if alive, send kill&#xA;{&#xA;    //std::set_terminate(std::cerr &amp;lt;&amp;lt; &quot;terminate handler called\n&quot;);&#xA;    if(alive()){//---alive and send not declared in this scope---&#xA;        send(9);&#xA;    }&#xA;    else{&#xA;    throw 0;&#xA;    }&#xA;}&#xA;void beep_faster() //test if beeper is alive then decrement inveral&#xA;{&#xA;//throw if an invalid value&#xA;}&#xA;void beep_slower() // increment interval&#xA;{&#xA;//throw if an invalid value&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="4817371" LastEditorUserId="608639" LastEditDate="2015-05-09T08:30:29.610" LastActivityDate="2015-05-09T08:30:29.610" Title="Using a base class's methods inside a derived class's methods" Tags="&lt;c++&gt;&lt;inheritance&gt;&lt;method-call&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="30428444" PostTypeId="1" AcceptedAnswerId="30428628" CreationDate="2015-05-24T21:20:44.720" Score="2" ViewCount="97" Body="&lt;p&gt;Is there any reason not to write one header file that #includes all other header files and just #include that one header in each c file?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Each header file is setup #ifndef ... #define ... #endif &lt;/p&gt;&#xA;&#xA;&lt;p&gt;To clarify the duplicates; I was asking about user written code not system headers and the other possible duplicate didn't have answers that specified why it wasn't a good idea.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks for the answers, I hadn't thought through some of them. I will look a taking the hybrid approach of some smaller headers for modules that fit together.&#xA;This is for a codebase that I have taken over, it's very much a web I'm slowly trying to untangle.&lt;/p&gt;&#xA;" OwnerUserId="984146" LastEditorUserId="984146" LastEditDate="2015-05-25T11:53:08.423" LastActivityDate="2015-05-25T11:53:08.423" Title="Using a header of headers instead of repeating" Tags="&lt;c&gt;&lt;header-files&gt;" AnswerCount="4" CommentCount="3" />
  <row Id="30668019" PostTypeId="1" CreationDate="2015-06-05T13:39:14.507" Score="0" ViewCount="52" Body="&lt;p&gt;I'm migrating C++ code from Windows to Mac.&#xA;I choose OS X Command line Tool with language C++.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the code snippet:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    #ifndef __PRIORITYQUEUE_H__&#xA;    #define __PRIORITYQUEUE_H__&#xA;    #include &amp;lt;queue&amp;gt;&#xA;&#xA;    template &amp;lt;typename T, class Container = std::vector&amp;lt;T&amp;gt;, class Compare = std::less&amp;lt;typename Container::value_type&amp;gt;&amp;gt;&#xA;    class PriorityQueue : public std::priority_queue&amp;lt;T, Container, Compare&amp;gt;&#xA;    {&#xA;    public:&#xA;        PriorityQueue() {}&#xA;        PriorityQueue(const PriorityQueue&amp;amp; pq) {priority_queue(pq);}   // line:13&#xA;        explicit PriorityQueue(const Compare&amp;amp; compare) {priority_queue(compare);}&#xA;        PriorityQueue(const Compare&amp;amp; compare, const Container&amp;amp; container) {priority_queue(compare, container);}&#xA;        template&amp;lt;class Iter&amp;gt; PriorityQueue(Iter first, Iter last) {priority_queue(first, last);}&#xA;        template&amp;lt;class Iter&amp;gt; PriorityQueue(Iter first, Iter last, const Compare&amp;amp; compare) {priority_queue(first, last, compare);}&#xA;        template&amp;lt;class Iter&amp;gt; PriorityQueue(Iter first, Iter last, const Compare&amp;amp; compare, const Container&amp;amp; container) {priority_queue(first, last, compare, container);}&#xA;    ......&#xA;    #endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And there are other files will include this header file.&#xA;When I compile it, the following error happens:&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;/Users/yingyhe/Projects/SASCode/SASPRLib/PriorityQueue.h:13:53: Unknown type name 'priority_queue'; did you mean 'PriorityQueue'?&lt;/li&gt;&#xA;&lt;li&gt;/Users/yingyhe/Projects/SASCode/SASPRLib/PriorityQueue.h:13:68: Redefinition of 'pq'&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;p&gt;It seems this header file isincluded multiple times, but I've used #ifndef - #define - #endif to avoid that.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Then I take this header file to a new project, and no other file include it, and it can compile successfully. It's wired, anyone can tell me why?&#xA;Many Thanks!!!&lt;/p&gt;&#xA;" OwnerUserId="663864" LastEditorUserId="72882" LastEditDate="2015-06-05T14:00:32.370" LastActivityDate="2015-06-05T15:51:36.507" Title="Porting Windows code to Mac" Tags="&lt;c++&gt;&lt;compiler-errors&gt;&lt;osx-yosemite&gt;" AnswerCount="2" CommentCount="3" />
  <row Id="30734785" PostTypeId="1" AcceptedAnswerId="30735133" CreationDate="2015-06-09T14:20:24.430" Score="0" ViewCount="120" Body="&lt;p&gt;I'm trying to use #ifndef as below.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef MACRO1 || #ifndef MACRO2&#xA;....&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I already tried: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef (MACRO1 || MACRO2) &#xA;..&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But for both cases  am getting below error&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;error: extra tokens at end of #ifndef directive&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;" OwnerUserId="3441308" LastEditorUserId="4564945" LastEditDate="2015-06-09T14:30:57.133" LastActivityDate="2015-06-09T14:34:19.847" Title="Usage of #ifndef directive" Tags="&lt;c&gt;&lt;gcc&gt;" AnswerCount="4" CommentCount="0" />
  <row Id="30833075" PostTypeId="1" AcceptedAnswerId="30833115" CreationDate="2015-06-14T18:33:55.870" Score="-1" ViewCount="87" Body="&lt;p&gt;Sorry for the noob question here, but i don't even know what to search on google. I tried some documention on the move semantic but i still can't solve my problem.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So if somebody can give me some clues, i'll be really thanksfull.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;About the code:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;graph.hpp:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  GRAPH_HPP&#xA;#define  GRAPH_HPP&#xA;&#xA;#include  &amp;lt;cstdlib&amp;gt;&#xA;#include  &amp;lt;unordered_map&amp;gt;&#xA;#include  &amp;lt;vector&amp;gt;&#xA;#include  &amp;lt;string&amp;gt;&#xA;&#xA;template&amp;lt;typename T, typename U&amp;gt;&#xA;class  Link;&#xA;template&amp;lt;typename T, typename U&amp;gt;&#xA;class  Node;&#xA;&#xA;namespace  graph&#xA;{&#xA;  template&amp;lt;typename T, typename U&amp;gt;&#xA;  class  Link&#xA;    {&#xA;      public:&#xA;    Link() = default;&#xA;    Link(U&amp;amp;&amp;amp; data, T&amp;amp; node) : _data(data), _endNode(node) {}&#xA;    ~Link() = default;&#xA;&#xA;      private:&#xA;    U            _data;&#xA;    Node&amp;lt;T, U&amp;gt;&amp;amp;  _endNode;&#xA;    };&#xA;&#xA;  template&amp;lt;typename T, typename U&amp;gt;&#xA;  class  Node&#xA;    {&#xA;      public:&#xA;    Node() = default;&#xA;    Node(T&amp;amp;&amp;amp; data) : _data(data) {};&#xA;    ~Node() = default;&#xA;&#xA;    private:&#xA;      T                        _data;&#xA;      std::vector&amp;lt;Link&amp;lt;T, U&amp;gt;&amp;gt;  _links;&#xA;    };&#xA;&#xA;  template&amp;lt;typename K, typename T, typename U&amp;gt;&#xA;  class  Graph&#xA;    {&#xA;      public:&#xA;        Graph() = default;&#xA;        ~Graph() = default;&#xA;&#xA;      private:&#xA;        size_t                             _nbNode;&#xA;        std::unordered_map&amp;lt;K, Node&amp;lt;T, U&amp;gt;&amp;gt;  _nodes;&#xA;&#xA;      public:&#xA;        #include  &quot;graph.tpp&quot;&#xA;    };&#xA;}&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;graph.tpp:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;void  add_Link(const K&amp;amp; key1,&#xA;           const K&amp;amp; key2,&#xA;           U&amp;amp;&amp;amp; linkInfo)&#xA;{&#xA;  if (!_nodes.count(key1)&#xA;      || !_nodes.count(key2))&#xA;    throw &quot;Key doesn't exist!&quot;;&#xA;&#xA;  Link&amp;lt;T, U&amp;gt;  newLink(linkInfo, _nodes[key2]);&#xA;  _nodes[key1].links.push_back(newLink);&#xA;}&#xA;&#xA;void  add_Node(K&amp;amp; key, T&amp;amp;&amp;amp; elem)&#xA;{&#xA;  Node&amp;lt;T, U&amp;gt;  newNode(std::move(elem));&#xA;  _nodes[key] = std::move(newNode);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;main.cpp:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include  &quot;graph.hpp&quot;&#xA;#include  &amp;lt;string&amp;gt;&#xA;&#xA;int main()&#xA;{&#xA;  std::string  name(&quot;name&quot;);&#xA;  graph::Graph&amp;lt;std::string, std::string, std::string&amp;gt;  graph;&#xA;&#xA;  graph.add_Node(name, &quot;lol&quot;);&#xA;  return 0;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I just want to add a new element in the unordered_map with a move. But it's just say me :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    clang++ -Wall -Wextra -std=c++14 -O2 -march=native -s -fomit-frame-pointer -c src/test.cpp -o obj/test.o -I ./src/include -I ./src/template/&#xA;clang: warning: argument unused during compilation: '-s'&#xA;In file included from src/test.cpp:1:&#xA;In file included from ./src/include/graph.hpp:15:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/unordered_map:41:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/tuple:39:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/array:38:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/stdexcept:39:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/string:40:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/char_traits.h:39:&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/stl_algobase.h:336:18: error: object of type 'graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;' cannot be assigned because its copy&#xA;      assignment operator is implicitly deleted&#xA;              *__result = *__first;&#xA;                        ^&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/stl_algobase.h:396:36: note: in instantiation of function template specialization 'std::__copy_move&amp;lt;false, false,&#xA;      std::random_access_iterator_tag&amp;gt;::__copy_m&amp;lt;const graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *&amp;gt;' requested here&#xA;                              _Category&amp;gt;::__copy_m(__first, __last, __result);&#xA;                                          ^&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/stl_algobase.h:432:23: note: in instantiation of function template specialization 'std::__copy_move_a&amp;lt;false, const graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;,&#xA;      std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *&amp;gt;' requested here&#xA;      return _OI(std::__copy_move_a&amp;lt;_IsMove&amp;gt;(std::__niter_base(__first),&#xA;                      ^&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/stl_algobase.h:464:20: note: in instantiation of function template specialization 'std::__copy_move_a2&amp;lt;false, __gnu_cxx::__normal_iterator&amp;lt;const&#xA;      graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, std::vector&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;, std::allocator&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;,&#xA;      __gnu_cxx::__normal_iterator&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, std::vector&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;, std::allocator&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;,&#xA;      std::basic_string&amp;lt;char&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;' requested here&#xA;      return (std::__copy_move_a2&amp;lt;__is_move_iterator&amp;lt;_II&amp;gt;::__value&amp;gt;&#xA;                   ^&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/vector.tcc:206:27: note: in instantiation of function template specialization 'std::copy&amp;lt;__gnu_cxx::__normal_iterator&amp;lt;const&#xA;      graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, std::vector&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;, std::allocator&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;,&#xA;      __gnu_cxx::__normal_iterator&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, std::vector&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;, std::allocator&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;,&#xA;      std::basic_string&amp;lt;char&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;' requested here&#xA;              std::_Destroy(std::copy(__x.begin(), __x.end(), begin()),&#xA;                                 ^&#xA;./src/include/graph.hpp:40:10: note: in instantiation of member function 'std::vector&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;, std::allocator&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; &amp;gt;&#xA;      &amp;gt;::operator=' requested here&#xA;  class  Node&#xA;         ^&#xA;src/test.cpp:9:9: note: in instantiation of member function 'graph::Graph&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;::add_Node' requested here&#xA;  graph.add_Node(name, &quot;lol&quot;);&#xA;        ^&#xA;./src/include/graph.hpp:36:15: note: copy assignment operator of 'Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;' is implicitly deleted because field '_endNode' is of reference type&#xA;      'Node&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; &amp;amp;'&#xA;        Node&amp;lt;T, U&amp;gt;&amp;amp;  _endNode;&#xA;                     ^&#xA;In file included from src/test.cpp:1:&#xA;In file included from ./src/include/graph.hpp:15:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/unordered_map:41:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/tuple:39:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/array:38:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/stdexcept:39:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/string:40:&#xA;In file included from /usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/char_traits.h:39:&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/stl_algobase.h:336:18: error: object of type 'graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;' cannot be assigned because its copy&#xA;      assignment operator is implicitly deleted&#xA;              *__result = *__first;&#xA;                        ^&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/stl_algobase.h:396:36: note: in instantiation of function template specialization 'std::__copy_move&amp;lt;false, false,&#xA;      std::random_access_iterator_tag&amp;gt;::__copy_m&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *&amp;gt;' requested here&#xA;                              _Category&amp;gt;::__copy_m(__first, __last, __result);&#xA;                                          ^&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/stl_algobase.h:432:23: note: in instantiation of function template specialization 'std::__copy_move_a&amp;lt;false, graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;,&#xA;      std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *&amp;gt;' requested here&#xA;      return _OI(std::__copy_move_a&amp;lt;_IsMove&amp;gt;(std::__niter_base(__first),&#xA;                      ^&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/stl_algobase.h:464:20: note: in instantiation of function template specialization 'std::__copy_move_a2&amp;lt;false, graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;,&#xA;      std::basic_string&amp;lt;char&amp;gt; &amp;gt; *, graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *&amp;gt;' requested here&#xA;      return (std::__copy_move_a2&amp;lt;__is_move_iterator&amp;lt;_II&amp;gt;::__value&amp;gt;&#xA;                   ^&#xA;/usr/bin/../lib64/gcc/x86_64-unknown-linux-gnu/4.9.2/../../../../include/c++/4.9.2/bits/vector.tcc:211:13: note: in instantiation of function template specialization 'std::copy&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;&#xA;      *, graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; *&amp;gt;' requested here&#xA;              std::copy(__x._M_impl._M_start, __x._M_impl._M_start + size(),&#xA;                   ^&#xA;./src/include/graph.hpp:40:10: note: in instantiation of member function 'std::vector&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;, std::allocator&amp;lt;graph::Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; &amp;gt;&#xA;      &amp;gt;::operator=' requested here&#xA;  class  Node&#xA;         ^&#xA;src/test.cpp:9:9: note: in instantiation of member function 'graph::Graph&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;::add_Node' requested here&#xA;  graph.add_Node(name, &quot;lol&quot;);&#xA;        ^&#xA;./src/include/graph.hpp:36:15: note: copy assignment operator of 'Link&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt;' is implicitly deleted because field '_endNode' is of reference type&#xA;      'Node&amp;lt;std::basic_string&amp;lt;char&amp;gt;, std::basic_string&amp;lt;char&amp;gt; &amp;gt; &amp;amp;'&#xA;        Node&amp;lt;T, U&amp;gt;&amp;amp;  _endNode;&#xA;                     ^&#xA;2 errors generated.&#xA;Makefile:43: recipe for target 'obj/test.o' failed&#xA;make: *** [obj/test.o] Error 1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Sorry for the trouble, have a nice day.&lt;/p&gt;&#xA;" OwnerUserId="3409642" LastEditorUserId="2069064" LastEditDate="2015-06-14T21:01:38.893" LastActivityDate="2015-06-14T21:01:38.893" Title="C++ unordered_map move beginner error" Tags="&lt;c++11&gt;&lt;move&gt;&lt;unordered-map&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="31257269" PostTypeId="1" AcceptedAnswerId="31258467" CreationDate="2015-07-06T23:15:16.013" Score="1" ViewCount="86" Body="&lt;p&gt;I am getting segmentation fault upon the end of a while loop(I am not sure if the error appears after termination or before).&#xA;I have checked that &lt;code&gt;dirlist_next_entry&lt;/code&gt; successfully returns &lt;code&gt;DIRLIST_END&lt;/code&gt; after&#xA;end of directory stream is reached. I don't understand what causes the fault as the loop should successfully terminate after end of stream is reached&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;DirEntry.h&quot;&#xA;#include &amp;lt;cstdio&amp;gt;&#xA;&#xA;int main(int argc, char* argv[]){&#xA;    if(argc != 2){&#xA;        printf(&quot;Directory not specified\n&quot;);&#xA;        return -1;&#xA;    }&#xA;    DirListError error;&#xA;    DirEntry result;&#xA;    handle hfile = dirlist_start_find(argv[1], &amp;amp;error);&#xA;    while( dirlist_next_entry(hfile, &amp;amp;result) != DIRLIST_END){&#xA;        printf(&quot;%s  %lld\n&quot;, result.entry, result.size);&#xA;    }&#xA;    dirlist_end_find(hfile);&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is the definition of  &lt;code&gt;dirlist_next_entry&lt;/code&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;DirListError dirlist_next_entry(handle h, DirEntry* result){&#xA;    DIR* dirp = (DIR*)h; &#xA;    dirent* dr;&#xA;    if((dr = readdir(dirp)) == NULL){&#xA;        return DIRLIST_END;&#xA;    }&#xA;&#xA;        strcpy(result-&amp;gt;entry, dr-&amp;gt;d_name);&#xA;    if(dr-&amp;gt;d_type == DT_DIR){&#xA;        result-&amp;gt;is_directory = 1;&#xA;    }&#xA;    else if(dr-&amp;gt;d_type == DT_REG){&#xA;        result-&amp;gt;is_directory = 0;&#xA;        struct stat* buf;&#xA;        stat(result-&amp;gt;entry, buf);&#xA;        result-&amp;gt;size = buf-&amp;gt;st_size;&#xA;    } &#xA;&#xA;    return DIRLIST_OK;  &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;code&gt;Direntry.h&lt;/code&gt; is just a header with a couple of declarations:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  DIRENTRY_H&#xA;#define DIRENTRY_H&#xA;&#xA;const int MAX_PATH_LENGTH = 1024;&#xA;typedef void* handle;&#xA;&#xA;struct DirEntry{&#xA;    char entry[MAX_PATH_LENGTH + 1];&#xA;    int is_directory;&#xA;    long long size;&#xA;};&#xA;&#xA;enum DirListError{&#xA;    DIRLIST_OK,&#xA;    DIRECTORY_NOT_FOUND,&#xA;    INCORRECT_DIRECTORY_NAME,&#xA;    DIRLIST_END,&#xA;};&#xA;&#xA;handle dirlist_start_find(const char* dir, DirListError* error);&#xA;DirListError dirlist_next_entry(handle h, DirEntry* result);&#xA;void dirlist_end_find(handle h);&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1978522" LastEditorUserId="1978522" LastEditDate="2015-07-06T23:26:26.403" LastActivityDate="2015-07-07T01:48:37.173" Title="Segmentation fault, listing contents of a directory" Tags="&lt;c++&gt;&lt;c&gt;&lt;unix&gt;&lt;segmentation-fault&gt;" AnswerCount="2" CommentCount="3" />
  <row Id="31570684" PostTypeId="1" AcceptedAnswerId="31581116" CreationDate="2015-07-22T18:01:45.483" Score="3" ViewCount="737" Body="&lt;p&gt;By default, CLion will add the following lines to a newly created header file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef SOME_NAME_H&#xA;#define SOME_NAME_H&#xA;.... your code here&#xA;#endif //SOME_NAME_H&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But I like &lt;code&gt;#pragma once&lt;/code&gt; more. How can I configure CLion so that it uses &lt;code&gt;#pragma once&lt;/code&gt; by default for new header files?&lt;/p&gt;&#xA;" OwnerUserId="855050" LastActivityDate="2015-07-24T07:30:45.840" Title="How to make CLion use &quot;#pragma once&quot; instead of &quot;ifndef ... def ...&quot; by default for new header files?" Tags="&lt;include&gt;&lt;header-files&gt;&lt;pragma&gt;&lt;clion&gt;" AnswerCount="1" CommentCount="1" FavoriteCount="1" />
  <row Id="32142278" PostTypeId="1" AcceptedAnswerId="32142730" CreationDate="2015-08-21T14:00:32.253" Score="-1" ViewCount="121" Body="&lt;p&gt;I have see some topic on the subject, but i don't really understand...&lt;/p&gt;&#xA;&#xA;&lt;p&gt;There is someone enough patient to tell me how i can made this constructor correct?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;SdlManager::SdlManager() {&#xA;&#xA;    //SDL init&#xA;    if(SDL_Init(SDL_INIT_VIDEO) &amp;lt; 0) {&#xA;      std::cerr &amp;lt;&amp;lt; &quot;Could not initialize SDL: &quot; &amp;lt;&amp;lt; SDL_GetError() &amp;lt;&amp;lt; std::endl;&#xA;      goto error1;&#xA;    }&#xA;&#xA;    //Init mutex for SDL access&#xA;    m_mutex = SDL_CreateMutex();&#xA;    if (m_mutex == nullptr)&#xA;      goto error2;&#xA;&#xA;    try {&#xA;      m_display = DisplayManager(m_mutex, false);&#xA;      m_events = EventManager(m_mutex);&#xA;    }&#xA;    catch (void* _) {&#xA;      goto error3;&#xA;    }&#xA;    return;&#xA;&#xA;    //Error Handling&#xA;  error3:&#xA;    SDL_DestroyMutex(m_mutex);&#xA;  error2:&#xA;    SDL_Quit();&#xA;  error1:&#xA;    throw ;&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Any advice is welcome.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks&#xA;Have a nice day.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;About the error :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;src/sdl_manager.cpp:6:1: error: uninitialized reference member in ‘class sdl::DisplayManager&amp;amp;’ [-fpermissive]&#xA;     SdlManager::SdlManager() {&#xA;     ^&#xA;    In file included from src/sdl_manager.cpp:2:0:&#xA;    ./src/include/sdl_manager.hpp:13:20: note: ‘sdl::DisplayManager&amp;amp; sdl::SdlManager::m_display’ should be initialized&#xA;        DisplayManager&amp;amp; m_display;&#xA;                        ^&#xA;    src/sdl_manager.cpp:6:1: error: uninitialized reference member in ‘class sdl::EventManager&amp;amp;’ [-fpermissive]&#xA;     SdlManager::SdlManager() {&#xA;     ^&#xA;    In file included from src/sdl_manager.cpp:2:0:&#xA;    ./src/include/sdl_manager.hpp:14:19: note: ‘sdl::EventManager&amp;amp; sdl::SdlManager::m_events’ should be initialized&#xA;        EventManager&amp;amp;  m_events;&#xA;                       ^&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It seems that my try-catch block is not good&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT2:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I just put the sdl_manager.hpp to be sure.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  SDL_MANAGER_HPP&#xA;#define  SDL_MANAGER_HPP&#xA;&#xA;#include  &amp;lt;SDL2/SDL_mutex.h&amp;gt;&#xA;#include  &quot;display_manager.hpp&quot;&#xA;#include  &quot;event_manager.hpp&quot;&#xA;&#xA;namespace  sdl&#xA;{&#xA;  class  SdlManager {&#xA;    private:&#xA;      SDL_mutex*      m_mutex;&#xA;      DisplayManager&amp;amp; m_display;&#xA;      EventManager&amp;amp;   m_events;&#xA;&#xA;    public:&#xA;      SdlManager();&#xA;      ~SdlManager();&#xA;  };&#xA;}&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="3409642" LastEditorUserId="3409642" LastEditDate="2015-08-21T14:16:41.327" LastActivityDate="2015-08-21T14:23:24.637" Title="Exception in constructor" Tags="&lt;c++&gt;&lt;constructor&gt;&lt;c++14&gt;&lt;sdl-2&gt;" AnswerCount="2" CommentCount="1" />
  <row Id="32327354" PostTypeId="1" AcceptedAnswerId="32327551" CreationDate="2015-09-01T08:51:58.150" Score="3" ViewCount="65" Body="&lt;p&gt;I have 3 scripts &lt;code&gt;logs.R&lt;/code&gt;, &lt;code&gt;func.R&lt;/code&gt;, &lt;code&gt;main.R&lt;/code&gt; and I want to log from &lt;code&gt;main&lt;/code&gt; and also from &lt;code&gt;func&lt;/code&gt; scripts. I know that I can use &lt;code&gt;source&lt;/code&gt;, for having the functions in both scripts, but sourcing &lt;code&gt;logs&lt;/code&gt; in &lt;code&gt;func&lt;/code&gt; and in &lt;code&gt;main&lt;/code&gt;, is the same of sourcing it 2 times (I source &lt;code&gt;func&lt;/code&gt; in &lt;code&gt;main&lt;/code&gt;). Is there any equivalent of &lt;code&gt;#pragma once&lt;/code&gt; or &lt;code&gt;#ifndef #define #endif&lt;/code&gt; from &lt;code&gt;C++&lt;/code&gt; ?&lt;/p&gt;&#xA;" OwnerUserId="3062311" LastActivityDate="2015-09-24T09:36:44.723" Title="Equivalent of c++ include in R" Tags="&lt;r&gt;" AnswerCount="3" CommentCount="3" />
  <row Id="32632099" PostTypeId="1" AcceptedAnswerId="32638166" CreationDate="2015-09-17T13:52:59.770" Score="0" ViewCount="398" Body="&lt;p&gt;We're trying to do static analysis using cppcheck for our code base for linux using the jenkins plugin.  For some reason, it's finding numerous errors for the following type of thing:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;CREATE_DERIVED_EXCEPTION_CLASS(ExceptionOSApiError, 5)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and also for:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;CREATE_EXCEPTION_CLASS_DERIVED_FROM_SPECIFIC_BASE(ExceptionFileApiError, ExceptionOSApiError, 6)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Where it's defined as (but not giving an error on the lines):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#define CREATE_DERIVED_EXCEPTION_CLASS( new_exception_name, unique_numeric_code ) \&#xA;    CREATE_EXCEPTION_CLASS_DERIVED_FROM_SPECIFIC_BASE( new_exception_name, Exception, unique_numeric_code )&#xA;&#xA;#ifdef _IN_EXCEPTION_CPP&#xA;&#xA;    #define CREATE_EXCEPTION_CLASS_DERIVED_FROM_SPECIFIC_BASE( new_exception_name, base_exception_name, unique_numeric_code ) \&#xA;        new_exception_name::new_exception_name( const char *message, LASTERROR_TYPE lastError, const IDebugContext&amp;amp; debugContextWhereThrown ) \&#xA;            : base_exception_name( message, lastError, debugContextWhereThrown ) {} \&#xA;        new_exception_name::new_exception_name( std::string&amp;amp;&amp;amp; message, LASTERROR_TYPE lastError, const IDebugContext&amp;amp; debugContextWhereThrown ) \&#xA;            : base_exception_name( std::move(message), lastError, debugContextWhereThrown ) {} \&#xA;        new_exception_name::new_exception_name( LASTERROR_TYPE lastError, const IDebugContext&amp;amp; debugContextWhereThrown ) \&#xA;            : base_exception_name( lastError, debugContextWhereThrown ) {} \&#xA;        new_exception_name::new_exception_name(new_exception_name&amp;amp;&amp;amp; source) \&#xA;            : base_exception_name(std::move(source)) {} \&#xA;        new_exception_name&amp;amp; new_exception_name::operator=(new_exception_name&amp;amp;&amp;amp; rightHandSide) \&#xA;            { \&#xA;                if (this != &amp;amp;rightHandSide) \&#xA;                { \&#xA;                    base_exception_name::operator=(std::move(rightHandSide)); \&#xA;                    /* No derived class data members to move */ \&#xA;                } \&#xA;                return(*this); \&#xA;            } \&#xA;        UTILDLL_EXPORT int new_exception_name::getExceptionTypeByNumericCode() const \&#xA;            { \&#xA;               return( unique_numeric_code ); /* This must be UNIQUE! */ \&#xA;            }&#xA;&#xA;#else // !_IN_CPEXCEPTION_CPP&#xA;#define CREATE_EXCEPTION_CLASS_DERIVED_FROM_SPECIFIC_BASE( new_exception_name, base_exception_name, unique_numeric_code ) \&#xA;    class UTILDLL_EXPORT new_exception_name : public base_exception_name \&#xA;    { \&#xA;    public: \&#xA;        new_exception_name( const char *message, LASTERROR_TYPE lastError, const IDebugContext&amp;amp; debugContextWhereThrown ); \&#xA;        new_exception_name( std::string&amp;amp;&amp;amp; message, LASTERROR_TYPE lastError, const IDebugContext&amp;amp; debugContextWhereThrown ); \&#xA;        new_exception_name( LASTERROR_TYPE lastError, const IDebugContext&amp;amp; debugContextWhereThrown ); \&#xA;        new_exception_name( const new_exception_name&amp;amp; source ) = default; \&#xA;        new_exception_name&amp;amp; operator=(const new_exception_name&amp;amp; rightHandSide) = default; \&#xA;        new_exception_name(new_exception_name&amp;amp;&amp;amp; source); \&#xA;        new_exception_name&amp;amp; operator=(new_exception_name&amp;amp;&amp;amp; rightHandSide); \&#xA;        virtual ~new_exception_name() = default; \&#xA;        virtual int getExceptionTypeByNumericCode() const; \&#xA;    };&#xA;#endif // !_IN_EXCEPTION_CPP&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Any ideas?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I found this type of info online: &#xA; &lt;a href=&quot;http://stackoverflow.com/questions/4872566/cppcheck-thinks-i-have-redundant-code-found-a-statement-that-begins-with-numer&quot;&gt;redundant with pragma once&lt;/a&gt; &#xA;==(It looks like there’s a known problem with cppcheck and #pragma once (#ifndef #define is the fix, but I don’t think we want that).  I think we’d see a lot more of this issue if it was #pragma once.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here’s a second blurb for the redundant code issue: &#xA; &lt;a href=&quot;http://www.bet6e.com/tags/cppcheck/hot&quot; rel=&quot;nofollow&quot;&gt; enum or ifndef for redundant code issue&lt;/a&gt; &#xA;==(I don’t think it’s an enum issue) (could be that we don’t have #ifndef #define the .h …I don’t see it)&lt;br&gt;&#xA;cppcheck thinks I have “Redundant code: Found a statement that begins with numeric constant”&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The whole .h file these are defined in just contains the macros and use of the macros.  The owner doesn't think he needs a #ifndef around the #define since the cppcheck is complaining about all the lines under the #define that use the macros.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In addition: there is no #ifndef around the whole .h file, but the owner doesn't think it's needed.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Build info:&#xA;For our build normally:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;g++ -std=c++11 -ggdb -Wall -Wextra -Werror -pedantic -fdiagnostic-show-option -fPIC -DLinuxx86_64&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;What I'm seeing in jenkins for cppcheck setup:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;cppcheck --enable=all --xml --xml-version=2 -DLinuxx86_64 --platform=unix64 --include=Src/Headers/CommonPrecomp.h -v --report-progress -DOPTIMUS_CDECL -DUTILDLL_EXPORT -DOPTIMUS_COREDLL_EXPORT -DREADERDLL_EXPORT -DWRITERDLL_EXPORT -E Src 2&amp;gt; cppcheck.xml&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'm not sure it's doing the build the same in jenkins for cppcheck as it does for our normal build.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any other ideas?  Thanks!&lt;/p&gt;&#xA;" OwnerUserId="1012914" LastEditorUserId="1012914" LastEditDate="2015-09-17T14:39:50.010" LastActivityDate="2015-09-17T19:07:05.103" Title="cppcheck finding &quot;redundant code: found a statement that begins with numeric constant&quot; for macro" Tags="&lt;c++&gt;&lt;linux&gt;&lt;jenkins&gt;&lt;cppcheck&gt;" AnswerCount="1" CommentCount="6" />
  <row Id="32677101" PostTypeId="1" AcceptedAnswerId="32678055" CreationDate="2015-09-20T07:55:43.607" Score="0" ViewCount="66" Body="&lt;p&gt;I would like to create a little project, which is divided in more then one file.&#xA;main.cpp:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;cstdlib&amp;gt;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include sc_hpp&#xA;&#xA;using namespace std;&#xA;&#xA;int main(int argc, char *argv[])&#xA;{&#xA;    add(3,4);&#xA;    system(&quot;PAUSE&quot;);&#xA;    return EXIT_SUCCESS;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;sc.hpp:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &quot;sc.hpp&quot;&#xA;#define sc_hpp&#xA;&#xA;int add(int a, int b);&#xA;&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;function.cpp:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;sc.hpp&quot;&#xA;&#xA;int add(int a, int b)&#xA;{&#xA;    return(a + b);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But it doesn't work.&#xA;ERROR:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;`add' undeclared (first use this function) &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;First time I'm trying make programme in more then one file, so I think the problem must be easy to solve. &lt;/p&gt;&#xA;" OwnerUserId="5355545" LastEditorUserId="1385931" LastEditDate="2015-09-20T11:07:45.180" LastActivityDate="2015-09-20T12:44:52.003" Title="Optimize source structure for C++ projects" Tags="&lt;c++&gt;&lt;multifile&gt;" AnswerCount="1" CommentCount="4" />
  <row Id="32998271" PostTypeId="1" AcceptedAnswerId="32998810" CreationDate="2015-10-07T17:02:48.017" Score="-3" ViewCount="108" Body="&lt;p&gt;first ever question here on SO in my numerous years of coding. I've recently started trying to get into C++ to work with cocos-2d-x for mobile development and have hit a wall pretty much immediately.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;My new project comes with AppDelegate and HelloWorld classes, I've then added my own GameScene class which I've tried to instanciate from AppDelegate, however, every time I do this, I get an 'undefined error' message.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here's the code I've got so far, as you can see, the code I've got in my GameScene.cpp file is just a copy-paste of the hello world file...which I can confirm does work.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;GameScene.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;GameScene.h&quot;&#xA;&#xA;USING_NS_CC;&#xA;&#xA;&#xA;&#xA;cocos2d::Scene* GameScene::createScene()&#xA;{&#xA;    // 'scene' is an autorelease object&#xA;    auto scene = Scene::create();&#xA;&#xA;    // 'layer' is an autorelease object&#xA;    auto layer = GameScene::create();&#xA;    scene-&amp;gt;addChild(layer);&#xA;&#xA;    return scene;&#xA;}&#xA;&#xA;&#xA;&#xA;// on &quot;init&quot; you need to initialize your instance&#xA;bool GameScene::init()&#xA;{&#xA;    //////////////////////////////&#xA;    // 1. super init first&#xA;    if ( !Layer::init() )&#xA;    {&#xA;        return false;&#xA;    }&#xA;&#xA;    Size visibleSize = Director::getInstance()-&amp;gt;getVisibleSize();&#xA;    Vec2 origin = Director::getInstance()-&amp;gt;getVisibleOrigin();&#xA;&#xA;    // add a label shows &quot;Built on&quot;&#xA;    auto label = Label::createWithTTF(&quot;Built on&quot;, &quot;fonts/Marker Felt.ttf&quot;, 24);&#xA;    label-&amp;gt;setPosition(Vec2(origin.x + visibleSize.width/2,&#xA;                            origin.y + visibleSize.height - label-&amp;gt;getContentSize().height));&#xA;    this-&amp;gt;addChild(label, 1);&#xA;&#xA;    // add &quot;HelloWorld&quot; splash screen&quot;&#xA;    auto sprite = Sprite::create(&quot;HelloWorld.png&quot;);&#xA;    sprite-&amp;gt;setPosition(Vec2(visibleSize.width/2 + origin.x, visibleSize.height/2 + origin.y));&#xA;    this-&amp;gt;addChild(sprite, 0);&#xA;&#xA;    return true;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;GameScene.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef __GAME_SCENE_H__&#xA;#define __GAME_SCENE_H__&#xA;&#xA;#include &quot;cocos2d.h&quot;&#xA;&#xA;class GameScene : public cocos2d::Layer&#xA;{&#xA;public:&#xA;    // there's no 'id' in cpp, so we recommend returning the class instance pointer&#xA;    static cocos2d::Scene* createScene();&#xA;&#xA;    // Here's a difference. Method 'init' in cocos2d-x returns bool, instead of returning 'id' in cocos2d-iphone&#xA;    virtual bool init();&#xA;&#xA;    // implement the &quot;static create()&quot; method manually&#xA;    CREATE_FUNC(GameScene);&#xA;};&#xA;&#xA;#endif // __GAME_SCENE_H__&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;AppDelegate.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;AppDelegate.h&quot;&#xA;#include &quot;HelloWorldScene.h&quot;&#xA;#include &quot;GameScene.h&quot;&#xA;&#xA;USING_NS_CC;&#xA;&#xA;static cocos2d::Size designResolutionSize = cocos2d::Size(480, 320);&#xA;static cocos2d::Size smallResolutionSize = cocos2d::Size(480, 320);&#xA;static cocos2d::Size mediumResolutionSize = cocos2d::Size(1024, 768);&#xA;static cocos2d::Size largeResolutionSize = cocos2d::Size(2048, 1536);&#xA;&#xA;AppDelegate::AppDelegate() {&#xA;&#xA;}&#xA;&#xA;AppDelegate::~AppDelegate() &#xA;{&#xA;}&#xA;&#xA;//if you want a different context,just modify the value of glContextAttrs&#xA;//it will takes effect on all platforms&#xA;void AppDelegate::initGLContextAttrs()&#xA;{&#xA;    //set OpenGL context attributions,now can only set six attributions:&#xA;    //red,green,blue,alpha,depth,stencil&#xA;    GLContextAttrs glContextAttrs = {8, 8, 8, 8, 24, 8};&#xA;&#xA;    GLView::setGLContextAttrs(glContextAttrs);&#xA;}&#xA;&#xA;// If you want to use packages manager to install more packages, &#xA;// don't modify or remove this function&#xA;static int register_all_packages()&#xA;{&#xA;    return 0; //flag for packages manager&#xA;}&#xA;&#xA;bool AppDelegate::applicationDidFinishLaunching() {&#xA;    // initialize director&#xA;    auto director = Director::getInstance();&#xA;    auto glview = director-&amp;gt;getOpenGLView();&#xA;    if(!glview) {&#xA;        glview = GLViewImpl::create(&quot;My Game&quot;);&#xA;        director-&amp;gt;setOpenGLView(glview);&#xA;    }&#xA;&#xA;    // turn on display FPS&#xA;    director-&amp;gt;setDisplayStats(true);&#xA;&#xA;    // set FPS. the default value is 1.0/60 if you don't call this&#xA;    director-&amp;gt;setAnimationInterval(1.0 / 60);&#xA;&#xA;    // Set the design resolution&#xA;    glview-&amp;gt;setDesignResolutionSize(designResolutionSize.width, designResolutionSize.height, ResolutionPolicy::NO_BORDER);&#xA;    Size frameSize = glview-&amp;gt;getFrameSize();&#xA;    // if the frame's height is larger than the height of medium size.&#xA;    if (frameSize.height &amp;gt; mediumResolutionSize.height)&#xA;    {        &#xA;        director-&amp;gt;setContentScaleFactor(MIN(largeResolutionSize.height/designResolutionSize.height, largeResolutionSize.width/designResolutionSize.width));&#xA;    }&#xA;    // if the frame's height is larger than the height of small size.&#xA;    else if (frameSize.height &amp;gt; smallResolutionSize.height)&#xA;    {        &#xA;        director-&amp;gt;setContentScaleFactor(MIN(mediumResolutionSize.height/designResolutionSize.height, mediumResolutionSize.width/designResolutionSize.width));&#xA;    }&#xA;    // if the frame's height is smaller than the height of medium size.&#xA;    else&#xA;    {        &#xA;        director-&amp;gt;setContentScaleFactor(MIN(smallResolutionSize.height/designResolutionSize.height, smallResolutionSize.width/designResolutionSize.width));&#xA;    }&#xA;&#xA;    register_all_packages();&#xA;&#xA;    // create a scene. it's an autorelease object&#xA;    auto scene = GameScene::createScene();&#xA;&#xA;    // run&#xA;    director-&amp;gt;runWithScene(scene);&#xA;&#xA;    return true;&#xA;}&#xA;&#xA;// This function will be called when the app is inactive. When comes a phone call,it's be invoked too&#xA;void AppDelegate::applicationDidEnterBackground() {&#xA;    Director::getInstance()-&amp;gt;stopAnimation();&#xA;&#xA;    // if you use SimpleAudioEngine, it must be pause&#xA;    // SimpleAudioEngine::getInstance()-&amp;gt;pauseBackgroundMusic();&#xA;}&#xA;&#xA;// this function will be called when the app is active again&#xA;void AppDelegate::applicationWillEnterForeground() {&#xA;    Director::getInstance()-&amp;gt;startAnimation();&#xA;&#xA;    // if you use SimpleAudioEngine, it must resume here&#xA;    // SimpleAudioEngine::getInstance()-&amp;gt;resumeBackgroundMusic();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;AppDelegate.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _APP_DELEGATE_H_&#xA;#define  _APP_DELEGATE_H_&#xA;&#xA;#include &quot;cocos2d.h&quot;&#xA;&#xA;/**&#xA;@brief    The cocos2d Application.&#xA;&#xA;The reason for implement as private inheritance is to hide some interface call by Director.&#xA;*/&#xA;class  AppDelegate : private cocos2d::Application&#xA;{&#xA;public:&#xA;    AppDelegate();&#xA;    virtual ~AppDelegate();&#xA;&#xA;    virtual void initGLContextAttrs();&#xA;&#xA;    /**&#xA;    @brief    Implement Director and Scene init code here.&#xA;    @return true    Initialize success, app continue.&#xA;    @return false   Initialize failed, app terminate.&#xA;    */&#xA;    virtual bool applicationDidFinishLaunching();&#xA;&#xA;    /**&#xA;    @brief  The function be called when the application enter background&#xA;    @param  the pointer of the application&#xA;    */&#xA;    virtual void applicationDidEnterBackground();&#xA;&#xA;    /**&#xA;    @brief  The function be called when the application enter foreground&#xA;    @param  the pointer of the application&#xA;    */&#xA;    virtual void applicationWillEnterForeground();&#xA;};&#xA;&#xA;#endif // _APP_DELEGATE_H_&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I've tried doing as much debugging as I can though am not really getting anywhere, although I am starting to suspect that possibly the GameScene.cpp file isn't being included in the compile...I put an error line (&quot;blahblahblah;&quot;) in each file and the compiler didn't show anything about the error in GameScene.cpp. So if this is the problem, then how do I make sure it is included? I'm currently editing my code in Notepad++ and building by calling the build_native.py file which was created in the proj.android folder of my cocos project.&lt;/p&gt;&#xA;" OwnerUserId="5419504" LastEditorUserId="5419504" LastEditDate="2015-10-07T17:33:32.737" LastActivityDate="2015-10-07T17:33:32.737" Title="C++ cocos-2d-x undefined error &lt;Resolved&gt;" Tags="&lt;android&gt;&lt;c++&gt;&lt;cocos2d-x&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="33353513" PostTypeId="1" CreationDate="2015-10-26T18:57:53.303" Score="0" ViewCount="23" Body="&lt;p&gt;anybody can tell me whats wrong with this code. I get the errors&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    1&amp;gt;Pointers.obj : error LNK2019: unresolved external symbol &quot;public: __thiscall TArray&amp;lt;int&amp;gt;::~TArray&amp;lt;int&amp;gt;(void)&quot; (??1?$TArray@H@@QAE@XZ) referenced in function _wmain&#xA;    1&amp;gt;Pointers.obj : error LNK2019: unresolved external symbol &quot;public: void __thiscall TArray&amp;lt;int&amp;gt;::Add(int)&quot; (?Add@?$TArray@H@@QAEXH@Z) referenced in function _wmain&#xA;    1&amp;gt;Pointers.obj : error LNK2019: unresolved external symbol &quot;public: __thiscall TArray&amp;lt;int&amp;gt;::TArray&amp;lt;int&amp;gt;(void)&quot; (??0?$TArray@H@@QAE@XZ) referenced in function _wmain&#xA;    1&amp;gt;C:\Visual Studio 2005\Projects\Pointers\Pointers\Debug\Pointers.exe : fatal error LNK1120: 3 unresolved externals&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I trying create a list using template. It may a possible duplicate question, if it is sorry, however unresolved symbols error causes often have different source. according visual studio, TArray destructor is not define but you can see it on scData.cpp. My example is based on &lt;a href=&quot;http://www.cplusplus.com/articles/E3wTURfi/&quot; rel=&quot;nofollow&quot;&gt;http://www.cplusplus.com/articles/E3wTURfi/&lt;/a&gt; example. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;scData.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    #include &quot;stdafx.h&quot;&#xA;    #ifndef   SC_DATA_H    &#xA;    #define   SC_DATA_H    &#xA;&#xA;&#xA;    template &amp;lt;typename T&amp;gt; &#xA;    class TArray;&#xA;&#xA;    template &amp;lt;typename T&amp;gt;&#xA;    class TDataNode  //nodes to be contained with a list&#xA;    {&#xA;      friend class TArray&amp;lt;T&amp;gt;;&#xA;      private:&#xA;        T  data;&#xA;        TDataNode* nextNode;&#xA;        TDataNode* prevNode;&#xA;      public:&#xA;        TDataNode(T);&#xA;        T getData();&#xA;    };&#xA;&#xA;    template &amp;lt;typename T&amp;gt;&#xA;    class TArray&#xA;    {&#xA;      private:&#xA;        TDataNode&amp;lt;T&amp;gt; *startPtr; //stores the pointer of first object in the linked list&#xA;        TDataNode&amp;lt;T&amp;gt; *endPtr; //stored the pointer of the last object in the linked list&#xA;        long          FSize;&#xA;        bool          isEmpty(); //utility functions used to see if the list contains no elements&#xA;      public:&#xA;        TArray();&#xA;        ~TArray();&#xA;&#xA;        void       Add(T);&#xA;        void       Remove(long);&#xA;        TDataNode&amp;lt;T&amp;gt;* Search(T);&#xA;        TDataNode&amp;lt;T&amp;gt;* Item(long);&#xA;        long Size(void);        &#xA;        void Reset();    &#xA;        void Clear();    &#xA;    };&#xA;    #endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;scData.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    #ifndef NULL&#xA;    #define NULL     0L&#xA;    #endif&#xA;&#xA;    #include &quot;scData.h&quot;&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      TDataNode&amp;lt;T&amp;gt;::TDataNode(T dataIn)&#xA;      {&#xA;        data = dataIn; //stores data in node&#xA;        nextNode = NULL;&#xA;        prevNode = NULL&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      T TDataNode&amp;lt;T&amp;gt;::getData() //returns data stored in node&#xA;      {&#xA;          return data;&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      TArray&amp;lt;T&amp;gt;::TArray()&#xA;      {&#xA;          startPtr = NULL;&#xA;          endPtr = NULL;&#xA;        FSize = 0;&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      TArray&amp;lt;T&amp;gt;::~TArray()&#xA;      {&#xA;        if ( !isEmpty() ) // List is not empty&#xA;        {    &#xA;          TDataNode&amp;lt;T&amp;gt; *currentPtr = startPtr;&#xA;          TDataNode&amp;lt;T&amp;gt; *tempPtr;&#xA;&#xA;          while ( currentPtr != 0 ) // delete remaining nodes&#xA;          {  &#xA;            tempPtr = currentPtr;&#xA;            currentPtr = currentPtr-&amp;gt;nextNode;&#xA;            delete tempPtr;&#xA;          }&#xA;        }&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      bool TArray&amp;lt;T&amp;gt;::isEmpty()&#xA;      {&#xA;        if(startPtr == NULL &amp;amp;&amp;amp; endPtr == NULL) //if the start pointer and end pointer are NULL then the list is empty&#xA;          return 1;&#xA;        else&#xA;          return 0;&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      void TArray&amp;lt;T&amp;gt;::Clear()&#xA;      {&#xA;        Reset();&#xA;      }&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      void TArray&amp;lt;T&amp;gt;::Reset()&#xA;      {&#xA;        if ( !isEmpty() ) // List is not empty&#xA;        {    &#xA;          TDataNode&amp;lt;T&amp;gt; *currentPtr = startPtr;&#xA;          TDataNode&amp;lt;T&amp;gt; *tempPtr;&#xA;&#xA;          while ( currentPtr != 0 ) // delete remaining nodes&#xA;          {  &#xA;            tempPtr = currentPtr;&#xA;            currentPtr = currentPtr-&amp;gt;nextNode;&#xA;            delete tempPtr;&#xA;          }&#xA;          startPtr=NULL;&#xA;          endPtr=NULL;&#xA;          FSize=0;&#xA;        }&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      void TArray&amp;lt;T&amp;gt;::Add(T dataIn)&#xA;      {&#xA;        if(isEmpty()) //if the list is empty create first element of the list&#xA;        {&#xA;          TDataNode&amp;lt;T&amp;gt; * newPtr = new TDataNode&amp;lt;T&amp;gt;(dataIn); //creates new node&#xA;          startPtr = newPtr; //start and end pointer are same becuase there is only one object in list&#xA;          endPtr = newPtr;&#xA;        }else //if node(s) exist in list insert additional object after the last&#xA;        {&#xA;          TDataNode&amp;lt;T&amp;gt; * newPtr = new TDataNode&amp;lt;T&amp;gt;(dataIn);&#xA;          newPtr-&amp;gt;prevNode=endPtr;&#xA;          endPtr-&amp;gt;nextNode=newPtr;//the next pointer of the previous last node points to the new node&#xA;          endPtr = newPtr; //new node is now the ending node&#xA;          //oringinal code insert additional object before the first&#xA;          //newPtr-&amp;gt;nextNode = startPtr; //the next pointer of the new node points to the node that was previously first&#xA;          //startPtr = newPtr; //the pointer for the new node is now the starting node&#xA;        }&#xA;        FSize++;&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      void TArray&amp;lt;T&amp;gt;::Remove(long index)&#xA;      {&#xA;        TDataNode&amp;lt;T&amp;gt; *currentPtr = startPtr;&#xA;        long tempIndex=0L;&#xA;        if ( !isEmpty() ) // List is not empty&#xA;        {&#xA;          currentPtr = startPtr;&#xA;          while ( currentPtr != 0 ) // delete remaining nodes&#xA;          {  &#xA;            if (index=tempIndex)&#xA;            {&#xA;              if (index=0) //delete first node&#xA;              {&#xA;                startPtr=currentPtr-&amp;gt;nextNode;&#xA;                currentPtr-&amp;gt;nextNode-&amp;gt;prevNode=NULL;&#xA;                delete currentPtr;&#xA;              }&#xA;              else if(currentPtr-&amp;gt;nextNode=NULL) //delete last Node&#xA;              {&#xA;                currentPtr-&amp;gt;prevNode-&amp;gt;nextNode=NULL;&#xA;                endPtr=currentPtr-&amp;gt;prevNode;&#xA;                delete currentPtr;&#xA;              }&#xA;              else&#xA;              {&#xA;                currentPtr-&amp;gt;prevNode-&amp;gt;nextNode=currentPtr-&amp;gt;nextNode;&#xA;                currentPtr-&amp;gt;nextNode-&amp;gt;prevNode=currentPtr-&amp;gt;prevNode;&#xA;                delete currentPtr;&#xA;              }&#xA;              FSize--;&#xA;            }&#xA;            tempIndex++;&#xA;            currentPtr = currentPtr-&amp;gt;nextNode;&#xA;          }&#xA;        }&#xA;        return;&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      TDataNode&amp;lt;T&amp;gt;* TArray&amp;lt;T&amp;gt;::Item(long index)&#xA;      {&#xA;        TDataNode&amp;lt;T&amp;gt;* DataNode;&#xA;        long tempIndex=0L;&#xA;        if ( (!isEmpty())||(index&amp;gt;FSize-1)) // List is not empty&#xA;        {&#xA;          DataNode = startPtr;&#xA;          while ( DataNode != 0 ) // delete remaining nodes&#xA;          {  &#xA;            if (index=tempIndex)&#xA;            {&#xA;              return DataNode;&#xA;            }&#xA;            DataNode=DataNode-&amp;gt;nextNode;&#xA;            tempIndex++;&#xA;          }&#xA;          return NULL;&#xA;        }&#xA;        return NULL;&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      long TArray&amp;lt;T&amp;gt;::Size(void)&#xA;      {&#xA;        return FSize;&#xA;      }&#xA;&#xA;      template &amp;lt;typename T&amp;gt;&#xA;      TDataNode&amp;lt;T&amp;gt;* TArray&amp;lt;T&amp;gt;::Search(T key) //search functions that searches for node that contains data equal to the key&#xA;      {&#xA;        TDataNode&amp;lt;T&amp;gt;* nodePtr;&#xA;        bool found = false;&#xA;&#xA;        nodePtr = startPtr;&#xA;        while((!found) &amp;amp;&amp;amp; (nodePtr != NULL)) //runs through list until data is found within a node or end of list is reached&#xA;        {&#xA;          if(nodePtr-&amp;gt;getData() == key) //if the node's data equals the key then the node has been found&#xA;            found = true;&#xA;          else&#xA;            nodePtr = nodePtr-&amp;gt;nextNode; //moves to next node in list&#xA;        }&#xA;        return nodePtr; //returns pointer to the node that contains data equal to key (NULL if not found)&#xA;      }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;main.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;    #include &amp;lt;iostream&amp;gt;&#xA;    #include &amp;lt;exception&amp;gt;&#xA;    #include &quot;stdafx.h&quot;&#xA;&#xA;&#xA;    using namespace std;&#xA;&#xA;&#xA;    int _tmain(int argc, _TCHAR* argv[])&#xA;    {&#xA;      TArray&amp;lt;int&amp;gt; intList; //creates order linked list&#xA;        for(int i = 0; i &amp;lt;= 10;  i++)&#xA;        {&#xA;            intList.Add(1+10*i); //inserts value from array to the linked list in the proper positions&#xA;        }&#xA;      return 0;&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="4623360" LastActivityDate="2015-10-26T18:57:53.303" Title="unresolved external symbol &quot;public: __thiscall" Tags="&lt;c++&gt;&lt;linker&gt;&lt;external&gt;&lt;symbol&gt;" AnswerCount="0" CommentCount="6" FavoriteCount="0" ClosedDate="2015-10-26T19:00:59.173" />
  <row Id="33643249" PostTypeId="1" AcceptedAnswerId="33644413" CreationDate="2015-11-11T02:23:36.390" Score="1" ViewCount="111" Body="&lt;p&gt;My ~/.vimrc contains only&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;so ~/config/vim/vimrc&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;~/config/vim/vimrc contains usual options, few mappings and source files for different filetype, I've got :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;autocmd FileType cpp so ~/config/vim/filetype/cpp.vimrc&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And in that file, I have defined the following function, which I want to call every time I open a new cpp header in order to avoid double inclusion :&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;python import vim&#xA;&#xA;function! s:insert_gates()&#xA;python &amp;lt;&amp;lt; endPython&#xA;hpp = vim.current.buffer.name&#xA;hpp = hpp[hpp.rfind('/') + 1:]&#xA;hpp = hpp.upper()&#xA;hpp = hpp.replace('.', '_')&#xA;vim.current.buffer.append(&quot;#ifndef &quot; + hpp)&#xA;vim.current.buffer.append(&quot;# define &quot; + hpp)&#xA;vim.current.buffer.append(&quot;&quot;)&#xA;vim.current.buffer.append(&quot;#endif&quot;)&#xA;endPython&#xA;endfunction&#xA;&#xA;autocmd BufNewFile *.hpp call &amp;lt;SID&amp;gt;insert_gates()&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And then, if I ask my shell for:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;vim -O3 t1.hpp t2.hpp t3.hpp&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I got:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;|                     |#ifndef T2_HPP       |#ifndef T3_HPP       |&#xA;|                     |# define T2_HPP      |# define T3_HPP      |&#xA;|                     |                     |                     |&#xA;|                     |#endif               |#endif               |&#xA;|                     |                     |#ifndef T3_HPP       |&#xA;|                     |                     |# define T3_HPP      |&#xA;|                     |                     |                     |&#xA;|                     |                     |#endif               |&#xA;|                     |                     |                     |&#xA;|_____________________|_____________________|_____________________|&#xA;|t1.h                 |t2.h                 |t3.h                 |&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;That's not exactly what I want... Do you see my mistake ? Thanks.&lt;/p&gt;&#xA;" OwnerUserId="4767885" LastEditorUserId="4767885" LastEditDate="2015-11-11T03:25:34.867" LastActivityDate="2015-11-11T04:44:20.507" Title="vim autocmd BufNewfile executed multiple times" Tags="&lt;vim&gt;&lt;autocmd&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="33697559" PostTypeId="1" AcceptedAnswerId="33697713" CreationDate="2015-11-13T16:35:43.363" Score="0" ViewCount="384" Body="&lt;p&gt;I'm trying to get a friend function of &lt;code&gt;class1&lt;/code&gt; and &lt;code&gt;ships&lt;/code&gt; to access the private members of both, but it says that those members are inaccessible. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;The code is below, the problem is in &lt;code&gt;ships.cpp&lt;/code&gt;. I tried to reproduce this problem in an even more simple manner in a single file but it didn't happen there, so I don't know what's wrong here. Maybe it's a circular declaration problem?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;ships.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  _SHIPS_H_&#xA;#define _SHIPS_H_&#xA;&#xA;#include &quot;point.h&quot;&#xA;&#xA;class class1;&#xA;&#xA;class Ships{&#xA;public:&#xA;    friend char* checkpoints();&#xA;private:&#xA;    Point ship[6]; &#xA;};&#xA;#endif // ! _SHIPS_H_&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;ships.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;ships.h&quot;&#xA;#include &quot;class1.h&quot;&#xA;&#xA;char* checkpoints(Ships ship, class1 game) {&#xA;&#xA;    ship.ship[0];//cannot access private member declared in class 'Ships'&#xA;    game.smallship;//cannot access private member declared in class 'class1'&#xA;&#xA;    return nullptr;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;class1.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef _CLASS1_H_&#xA;#define _CLASS1_H_&#xA;&#xA;#include  &quot;ships.h&quot;&#xA;class class1 {&#xA;public:&#xA;    friend char* checkpoints();&#xA;private:&#xA;    static const int LIVES = 3;&#xA;    Ships smallship, bigship;&#xA;};&#xA;&#xA;#endif &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="4279201" LastActivityDate="2015-11-13T16:44:55.100" Title="Friend function can't access private members" Tags="&lt;c++&gt;&lt;c++11&gt;&lt;private&gt;&lt;friend&gt;" AnswerCount="1" CommentCount="7" />
  <row Id="33807268" PostTypeId="1" AcceptedAnswerId="33807551" CreationDate="2015-11-19T14:57:44.833" Score="0" ViewCount="53" Body="&lt;p&gt;I have something that i can't understand.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;With one basic template class:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  DBUFFER_HPP&#xA;#define  DBUFFER_HPP&#xA;&#xA;#include  &amp;lt;memory&amp;gt;&#xA;&#xA;namespace  memory {&#xA;&#xA;  template &amp;lt;template &amp;lt;typename T, class Alloc = std::allocator&amp;lt;T&amp;gt; &amp;gt; class Stock, class Unit&amp;gt;&#xA;  class  DBuffer {&#xA;&#xA;    typedef Stock&amp;lt;Unit&amp;gt; buffer_t;&#xA;&#xA;    protected:&#xA;      const std::size_t          m_sizeMax;&#xA;      std::unique_ptr&amp;lt;buffer_t&amp;gt;  m_data;&#xA;      std::unique_ptr&amp;lt;buffer_t&amp;gt;  m_backData;&#xA;&#xA;    public:&#xA;      DBuffer(const std::size_t sizeMax) : m_sizeMax(sizeMax),&#xA;                                           m_data(new buffer_t()),&#xA;                                           m_backData(new buffer_t()) {}&#xA;      virtual ~DBuffer() = default;&#xA;&#xA;    public:&#xA;      const buffer_t&amp;amp;  current() { return *m_data; }&#xA;      void  swap() { m_data.swap(m_backData); }&#xA;  };&#xA;}&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I just want to inherit from it, but : &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  VIDEO_BUFFER_HPP&#xA;#define  VIDEO_BUFFER_HPP&#xA;&#xA;#include  &quot;dbuffer.hpp&quot;&#xA;#include  &amp;lt;deque&amp;gt;&#xA;&#xA;namespace  video {&#xA;&#xA;  template &amp;lt;typename T&amp;gt;&#xA;  class  VideoBuffer : public memory::DBuffer&amp;lt;std::deque, T&amp;gt; {&#xA;&#xA;    private:&#xA;      static const unsigned int  VIDEO_FPS_MAX = 60;&#xA;&#xA;    public:&#xA;      VideoBuffer() : memory::DBuffer&amp;lt;std::deque, T&amp;gt;(VIDEO_FPS_MAX){}&#xA;      ~VideoBuffer() = default;&#xA;&#xA;    private:&#xA;      void  pop_to_back() {&#xA;&#xA;        m_backData-&amp;gt;push_front(std::move(m_data-&amp;gt;front()));&#xA;        if (m_backData-&amp;gt;size() &amp;gt; m_maxSize)&#xA;          m_backData-&amp;gt;pop_back();&#xA;        m_data-&amp;gt;pop_front();&#xA;      }     &#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But the only error is a not declared on every member that i tried to call from the base class.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Maybe i have a problem because some template type is not specified?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If somebody can explain why, i'll be thanks full.&lt;/p&gt;&#xA;" OwnerUserId="2466514" LastEditorUserId="2466514" LastEditDate="2015-11-19T15:03:59.720" LastActivityDate="2015-11-19T15:10:07.167" Title="Template Inheritance member fields" Tags="&lt;c++&gt;&lt;templates&gt;" AnswerCount="1" CommentCount="5" ClosedDate="2015-11-19T15:14:26.553" />
  <row Id="35545509" PostTypeId="1" CreationDate="2016-02-22T03:49:45.680" Score="0" ViewCount="85" Body="&lt;p&gt;Hope you can help me on this. &#xA;I have been trying to find out where my error is almost all day. This is RPC. Client has to ask Server which IP belongs to a host. That's all.&#xA;Server works ok, but when I try to execute Client side, I received notification that I had an issue with &quot;Segmentation fault, ('core') generated&quot;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here's my ips.x file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;struct envia&#xA;{&#xA;  char dominio[50];&#xA;};&#xA;&#xA;struct retorno&#xA;{&#xA;  char retips[50];&#xA;};&#xA;&#xA;program IPS_PROGRAMA&#xA;{&#xA;  version VERSION_IPS_PROGRAMA&#xA;  {&#xA;    struct retorno ips (struct envia) =1;&#xA;   } =1;&#xA;}=0x20000001;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here's the ips_client.c:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*&#xA; * This is sample code generated by rpcgen.&#xA; * These are only templates and you can use them&#xA; * as a guideline for developing your own functions.&#xA; */&#xA;&#xA;#include &quot;ips.h&quot;&#xA;&#xA;&#xA; void&#xA;ips_programa_1(char *host,char *dominio)&#xA;{&#xA;  CLIENT *clnt;&#xA;  struct retorno  *result_1;&#xA;  struct envia  ips_1_arg;&#xA;&#xA;#ifndef DEBUG&#xA;&#xA;clnt = clnt_create (host, IPS_PROGRAMA, VERSION_IPS_PROGRAMA, &quot;udp&quot;);&#xA;&#xA;if (clnt == NULL) {&#xA;    clnt_pcreateerror (host);&#xA;    exit (1);&#xA;}&#xA;#endif  /* DEBUG */&#xA;&#xA;  strcpy(ips_1_arg.dominio,dominio);&#xA;&#xA;  result_1 = ips_1(&amp;amp;ips_1_arg, clnt);&#xA;&#xA;  if (result_1 == (struct retorno *) NULL) {&#xA;    clnt_perror (clnt, &quot;call failed&quot;);&#xA;   }&#xA;    printf(&quot;recibido del servidor %s \n&quot;, result_1-&amp;gt;retips);&#xA; #ifndef    DEBUG&#xA;  clnt_destroy (clnt);&#xA; #endif  /* DEBUG */&#xA; }&#xA;&#xA;&#xA; int&#xA; main (int argc, char *argv[])&#xA;{&#xA;    char *host;&#xA;&#xA;   if (argc &amp;lt; 2) {&#xA;    printf (&quot;usage: %s server_host\n&quot;, argv[0]);&#xA;    exit (1);&#xA; }&#xA;host = argv[1];&#xA;ips_programa_1 (host,argv[2]);&#xA;exit (0);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And here's my ips.server.c:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*&#xA; * This is sample code generated by rpcgen.&#xA; * These are only templates and you can use them&#xA; * as a guideline for developing your own functions.&#xA; */&#xA;&#xA;#include &quot;ips.h&quot;&#xA;#include&amp;lt;netdb.h&amp;gt;  &#xA;#include&amp;lt;string.h&amp;gt;&#xA;#include&amp;lt;arpa/inet.h&amp;gt;&#xA;&#xA;&#xA;void funcionip(char * ,char []);&#xA;&#xA;struct retorno *&#xA;ips_1_svc(struct envia *argp, struct svc_req *rqstp)&#xA;{&#xA;  static struct retorno  result;&#xA;&#xA;  memset(result.retips,0,100);&#xA;  funcionip(argp-&amp;gt;dominio,result.retips);&#xA;&#xA;  return &amp;amp;result;&#xA;}&#xA;&#xA;void funcionip(char * dominio, char TodasLasIp[])&#xA;{&#xA;   struct in_addr **addr_list;&#xA;   struct hostent *he = gethostbyname(dominio);&#xA;&#xA;   if (he)&#xA;   { &#xA;     int i;&#xA;     puts(he-&amp;gt;h_name);&#xA;     printf(&quot;Servidor Dice Nombre del Host : %s\n&quot;, he-&amp;gt;h_name);&#xA;     printf(&quot;Servidor Dice Direcciones IP  &quot;);&#xA;     addr_list = (struct in_addr **)he-&amp;gt;h_addr_list;&#xA;&#xA;     for(i = 0; addr_list[i] != NULL; i++)&#xA;       {&#xA;         printf(&quot;%s \n&quot;, inet_ntoa(*addr_list[i]));&#xA;         strcat(TodasLasIp,(char*) inet_ntoa(*addr_list[i]));&#xA;         strcat(TodasLasIp,&quot;\n&quot;);&#xA;       }&#xA;      printf(&quot;\n&quot;);&#xA;    }&#xA;else&#xA;  {       &#xA;    printf(&quot;Servidor dice error gethostbyname\n&quot;);&#xA;    strcat(TodasLasIp,&quot;error gethostbyname\n&quot;);&#xA;  }   &#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I have worked in other RPC where struct defined in &quot;.x&quot; file where just integer. So I think error is something about data types?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any help is really appreciated!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Thanks in advance!!&lt;/p&gt;&#xA;" OwnerUserId="5113398" LastActivityDate="2016-02-22T21:11:05.787" Title="Segmentation fault ('core' created) RPC - client doesn't execute" Tags="&lt;client-server&gt;&lt;rpc&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="35703479" PostTypeId="1" CreationDate="2016-02-29T15:36:44.180" Score="0" ViewCount="39" Body="&lt;p&gt;I have two classes named &lt;code&gt;Manager&lt;/code&gt; and &lt;code&gt;Worker&lt;/code&gt;. Each &lt;code&gt;Worker&lt;/code&gt; has a &lt;code&gt;Manager&lt;/code&gt; and each &lt;code&gt;Manager&lt;/code&gt; has a &lt;code&gt;Worker&lt;/code&gt; to manage.&lt;br&gt;&#xA;I am defining the classes at separately header files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;manager.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;worker.h&quot;&#xA;&#xA;class Manager{&#xA;    private:&#xA;        Worker* worker;&#xA;    public:&#xA;        /* methods etc */&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;worker.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;manager.h&quot;&#xA;&#xA;class Worker{&#xA;    private:&#xA;        Manager* manager;&#xA;    public:&#xA;        /* methods etc */&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;main.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;worker.h&quot;&#xA;#include &quot;manager.h&quot;&#xA;&#xA;int main(void){&#xA;    /* code code */&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Ok until now it seems to be everything ok, but when I try to compile it gives lots of lines with the names of the headers.&#xA;First I thought that it created a kind of loop and was including the headers endless. I then searched about it and tried to use &lt;code&gt;#ifndef #define #endif&lt;/code&gt; in each header file. Turns out that now the problem is that the class Worker doesn't see the class Manager and vice-versa, meaning that the errors now are &quot;'Worker' does not name a type&quot; etc etc etc.&lt;/p&gt;&#xA;" OwnerUserId="5802818" LastEditorUserId="476496" LastEditDate="2016-02-29T15:37:58.527" LastActivityDate="2016-02-29T15:37:58.527" Title="Header files don't see each other" Tags="&lt;c++&gt;" AnswerCount="0" CommentCount="4" ClosedDate="2016-02-29T15:42:27.317" />
  <row Id="35721051" PostTypeId="1" AcceptedAnswerId="35721374" CreationDate="2016-03-01T10:57:11.113" Score="0" ViewCount="59" Body="&lt;p&gt;I was hoping to get some sort of clarification regarding the run time of my MSVS2015 community solution.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I've basically made quite a simple application that uses libcurl to get historical data from a CSV file from yahoo finance. The data is from 2010 to 2016, dumped into a csv file in the solution's folder.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The reason I'm raising this question is because since I changed the solution from just using a single .cpp executing everything to making new .cpp files to basically make the code more maintainable the run time went from &gt;1 second to about 3 seconds. &#xA;This is my first time working with multiple .cpp and .h files, so I have very limited experience with how including them could affect the run-time.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;To iterate on the issue; it is actually working fine - I just wish to understand how the run time can be so much longer when making such easy changes.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here is the code:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;historical.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;stdafx.h&quot;&#xA;#include &quot;historical.h&quot;&#xA;&#xA;&#xA;using namespace std;&#xA;&#xA;static size_t WriteCallback(void *contents, size_t size, size_t nmemb, void *userp)&#xA;{&#xA;    ((std::string*)userp)-&amp;gt;append((char*)contents, size * nmemb);&#xA;    return size * nmemb;&#xA;}&#xA;&#xA;&#xA;historical::historical(string symbol) {&#xA;    _mQueryString = &quot;http://ichart.yahoo.com/table.csv?s=&quot; + symbol + &quot;&amp;amp;a=00&amp;amp;b=01&amp;amp;c=2010&amp;amp;d=01&amp;amp;e=01&amp;amp;f=2016&amp;amp;d=m&amp;amp;ignore=.csv&quot;; // setup the query by adding the string param. (2010-2016).&#xA;&#xA;    CURL *curl; // initialize cURL&#xA;    CURLcode res; // setup a response&#xA;&#xA;    curl = curl_easy_init();&#xA;    if (curl) {&#xA;        curl_easy_setopt(curl, CURLOPT_URL, _mQueryString);&#xA;        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, WriteCallback);&#xA;        curl_easy_setopt(curl, CURLOPT_WRITEDATA, &amp;amp;_mHistorical);&#xA;        res = curl_easy_perform(curl);&#xA;        curl_easy_cleanup(curl);&#xA;&#xA;&#xA;        string* pBuffer = &amp;amp;_mHistorical;&#xA;    }&#xA;}&#xA;&#xA;string* historical::getHistorical() {&#xA;    return &amp;amp;_mHistorical;&#xA;}&#xA;historical::~historical() {&#xA;    cout &amp;lt;&amp;lt; &quot;The object is deleted&quot;;&#xA;} &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;historical.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#pragma once&#xA;&#xA;//======================&#xA;//include guard&#xA;#ifndef  __HISTORICAL_H_INCLUDED__&#xA;#define __HISTORICAL_H_INCLUDED__&#xA;&#xA;//======================&#xA;// forward declared dependencies&#xA;&#xA;//======================&#xA;// included dependencies::&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;fstream&amp;gt;&#xA;#include &amp;lt;stdio.h&amp;gt; &#xA;#include &amp;lt;curl/curl.h&amp;gt; &#xA;#include &amp;lt;string&amp;gt;&#xA;&#xA;//======================&#xA;// historical::&#xA;&#xA;using namespace std;&#xA;class historical {&#xA;public:&#xA;    historical(string symbol);&#xA;    string* getHistorical();&#xA;    ~historical();&#xA;private:&#xA;    string _mHistorical;&#xA;    string _mQueryString;&#xA;};&#xA;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;geostocks.cpp (including main())&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// geostocks.cpp : Defines the entry point for the console application.&#xA;//&#xA;&#xA;#include &quot;stdafx.h&quot;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;fstream&amp;gt;&#xA;#include &amp;lt;stdio.h&amp;gt; &#xA;#include &amp;lt;curl/curl.h&amp;gt; &#xA;#include &amp;lt;string&amp;gt;&#xA;#include &quot;historical.h&quot;&#xA;using namespace std;&#xA;&#xA;void writer(string* pInput);&#xA;&#xA;static size_t WriteCallback(void *contents, size_t size, size_t nmemb, void *userp)&#xA;{&#xA;    ((std::string*)userp)-&amp;gt;append((char*)contents, size * nmemb);&#xA;    return size * nmemb;&#xA;}&#xA;&#xA;&#xA;&#xA;int main(void)&#xA;{&#xA;    historical his(&quot;AAPL&quot;);&#xA;    string output;&#xA;&#xA;    output = *his.getHistorical();&#xA;    writer(&amp;amp;output);&#xA;&#xA;    return 0;&#xA;}&#xA;&#xA;void writer(string* pInput) {&#xA;    ofstream mf(&quot;test.csv&quot;);&#xA;    if (mf.is_open()) {&#xA;        mf &amp;lt;&amp;lt; *pInput;&#xA;        mf.close();&#xA;    }&#xA;    else cout &amp;lt;&amp;lt; &quot;Unable to open file&quot; &amp;lt;&amp;lt; endl;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="5986941" LastEditorUserId="205233" LastEditDate="2016-03-01T11:00:33.187" LastActivityDate="2016-03-01T11:40:34.333" Title="How do includes affect execution time in c++?" Tags="&lt;c++&gt;&lt;csv&gt;&lt;header&gt;&lt;runtime&gt;" AnswerCount="3" CommentCount="4" />
  <row Id="35894076" PostTypeId="1" AcceptedAnswerId="35894573" CreationDate="2016-03-09T14:17:21.470" Score="0" ViewCount="82" Body="&lt;p&gt;I have a problem with the compiling of my program, when I test something like &quot;./philo -p 3 -e 4&quot; I get the error &#xA;philo: tpp.c:62: __pthread_tpp_change_priority: Assertion `new_prio == -1 || (new_prio &gt;= __sched_fifo_min_prio &amp;amp;&amp;amp; new_prio &amp;lt;= __sched_fifo_max_prio)' failed.&#xA;Aborted&lt;/p&gt;&#xA;&#xA;&lt;p&gt;But I don't understand where it does come from, as it's working sometimes, for exemple if I test &quot;./philo -p 2 -e 4&quot; it doesn't crash.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The two .h &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef                 _PHILO_H_&#xA;# define                _PHILO_H_&#xA;#include                &amp;lt;pthread.h&amp;gt;&#xA;&#xA;typedef struct          s_philosop&#xA;{&#xA;  pthread_t             philosophers;&#xA;  pthread_mutex_t       *chopsticks1;&#xA;  pthread_mutex_t       *chopsticks2;&#xA;  int                   nbr_occ;&#xA;}                       t_philosop;&#xA;&#xA;int                     parse_arg(char **argv, int *philo, int *occ);&#xA;int                     create_threads_mutex(int nbr_philo, int occurences);&#xA;void                    *start_routine(void *arg);&#xA;void                    philosoph_eating_chopsticks(t_philosop *philosop);&#xA;&#xA;#endif                  /* !_PHILO_H_ */&#xA;&#xA;&#xA;#ifndef __LIBRICEFEREE_EXTERN__&#xA;# define __LIBRICEFEREE_EXTERN__&#xA;&#xA;#include &amp;lt;pthread.h&amp;gt;&#xA;int     RCFStartup(int ac, char **av);&#xA;void    RCFCleanup();&#xA;int     lphilo_eat();&#xA;int     lphilo_sleep();&#xA;int     lphilo_think();&#xA;int     lphilo_take_chopstick(const pthread_mutex_t *mutex_id);&#xA;int     lphilo_release_chopstick(const pthread_mutex_t *mutex_id);&#xA;&#xA;#endif  /* __LIBRICEFEREE_EXTERN__ */&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And this is my .c&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;string.h&amp;gt;&#xA;#include &amp;lt;stdlib.h&amp;gt;&#xA;#include &amp;lt;pthread.h&amp;gt;&#xA;#include &amp;lt;unistd.h&amp;gt;&#xA;#include &quot;philo.h&quot;&#xA;#include &quot;extern.h&quot;&#xA;&#xA;void                    philosoph_comportement(t_philosop *philosop)&#xA;{&#xA;  int                   i = 0;&#xA;  if ((pthread_mutex_lock(philosop-&amp;gt;chopsticks1)) == 0)&#xA;    {&#xA;      printf(&quot;%s\n&quot;, &quot;Taking left stick&quot;);&#xA;      lphilo_take_chopstick(philosop-&amp;gt;chopsticks1);&#xA;      i++;&#xA;    }&#xA;  if ((pthread_mutex_lock(philosop-&amp;gt;chopsticks2)) == 0)&#xA;    {&#xA;      printf(&quot;%s\n&quot;, &quot;Taking right stick&quot;);&#xA;      lphilo_take_chopstick(philosop-&amp;gt;chopsticks2);&#xA;      i++;&#xA;    }&#xA;  if (i == 2)&#xA;    {&#xA;      printf(&quot;%s\n&quot;, &quot;Eat&quot;);&#xA;      lphilo_eat();&#xA;      sleep(1);&#xA;      printf(&quot;%s\n&quot;, &quot;Sleep&quot;);&#xA;      pthread_mutex_unlock(philosop-&amp;gt;chopsticks1);&#xA;      pthread_mutex_unlock(philosop-&amp;gt;chopsticks2);&#xA;      lphilo_release_chopstick(philosop-&amp;gt;chopsticks1);&#xA;      lphilo_release_chopstick(philosop-&amp;gt;chopsticks2);&#xA;      lphilo_sleep();&#xA;    }&#xA;}&#xA;&#xA;void                    *start_routine(void *arg)&#xA;{&#xA;  t_philosop            *philosop;&#xA;  int                   i;&#xA;&#xA;  i = 0;&#xA;  philosop = (t_philosop *)arg;&#xA;  while (i != philosop-&amp;gt;nbr_occ)&#xA;    {&#xA;      philosoph_comportement(philosop);&#xA;      i++;&#xA;    }&#xA;  return (0);&#xA;}&#xA;&#xA;int                     create_threads_mutex(int nbr_philo, int occurences)&#xA;{&#xA;  int                   i;&#xA;  t_philosop            *philosop;&#xA;  pthread_mutex_t       *chopsticks;&#xA;&#xA;  i = -1;&#xA;  if ((chopsticks = malloc(sizeof(pthread_mutex_t) * nbr_philo)) == NULL)&#xA;    return (2);&#xA;  if ((philosop = malloc(sizeof(t_philosop) * nbr_philo)) == NULL)&#xA;    return (2);&#xA;  while (++i != nbr_philo)&#xA;    {&#xA;      philosop[i].nbr_occ = occurences;&#xA;      philosop[i].chopsticks1 = &amp;amp;chopsticks[i];&#xA;      if (i - 1 &amp;lt; 0)&#xA;        philosop[i].chopsticks2 = &amp;amp;chopsticks[nbr_philo];&#xA;      else&#xA;        philosop[i].chopsticks2 = &amp;amp;chopsticks[i - 1];&#xA;    }&#xA;  i = -1;&#xA;  while (++i != nbr_philo)&#xA;    pthread_create(&amp;amp;philosop[i].philosophers, NULL, start_routine, &amp;amp;philosop[i]);&#xA;  i = -1;&#xA;  while (++i != nbr_philo)&#xA;    {&#xA;      printf(&quot;Philo number : %d\n&quot;, i);&#xA;      pthread_join(philosop[i].philosophers, NULL);&#xA;    }&#xA;  return (0);&#xA;}&#xA;&#xA;int                     parse_arg(char **argv, int *philo, int *occ)&#xA;{&#xA;  if (strcmp(argv[1], &quot;-p&quot;) == 0 &amp;amp;&amp;amp; strcmp(argv[3], &quot;-e&quot;) == 0 &amp;amp;&amp;amp;&#xA;      argv[2] != NULL &amp;amp;&amp;amp; argv[4] != NULL)&#xA;    {&#xA;      *philo = atoi(argv[2]);&#xA;      *occ = atoi(argv[4]);&#xA;    }&#xA;  else if (strcmp(argv[1], &quot;-e&quot;) == 0 &amp;amp;&amp;amp; strcmp(argv[3], &quot;-p&quot;) == 0 &amp;amp;&amp;amp;&#xA;           argv[2] != NULL &amp;amp;&amp;amp; argv[4] != NULL)&#xA;    {&#xA;      *philo = atoi(argv[4]);&#xA;      *occ = atoi(argv[2]);&#xA;    }&#xA;  else&#xA;    return (2);&#xA;  return (0);&#xA;}&#xA;&#xA;int                     main(int argc, char **argv)&#xA;{&#xA;  int                   philo;&#xA;  int                   occurences;&#xA;&#xA;  philo = 0;&#xA;  occurences = 0;&#xA;  if (argc != 5)&#xA;    return (2);&#xA;  if ((parse_arg(argv, &amp;amp;philo, &amp;amp;occurences)) == 2)&#xA;    return (2);&#xA;  RCFStartup(argc, argv);&#xA;  if ((create_threads_mutex(philo, occurences)) == 2)&#xA;    return (2);&#xA;  RCFCleanup();&#xA;  return (0);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="4970088" LastActivityDate="2016-03-09T14:37:36.523" Title="Issues with pthread in C" Tags="&lt;c&gt;&lt;multithreading&gt;&lt;pthreads&gt;&lt;mutex&gt;&lt;assertion&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="36114174" PostTypeId="1" CreationDate="2016-03-20T13:16:04.787" Score="1" ViewCount="45" Body="&lt;p&gt;I would like to make namespace &lt;code&gt;Solids&lt;/code&gt; which does nothing more than stores informations about vertexes and edge / face connectivity for several common solids such as &lt;a href=&quot;https://en.wikipedia.org/wiki/Platonic_solid&quot; rel=&quot;nofollow&quot;&gt;platonic solids&lt;/a&gt;. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;So I did this header file &lt;code&gt;Solids.h&lt;/code&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  Solids_h&#xA;#define  Solids_h&#xA;&#xA;#include &quot;Vec3.h&quot; // this is my class of 3D vector, e.g. class Vec3d{double x,y,z;}&#xA;&#xA;namespace Solids{&#xA;&#xA;    struct Tetrahedron{&#xA;        const static int    nVerts = 4;&#xA;        const static int    nEdges = 6;&#xA;        const static int    nTris  = 4;&#xA;        constexpr static Vec3d verts [nVerts]    = { {-1.0d,-1.0d,-1.0d}, {+1.0d,+1.0d,-1.0d}, {-1.0d,+1.0d,+1.0d}, {+1.0d,-1.0d,+1.0d} };&#xA;        constexpr static int   edges [nEdges][2] = { {0,1},{0,2},{0,3}, {1,2},{1,3},{2,3} };&#xA;        constexpr static int   tris  [nTris ][3] = { {0,1,2},{0,1,3},{0,2,3},{1,2,3} };&#xA;    } tetrahedron;&#xA;&#xA;};&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Then in my program which includes &lt;code&gt;Solids.h&lt;/code&gt; I want to plot it like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;void drawTriangles( int nlinks, const int * links, const Vec3d * points ){&#xA;    int n2 = nlinks*3;&#xA;    glBegin( GL_TRIANGLES );&#xA;    for( int i=0; i&amp;lt;n2; i+=3 ){&#xA;        Vec3f a,b,c,normal;&#xA;        convert( points[links[i  ]], a ); // this just converts double to float verion of Vec3&#xA;        convert( points[links[i+1]], b );&#xA;        convert( points[links[i+2]], c );&#xA;        normal.set_cross( a-b, b-c );&#xA;        normal.normalize( );&#xA;        glNormal3f( normal.x, normal.y, normal.z );&#xA;        glVertex3f( a.x, a.y, a.z );&#xA;        glVertex3f( b.x, b.y, b.z );&#xA;        glVertex3f( c.x, c.y, c.z );&#xA;    }&#xA;    glEnd();&#xA;};&#xA;&#xA;// ommited some code there&#xA;int main(){&#xA;   drawTriangles( Solids::tetrahedron.nTris, (int*)(&amp;amp;Solids::tetrahedron.tris[0][0]), Solids::tetrahedron.verts );&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;however when I do, I get &lt;code&gt;undefined reference to Solids::Tetrahedron::verts&lt;/code&gt;. Which is probably connected with this &lt;a href=&quot;http://stackoverflow.com/questions/5391973/undefined-reference-to-static-const-int]&quot;&gt;undefined-reference-to-static-const-int&lt;/a&gt; issue. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;So I guess the solution should be something like initialize it outside of &lt;code&gt;namespace{}&lt;/code&gt; and outside of &lt;code&gt;struc{}&lt;/code&gt; declaration ?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Like: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Solids::Tetrahedron::tris [Solids::Tetrahedron::nTris ][3] = { {0,1,2},{0,1,3},{0,2,3},{1,2,3} };&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;or: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Solids::Tetrahedron.tris [Solids::Tetrahedron.nTris ][3] = { {0,1,2},{0,1,3},{0,2,3},{1,2,3} };&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Isn't there any more elegant solution ?&lt;/strong&gt;&lt;/p&gt;&#xA;" OwnerUserId="1291544" LastEditorUserId="734069" LastEditDate="2016-03-20T14:02:46.193" LastActivityDate="2016-03-20T20:23:10.437" Title="Initialization of constant structures, classes and arrays in namespace" Tags="&lt;c++&gt;&lt;c++11&gt;&lt;namespaces&gt;&lt;initialization&gt;&lt;constants&gt;" AnswerCount="1" CommentCount="5" />
  <row Id="36373129" PostTypeId="1" AcceptedAnswerId="36377677" CreationDate="2016-04-02T12:16:50.323" Score="-4" ViewCount="45" Body="&lt;p&gt;In header file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  Array_h&#xA;#define  Array_h&#xA;&#xA;#include &quot;stdafx.h&quot;&#xA;&#xA;using namespace std;&#xA;&#xA;template&amp;lt;class T&amp;gt;&#xA;class Arrayc&#xA;{ &#xA;private:&#xA;    int Arraysize;&#xA;    int length;&#xA;    T *array;&#xA;public:&#xA;    Arrayc(int size);&#xA;    ~Arrayc();&#xA;};&#xA;template&amp;lt;class T&amp;gt;&#xA;Arrayc&amp;lt;T&amp;gt;::Arrayc(int size)&#xA;{&#xA;    Arraysize = size;&#xA;    length = 0;&#xA;    array = new T[Arraysize];&#xA;}&#xA;#endif &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In main source file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Arrayc&amp;lt;int&amp;gt; *Arrayofintegers;&#xA;Arrayc&amp;lt;float&amp;gt; *Arrayoffloat;&#xA;// These lines have the error&#xA;Arrayofintegers = new Arrayc&amp;lt;int&amp;gt;::Arrayc(10);&#xA;Arrayoffloat = new Arrayc&amp;lt;float&amp;gt;::Arrayc(5);  &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="3505821" LastEditorUserId="1405588" LastEditDate="2016-04-02T19:13:42.460" LastActivityDate="2016-04-02T19:16:23.630" Title="why i get {error :2061 identifier {ctor" Tags="&lt;c++&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="36517568" PostTypeId="1" CreationDate="2016-04-09T13:41:14.587" Score="0" ViewCount="11" Body="&lt;p&gt;I have started learning Qt.I understand the the preprocessor directive define and ifndef but I am a bit confused with the purpose of this two lines.&#xA;(first two lines of mainwindow.h)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef    MAINWINDOW_H&#xA;#define    MAINWINDOW_H&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="5843036" LastEditorUserId="5843036" LastEditDate="2016-04-09T13:56:41.967" LastActivityDate="2016-04-09T13:56:41.967" Title="QT:#ifndef MAINWINDOW_h and #define MAINWINDOW_H: Answered" Tags="&lt;c++&gt;&lt;qt&gt;&lt;c-preprocessor&gt;" AnswerCount="0" CommentCount="1" ClosedDate="2016-04-09T13:45:53.767" />
  <row Id="36836337" PostTypeId="1" AcceptedAnswerId="36836625" CreationDate="2016-04-25T09:14:17.363" Score="0" ViewCount="123" Body="&lt;p&gt;The code I am working has multiple headers and source files for different classes &lt;code&gt;face.cc, face.hh, cell.cc, cell.hh edge.cc edge.hh&lt;/code&gt; and the headers contain includes like this,  &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef cellINCLUDED&#xA;#define cellINCLUDED&#xA;&#xA;#ifndef faceINCLUDED&#xA;#define faceINCLUDED&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I saw through &lt;a href=&quot;http://www.cplusplus.com/forum/articles/10627/&quot; rel=&quot;nofollow&quot;&gt;http://www.cplusplus.com/forum/articles/10627/&lt;/a&gt; and saw the way to write include guard is &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef __MYCLASS_H_INCLUDED__&#xA;#define __MYCLASS_H_INCLUDED__&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So in above code that I am working on, does compiler automatically understands it is looking for &lt;code&gt;face.hh&lt;/code&gt; or &lt;code&gt;cell.hh&lt;/code&gt; files? &lt;/p&gt;&#xA;&#xA;&lt;p&gt;better question : Is writing &lt;code&gt;__CELL_H_INCLUDED__&lt;/code&gt; same as &lt;code&gt;cellINCLUDED&lt;/code&gt; ? &lt;/p&gt;&#xA;" OwnerUserId="5516267" LastEditorUserId="5516267" LastEditDate="2016-04-25T09:20:12.130" LastActivityDate="2016-04-25T09:46:10.667" Title="Need clarification on #ifndef #define" Tags="&lt;c++&gt;&lt;include-guards&gt;" AnswerCount="4" CommentCount="4" />
  <row Id="36950049" PostTypeId="1" AcceptedAnswerId="36950334" CreationDate="2016-04-30T02:31:10.883" Score="-1" ViewCount="83" Body="&lt;p&gt;Is there any way to convert C++(STL) code to QT (QTL)?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have a code written using STL (string, vector, iostream, fstream) and &#xA;I want to add it to my Qt Project (QString, QVector, ... when used).&#xA;My ideal way is to make it QTL-STL-compatible by adding some defines&#xA;in &lt;code&gt;.h&lt;/code&gt; file like following&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// STL to QTL&#xA;#ifdef STL_CPP&#xA;    #include &amp;lt;string&amp;gt;&#xA;    #include&amp;lt;vector&amp;gt;&#xA;#else // QTL&#xA;    #include &amp;lt;QString&amp;gt;&#xA;    #define string QString&#xA;    #include &amp;lt;QVector&amp;gt;&#xA;    #define vector QVector&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Is there any existing work can convert some most commonly used STL code without &#xA;changing the source code ?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Note that I don't want to convert std datatype to qt datatype&lt;/strong&gt;, what I want is to &#xA;make a code can used in both Qt project(ifndef &lt;code&gt;STL_CPP&lt;/code&gt;) and C++ project (ifdef &lt;code&gt;STL_CPP&lt;/code&gt;). &lt;/p&gt;&#xA;" OwnerUserId="5181908" LastEditorUserId="5181908" LastEditDate="2016-04-30T03:00:39.803" LastActivityDate="2016-04-30T03:21:54.620" Title="How to make a c++ code can be used in both Qt project (QTL style) and C++ project (STL style)" Tags="&lt;qt&gt;&lt;stl&gt;&lt;qvector&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="37118625" PostTypeId="1" CreationDate="2016-05-09T14:38:59.847" Score="2" ViewCount="140" Body="&lt;p&gt;I want to have a custom template item in VS2015.&#xA;I've created what I need, but I want to adjust some &quot;look and feel&quot; of the template.&#xA;The template for a c++ header looks like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef $safeitemname$_$guid1$&#xA;#define $safeitemname$_$guid1$&#xA;&#xA;&#xA;namespace $safeprojectname$&#xA;{&#xA;&#xA;class $safeitemname$ final&#xA;{&#xA;&#xA;public:&#xA;    $safeitemname$();       &#xA;&#xA;    ~$safeitemname$();              &#xA;&#xA;    $safeitemname$( const $safeitemname$&amp;amp; ) = delete;    &#xA;&#xA;    $safeitemname$&amp;amp; operator=( const $safeitemname$&amp;amp; ) = delete;&#xA;&#xA;&#xA;private:    &#xA;&#xA;};    &#xA;&#xA;}    &#xA;&#xA;#endif &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;What I want to achieve is: uppercase &lt;code&gt;$safeitemname$&lt;/code&gt; and &lt;code&gt;$guid$&lt;/code&gt; in the define, and also underscored &lt;code&gt;$guid$&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;It is possible? How can I do it?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I saw another thread about something similar, but with no answer:&#xA;&lt;a href=&quot;http://stackoverflow.com/questions/31171992/upercase-visual-studio-2013-project-template-itemname&quot;&gt;Upercase Visual Studio 2013 project template $itemname$&lt;/a&gt;&lt;/p&gt;&#xA;" OwnerUserId="5520058" LastEditorUserId="5520058" LastEditDate="2016-08-24T08:55:46.760" LastActivityDate="2016-08-24T12:12:53.780" Title="Uppercase Visual Studio itemTemplate Parameters" Tags="&lt;c++&gt;&lt;visual-studio-2015&gt;&lt;itemtemplate&gt;" AnswerCount="1" CommentCount="2" />
  <row Id="37275202" PostTypeId="1" AcceptedAnswerId="37278802" CreationDate="2016-05-17T11:45:30.713" Score="0" ViewCount="31" Body="&lt;p&gt;I have several c++ objects that I'd like to compile using a single target. If possible I'll make a variable in the makefile that list all the object files and then have a single target that compiles them all.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Following &lt;a href=&quot;http://stackoverflow.com/questions/8822591/writing-a-makefile-rule-for-a-single-target-with-multiple-dependacies&quot;&gt;this question&lt;/a&gt; I have the following &quot;Makefile&quot; so far:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#### Directories and flags&#xA;&#xA;ifndef $(DIR_MAIN)&#xA;  DIR_MAIN=../..&#xA;endif&#xA;&#xA;DIR_EXE=$(DIR_MAIN)&#xA;DIR_SRC=$(DIR_MAIN)/src/Analyse_MC&#xA;DIR_MISC_SRC=$(DIR_MAIN)/src/Misc&#xA;DIR_BLD=$(DIR_MAIN)/build/Analyse_MC&#xA;DIR_MISC_BLD=$(DIR_MAIN)/build/Misc&#xA;COMP=g++&#xA;&#xA;COMPILE_FLAGS= -std=c++11 -O3 -lstdc++ `pkg-config --cflags eigen3` -msse2 -I${DIR_MISC_SRC}&#xA;LINK_FLAGS= -O3 -fopenmp -lgsl -lgslcblas -lm -lhdf5_cpp -lhdf5&#xA;&#xA;OBSERVABLE_OBJECTS=g_decomp_IP_orthog_sphere.o g_decomp_LS_orthog_sphere.o g_decomp_IP_disk.o g_decomp_LS_disk.o find_rank.o eigenvectors.o GramSchmidt.o diagonal_Hamiltonian.o mean_log_WF.o energy.o JK_EP_overlap.o overlap.o geo_mean_eigstate_overlap.o eigstate_overlap.o pair_corr_bins.o&#xA;&#xA;&#xA;#### Compile all&#xA;&#xA;all: setup observables $(DIR_EXE)/Analyse_MC&#xA;&#xA;setup:&#xA;    @mkdir -p $(DIR_BLD)&#xA;&#xA;#### Compile observable objects&#xA;&#xA;observables: $(addsuffix -stamp,$(OBSERVABLE_OBJECTS))&#xA;&#xA;%.-stamp : %.o&#xA;    ${COMP} -c -o $@ $&amp;lt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;However when running &lt;code&gt;make&lt;/code&gt; I get the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;make: *** No rule to make target `g_decomp_IP_orthog_sphere.o-stamp', needed by `observables'.  Stop.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So I've misunderstood something.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If possible I'd also like each of the objects to be updated with changes in &lt;code&gt;.h&lt;/code&gt;-files with the name of the object in addition to some common &lt;code&gt;.h&lt;/code&gt;-files for all of the objects. Is this possible?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Or do I have to / is it recommended to write a separate target for each object?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Some info about the variables:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;DIR_MAIN is defined the way it is because usually this makefile will be called from another makefile which defines DIR_MAIN from its directory using &lt;code&gt;pwd&lt;/code&gt;; but ut can also be called on its own from its own directory.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;DIR_MISC_SRC points to some header files necessary for the files in DIR_SRC.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;DIR_BLD and DIR_MISC_BLD will contain the corresponding resulting object files.&lt;/p&gt;&#xA;" OwnerUserId="1540547" LastEditorUserId="1540547" LastEditDate="2016-05-17T13:57:18.400" LastActivityDate="2016-05-17T15:05:51.787" Title="Makefile: compiling several objects with single target" Tags="&lt;object&gt;&lt;makefile&gt;" AnswerCount="1" CommentCount="6" />
  <row Id="37287198" PostTypeId="1" AcceptedAnswerId="37295548" CreationDate="2016-05-17T22:25:38.263" Score="1" ViewCount="64" Body="&lt;p&gt;I have a set of programs that compile fine on Ubuntu and I'm working on a setup to compile on Windows as well. I'm using MSYS2.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;There is a main Makefile which looks like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#### Project main directory&#xA;&#xA;DIR_MAIN=$(shell pwd)&#xA;&#xA;#### Compile all&#xA;&#xA;all:&#xA;    @$(MAKE) -C src/Misc DIR_MAIN=$(DIR_MAIN)&#xA;    @$(MAKE) -C src/CF_states DIR_MAIN=$(DIR_MAIN)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;etcetera. In &lt;code&gt;src/&lt;/code&gt; there are folders each who contain a specific Makefile for that project. They have the following structure:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#### Directories and flags&#xA;&#xA;ifndef $(DIR_MAIN)&#xA;  DIR_MAIN=../..&#xA;endif&#xA;&#xA;DIR_EXE=$(DIR_MAIN)/Programs&#xA;DIR_SRC=$(DIR_MAIN)/src/Misc&#xA;DIR_SFMT_SRC=$(DIR_MAIN)/src/sfmt&#xA;DIR_BLD=$(DIR_MAIN)/build/Misc&#xA;COMP=g++&#xA;&#xA;COMPILE_FLAGS= -std=c++11 -O3 -lstdc++ -msse2&#xA;LINK_FLAGS= -O3 -fopenmp -lgsl -lgslcblas -lm -lhdf5_cpp -lhdf5&#xA;&#xA;&#xA;#### Compile all&#xA;&#xA;all: setup $(DIR_BLD)/input.o $(DIR_BLD)/misc_sphere.o $(DIR_BLD)/misc.o &#xA;&#xA;setup:&#xA;    @mkdir -p $(DIR_BLD)&#xA;    @mkdir -p $(DIR_EXE)&#xA;&#xA;#### Misc source&#xA;&#xA;$(DIR_BLD)/input.o: $(DIR_SRC)/input.cpp $(DIR_SRC)/input.h $(DIR_SRC)/misc_sphere.h&#xA;    ${COMP} -c input.cpp ${COMPILE_FLAGS} -o $@&#xA;&#xA;$(DIR_BLD)/misc_sphere.o: $(DIR_SRC)/misc_sphere.cpp $(DIR_SRC)/misc_sphere.h $(DIR_SRC)/misc.h&#xA;    ${COMP} -c misc_sphere.cpp ${COMPILE_FLAGS} -o $@&#xA;&#xA;$(DIR_BLD)/misc.o: $(DIR_SRC)/misc.cpp $(DIR_SRC)/misc.h&#xA;    ${COMP} -c misc.cpp ${COMPILE_FLAGS} -o $@&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;In this way the specific Makefiles can be run from their folder in &lt;code&gt;src/&lt;/code&gt;, using relative paths, or from the main Makefile, using absolute paths.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This works on Ubuntu but on MSYS2 only the relative paths work, i.e. running each of the specific Makefiles from their folders. When I run the main Makefile using &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;mingw32-make.exe&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I get the error&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$ mingw32-make.exe&#xA;mingw32-make[1]: Entering directory 'C:/msys64/home/Jorgen/fqhe_mc_sphere/src/Misc'&#xA;mingw32-make[1]: *** No rule to make target '/home/Jorgen/fqhe_mc_sphere/src/Misc/input.cpp', needed by '/home/Jorgen/fqhe_mc_sphere/build/Misc/input.o'.  Stop.&#xA;mingw32-make[1]: Leaving directory 'C:/msys64/home/Jorgen/fqhe_mc_sphere/src/Misc'&#xA;Makefile:8: recipe for target 'all' failed&#xA;mingw32-make: *** [all] Error 2&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;even though the file &lt;code&gt;/home/Jorgen/fqhe_mc_sphere/src/Misc/input.cpp&lt;/code&gt; is there, as I can check using &lt;code&gt;ls&lt;/code&gt;. Any idea why?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT: &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Changing the first target to relative paths except for the result, i.e.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(DIR_BLD)/input.o: input.cpp input.h misc_sphere.h&#xA;    ${COMP} -c input.cpp ${COMPILE_FLAGS} -o $@&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I get a similar error for the output object file:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Fatal error: can't create /home/Jorgen/fqhe_mc_sphere/build/Misc/input.o: No such file or directory&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Although the folder &lt;code&gt;/home/Jorgen/fqhe_mc_sphere/build/Misc/&lt;/code&gt; does exist.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I tried running MSYS2 as administrator which didn't help.&lt;/p&gt;&#xA;" OwnerUserId="1540547" LastEditorUserId="1540547" LastEditDate="2016-05-17T22:43:42.310" LastActivityDate="2016-05-18T09:31:31.797" Title="Makefile only working with relative paths on MSYS2 (WIndows)" Tags="&lt;windows&gt;&lt;path&gt;&lt;makefile&gt;&lt;relative-path&gt;&lt;msys2&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="37308664" PostTypeId="1" AcceptedAnswerId="37308728" CreationDate="2016-05-18T19:36:23.893" Score="-2" ViewCount="106" Body="&lt;p&gt;I understand that the #define function is a pre-processor command that basically copies and pastes chunks of code for the lack of a better explanation. What I am not clear about is in the templates for Eclipse header files it inserts:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef &amp;lt;FileName&amp;gt;_H&#xA;#define &amp;lt;FileName&amp;gt;_H&#xA;&#xA;//Code, definitions etc....&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I understand that it is defining a variable to tell something that the file was defined, what I don't know is why? Is this sort of the same thing in PHP as #INCLUDE_ONCE? I tried to search for this on here and Google but I am not quite sure what the nomenclature is for what I want, everything that I found explains what it is, how it works etc...&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;&lt;strong&gt;EDIT&lt;/strong&gt;&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;Since this is similar to a #include once in PHP, what is the best practice for putting #include statements? I would assume that you would want them inside the #define so they didn't get included if the file was already included is this also correct? If the included files were outside of the #define command wouldn't they be included regardless?&lt;/p&gt;&#xA;" OwnerUserId="1601882" LastEditorUserId="1601882" LastEditDate="2016-05-19T14:05:04.180" LastActivityDate="2016-05-19T14:05:04.180" Title="Why do Eclipse-generated header files start with #ifndef and #define?" Tags="&lt;c&gt;&lt;c-preprocessor&gt;" AnswerCount="1" CommentCount="4" ClosedDate="2016-05-18T19:44:58.507" />
  <row Id="37697475" PostTypeId="1" CreationDate="2016-06-08T08:43:16.843" Score="2" ViewCount="124" Body="&lt;p&gt;I have a bunch of &lt;code&gt;#pragma message(&quot;A message&quot;)&lt;/code&gt;s in a &lt;code&gt;config.h&lt;/code&gt; header that gets included in many places in the project; the goal is to inform which configuration options are chosen during build. The header is protected by &lt;code&gt;#ifndef #define&lt;/code&gt; style headerguards. The problem is that every time this header gets included, the message is printed. Is there a better way to do this so that the message gets printed only once during the build?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt; I understand that build options are usually manipulated and viewed with build tools such as cmake, qmake, autotools etc. but I don't really have a choice on the build tools due to the nature of the project.&lt;/p&gt;&#xA;" OwnerUserId="1525238" LastEditorUserId="1525238" LastEditDate="2016-06-08T11:29:56.980" LastActivityDate="2016-12-20T07:54:45.003" Title="Show #pragma message in header only once during build" Tags="&lt;c&gt;&lt;gcc&gt;&lt;c-preprocessor&gt;&lt;pragma&gt;" AnswerCount="2" CommentCount="5" FavoriteCount="0" />
  <row Id="37871832" PostTypeId="1" CreationDate="2016-06-17T01:38:59.097" Score="1" ViewCount="53" Body="&lt;p&gt;Value.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  VALUE_H&#xA;#define VALUE_H&#xA;#include &amp;lt;map&amp;gt;&#xA;#include &amp;lt;string&amp;gt;&#xA;std::map&amp;lt;uint8_t, std::string&amp;gt; status;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Value.cpp&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;Value.h&quot;&#xA;std::map&amp;lt;uint8_t, std::string&amp;gt; status = {&#xA;    { 0x00, &quot;Status1&quot; },&#xA;    { 0x11, &quot;Status2&quot; },&#xA;    { 0x10, &quot;Status3&quot; }&#xA;};&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But I kept getting &lt;strong&gt;redefinition; multiple initialization&lt;/strong&gt; Error; How should I declare and initialize? I want the map to be global. Is it possible to not wrap the map in a class? I just want this file to be an information of map and values for other files.&lt;/p&gt;&#xA;" OwnerUserId="5151542" LastEditorUserId="3309790" LastEditDate="2016-06-17T01:50:53.170" LastActivityDate="2016-06-17T01:50:53.170" Title="Separate map declaration and initialization" Tags="&lt;c++&gt;&lt;dictionary&gt;&lt;declaration&gt;&lt;definition&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="38708475" PostTypeId="1" CreationDate="2016-08-01T21:33:01.943" Score="2" ViewCount="309" Body="&lt;p&gt;How to use SWIG to binding to QT application, our situation is almost the same as the situation in this &lt;a href=&quot;http://lists.qt-project.org/pipermail/pyside/2013-January/000957.html&quot; rel=&quot;nofollow&quot;&gt;post&lt;/a&gt;, which says:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;ul&gt;&#xA;  &lt;li&gt;We have a big C++/Qt application with a Swig binding of the core.&lt;/li&gt;&#xA;  &lt;li&gt;We wanted to create new UI tools in python which need to use some of&#xA;  our C++ widgets. So we need a binding of our C++ widgets. As our core&#xA;  binding is written in Swig (and we are happy with that) we need to bind our&#xA;  widgets with the same binding tool for compatibility.&lt;/li&gt;&#xA;  &lt;/ul&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;Seems they had successfully created binding of Qt in SWIG, but there seems not easy to wrap QT using swig because QT application with macro Q_OBJECT will generate moc files at precompile time and at compile time these files are used. I tried this: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt; swig -c++ -python application.i&#xA;application.h:46: Error: Syntax error in input(3)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;it always give error about line 46 which indicate to Q_OBJECT.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I also found &lt;a href=&quot;https://sourceforge.net/p/swig/mailman/message/30818925/&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;https://github.com/swig/swig/issues/88#issuecomment-202054188&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; saying that it's impossible to use swig to wrap QT, I am so confused about this, can someone show some light about this if it is not feasible or if it can, give a simple example about using SWIG wrap QT. Thanks in advance.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt; source file: application.h&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   APPLICATION_H_&#xA;#define   APPLICATION_H_&#xA;&#xA;#include &amp;lt;QApplication&amp;gt;&#xA;&#xA;class frameApplication : public QApplication&#xA;{&#xA;    Q_OBJECT&#xA;&#xA;public:&#xA;    frameApplication (){};&#xA;    virtual ~frameApplication();&#xA;&#xA;private slots:&#xA;    void OnExitApp();&#xA;&#xA;};&#xA;#endif  // APPLICATION_H_&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;application.i&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;%module application&#xA;%{&#xA;#include &quot;application.h&quot;&#xA;%}&#xA;%include &quot;application.h&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This is a simplified version of application.h, using above SWIG command, the error message remains the same except the line number. &lt;/p&gt;&#xA;" OwnerUserId="4277805" LastEditorUserId="4277805" LastEditDate="2016-08-03T01:13:33.723" LastActivityDate="2016-08-03T18:39:35.013" Title="Can we use SWIG to make python bindings for Qt application?" Tags="&lt;python&gt;&lt;c++&gt;&lt;qt&gt;&lt;swig&gt;" AnswerCount="1" CommentCount="5" FavoriteCount="2" />
  <row Id="38888976" PostTypeId="1" AcceptedAnswerId="38889099" CreationDate="2016-08-11T06:38:10.133" Score="4" ViewCount="102" Body="&lt;p&gt;Class &lt;code&gt;A&lt;/code&gt; is the sole instantiator and container of instances of class &lt;code&gt;B&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So it seemed like a good idea to make the constructor of class &lt;code&gt;B&lt;/code&gt; private, and call it only by a friend function declared in class &lt;code&gt;B&lt;/code&gt; and defined in class &lt;code&gt;A&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;File A.h&lt;/strong&gt; (EDIT: included enum defined in class B)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   A_H&#xA;#define   A_H&#xA;&#xA;#include &quot;B.h&quot;&#xA;&#xA;using namespace std;&#xA;&#xA;class A&#xA;{   public:&#xA;    A();&#xA;    shared_ptr&amp;lt;B&amp;gt; CreateBInstance( const B::ENUM_STANDARD_COLORS );&#xA;    shared_ptr&amp;lt;B&amp;gt; CreateBInstance( const string );  // Custom color&#xA;&#xA;    private:&#xA;    unique_ptr&amp;lt;map&amp;lt;int, shared_ptr&amp;lt;B&amp;gt;&amp;gt;&amp;gt; UPTR__BInstancesMap;&#xA;}&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;File B.h&lt;/strong&gt; (EDIT: included enum defined in class B)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef   B_H&#xA;#define   B_H&#xA;&#xA;#include &quot;A.h&quot;  // Causes chaos&#xA;&#xA;using namespace std;&#xA;&#xA;class B&#xA;{   public:&#xA;    enum class ENUM_STANDARD_COLORS : unsigned int&#xA;    {   ...     // ~70 standard colors&#xA;    };&#xA;&#xA;    private:&#xA;    B();&#xA;&#xA;    friend&#xA;    shared_ptr&amp;lt;B&amp;gt; A::CreateBInstance( const ENUM_STANDARD_COLORS );&#xA;&#xA;    friend&#xA;    shared_ptr&amp;lt;B&amp;gt; A::CreateBInstance( const string );   // Custom color&#xA;}&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Class &lt;code&gt;A&lt;/code&gt; requires a full declaration (#include) of class &lt;code&gt;B&lt;/code&gt; for &lt;code&gt;shared_ptr&amp;lt;B&amp;gt;&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Class &lt;code&gt;B&lt;/code&gt; requires some declaration of class &lt;code&gt;A&lt;/code&gt; for the friend function.&#xA;A simple forward declaration causes the error:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;invalid use of incomplete type 'struc A'&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;at the friend function declaration.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;A full declaration (#include) is far worse:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;error: prototype for 'std::shared_ptr A::CreateInstance()' does not&#xA;  match any in class 'A'&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;(but it does!) at the friend function declaration.&lt;br /&gt;&#xA;And, because class &lt;code&gt;B&lt;/code&gt; is now broken:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;error: 'B' was not declared in this scope&lt;br /&gt;error: template argument 1 is invalid&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;appears at every mention of &lt;code&gt;B&lt;/code&gt; in class &lt;code&gt;A&lt;/code&gt;, as well as in classes &lt;code&gt;F&lt;/code&gt; and &lt;code&gt;G&lt;/code&gt; (etc.) which #include class &lt;code&gt;B&lt;/code&gt; for their own use of &lt;code&gt;shared_ptr&amp;lt;B&amp;gt;&lt;/code&gt;.&lt;br /&gt;&#xA;And, because classes &lt;code&gt;F&lt;/code&gt; and &lt;code&gt;G&lt;/code&gt; are also now broken:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;error: 'F' was not declared in this scope&lt;br /&gt;error: template argument 1 is invalid&gt;&lt;br /&gt;error: 'G' was not declared in this scope&lt;br /&gt;error: template argument 1 is invalid&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;appears at every mention of &lt;code&gt;F&lt;/code&gt; and &lt;code&gt;G&lt;/code&gt; in class &lt;code&gt;A&lt;/code&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Unfortunately, the include guards don't prevent the circular inclusion.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is there a way to make this friend function work?  I've never achieved so many errors in one go!&lt;/p&gt;&#xA;" OwnerUserId="2460850" LastEditorUserId="2460850" LastEditDate="2016-12-15T07:30:54.783" LastActivityDate="2016-12-15T21:59:09.720" Title="Friend function massacred by circular includes" Tags="&lt;c++&gt;&lt;include&gt;&lt;friend&gt;&lt;circular-dependency&gt;" AnswerCount="3" CommentCount="0" />
  <row Id="39317175" PostTypeId="1" CreationDate="2016-09-04T13:00:52.900" Score="0" ViewCount="37" Body="&lt;p&gt;i am building a clang libtool, &#xA;how can i get the preprocessor information that will tell me if a given Decl is inside a scope of #if #ifdef #ifndef ?&lt;/p&gt;&#xA;" OwnerUserId="6793201" LastActivityDate="2016-09-19T07:39:16.007" Title="How to check if a Decl is inside a scope of #if directive?" Tags="&lt;clang&gt;&lt;llvm-clang&gt;&lt;libtool&gt;&lt;libtooling&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="39520728" PostTypeId="1" CreationDate="2016-09-15T21:35:52.203" Score="1" ViewCount="96" Body="&lt;p&gt;I would like to use this function (or just the String it returns):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;const char* ERROR_TYPE() {&#xA;  return &quot;unknown type detected for big.matrix object!&quot;;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;in my R(cpp) package.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I want to make it available to all my Rcpp functions (files in src/) and to all my tests (R files in tests/testthat/) .&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In other terms, I would like to use &lt;code&gt;throw Rcpp::exception(MESSAGE);&lt;/code&gt; and &lt;code&gt;testthat::expect_error(foo(), MESSAGE)&lt;/code&gt; where MESSAGE is defined &lt;em&gt;once&lt;/em&gt;.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I tried to read and test some of what is said in &lt;a href=&quot;http://dirk.eddelbuettel.com/code/rcpp/Rcpp-attributes.pdf&quot; rel=&quot;nofollow&quot;&gt;Rcpp Attributes&lt;/a&gt; but it doesn't seem to work for my problem.&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;The first thing I've tried is to define&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// [[Rcpp::export]]&#xA;const char* ERROR_TYPE() {&#xA;  return &quot;unknown type detected for big.matrix object!&quot;;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;but it doesn't scope to other Rcpp files.&#xA;Then, I tried to &lt;code&gt;#include &quot;myfile.cpp&quot;&lt;/code&gt; in others Rcpp files but I had multiple defines, even when trying to use &lt;code&gt;inline&lt;/code&gt; or &lt;code&gt;#ifndef #define #endif&lt;/code&gt; but I think it's odd for an C++ file.&#xA;Finally, I tried to use a &lt;code&gt;inst/include/mypackage.h&lt;/code&gt; and define my function or my variable there but it didn't seem to scope to other C++ functions as well.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;One trick seems to work, define an R function &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;ERROR_TYPE &amp;lt;- function() {&#xA;  &quot;unknown type detected for big.matrix object!&quot;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;and then use &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Function err(&quot;ERROR_TYPE&quot;);&#xA;throw Rcpp::exception(as&amp;lt;const char*&amp;gt;(err()));&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;in your Rcpp functions.&#xA;Doesn't seem to be good practice though.&#xA;And, it works with &lt;code&gt;devtools::test()&lt;/code&gt; but not &lt;code&gt;devtools::check()&lt;/code&gt; or Travis-CI (can't find the function) so it is not a solution as well.&lt;/p&gt;&#xA;" OwnerUserId="6103040" LastEditorUserId="6103040" LastEditDate="2016-09-16T08:58:56.047" LastActivityDate="2016-09-16T22:44:18.443" Title="Make C++ function (or variable) available to R and Rcpp functions" Tags="&lt;c++&gt;&lt;r&gt;&lt;rcpp&gt;" AnswerCount="0" CommentCount="2" />
  <row Id="39537287" PostTypeId="1" AcceptedAnswerId="39540699" CreationDate="2016-09-16T17:39:19.143" Score="1" ViewCount="43" Body="&lt;h2&gt;Edit&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;After writing this I noticed some things and went back over the file. I changed the line:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(CXX) -MT $(BUILD_DIR)/$(@:.d=.o) -MM $(CXXFLAGS) $^ &amp;gt; $@&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;To the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(CXX) -MM $(CXXFLAGS) $^ &amp;gt; $@&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Since it seemed kind of redundant to first take the generated dependency files, name them into .o files and then turn them back into .d files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Now the target actually makes, but it will still not remake when the header files are changed.&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;Original&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;I have this makefile I created as part of a course, and everything works fine when running make, building for both the host and target. The problem arises when a change occurs in a header file(example: part1.h), this implementation was made specifically to take this into account, and it seemed to work.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;A few weeks on now, and I finally realised it doesn't work as intended, as it will not recompile after a change to any of the header files. (part1.h or part2.h).&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I took a look into the dependency files generated by the target:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(BUILD_DIR)/%.d: %.cpp&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;An example of part1.d has the following contents:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;build/host/build/host/part1.o: part1.cpp part1.h&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;To me, the double directory listing is an error, but so I tried changing the line: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(CXX) -MT $(BUILD_DIR)/$(@:.d=.o) -MM $(CXXFLAGS) $^ &amp;gt; $@&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;To the following, removing the BUILD_DIR variable:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;$(CXX) -MT $(@:.d=.o) -MM $(CXXFLAGS) $^ &amp;gt; $@&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Doing this solves the double directory listing problem, but gives me a linker error:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;em&gt;build/host/main.o: file not recognized: File format not recognized&lt;/em&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm trying to find some solution to this, which will make sure that the program is recompiled when changes are made to the header files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm trying to figure out what I'm missing, I've looked at the related literature and everything seems to match up.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;SOURCES=main.cpp part1.cpp part2.cpp&#xA;OBJECTS=$(addprefix $(BUILD_DIR)/,$(SOURCES:.cpp=.o))&#xA;DEPS=$(addprefix $(BUILD_DIR)/,$(SOURCES:.cpp=.d))&#xA;EXE=prog&#xA;CXXFLAGS=-I.&#xA;&#xA;#Make sure that default choice for make is the host&#xA;ifndef (${ARCH})&#xA;    ARCH=host&#xA;endif&#xA;&#xA;#Making for host&#xA;ifeq (${ARCH},host)&#xA;CXX=g++&#xA;BUILD_DIR=build/host&#xA;BIN_DIR=bin/host&#xA;endif&#xA;&#xA;# Making for target&#xA;ifeq (${ARCH},target)&#xA;CXX=arm-devkit-g++&#xA;BUILD_DIR=build/target&#xA;BIN_DIR=bin/target&#xA;endif&#xA;&#xA;$(BIN_DIR)/$(EXE): $(DEPS) $(OBJECTS)&#xA;    $(CXX) $(CXXFLAGS) -o $@ $(OBJECTS)&#xA;&#xA;#Generate dependency files. Place them in build/host or build/target depending on choice&#xA;$(BUILD_DIR)/%.d: %.cpp&#xA;    $(CXX) -MT $(BUILD_DIR)/$(@:.d=.o) -MM $(CXXFLAGS) $^ &amp;gt; $@&#xA;&#xA;#Generate object files. Place them in build/host or build/target, depending on choice.&#xA;$(BUILD_DIR)/%.o: %.cpp&#xA;    $(CXX) -o $@ -c $^&#xA;&#xA;#Create the build dir,&#xA;${BUILD_DIR}:&#xA;    mkdir -p ${BUILD_DIR}&#xA;&#xA;#Create the bin dir&#xA;${BIN_DIR}:&#xA;    mkdir -p ${BIN_DIR}&#xA;&#xA;&#xA;.PHONY:clean&#xA;clean:&#xA;    rm -f $(BUILD_DIR)/*.o $(BIN_DIR)/$(EXE) $(BUILD_DIR)/*.d&#xA;&#xA;ifneq ($(MAKECMDGOALS),clean)&#xA;-include $(DEPS)&#xA;endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="4198957" LastActivityDate="2016-09-16T22:02:09.190" Title="Changes in header not resulting in recompile using makefile" Tags="&lt;c++&gt;&lt;makefile&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="39973336" PostTypeId="1" CreationDate="2016-10-11T08:35:08.613" Score="0" ViewCount="85" Body="&lt;p&gt;I have been trying to build HPL with no success. I have installed Open MPI and it is running correctly. I also have the BLAS library.&#xA;But when I try to build I get some errors related to openmpi, I think. For example, I found that &quot;opal_install_dirs&quot; is a symbol from libopen-pal. But I don't know where these undefined references come from so I don't know what to do to fix it.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;fcoll_dynamic_file_write_all.c:(.text+0x20f0): undefined reference to `opal_output'&#xA;fcoll_dynamic_file_write_all.c:(.text+0x2122): undefined reference to `opal_output'&#xA;/usr/local/lib/libmpi.a(fcoll_dynamic_file_write_all.o):fcoll_dynamic_file_write_all.c:(.text+0x216e): more undefined references to `opal_output' follow&#xA;/usr/local/lib/libmpi.a(pinfo_create.o): In function `PMPI_Info_create':&#xA;pinfo_create.c:(.text+0x94): undefined reference to `opal_class_initialize'&#xA;/usr/local/lib/libmpi.a(ppack_external.o): In function `PMPI_Pack_external':&#xA;ppack_external.c:(.text+0xae): undefined reference to `opal_convertor_t_class'&#xA;ppack_external.c:(.text+0x129): undefined reference to `opal_convertor_prepare_for_send'&#xA;ppack_external.c:(.text+0x1ed): undefined reference to `opal_convertor_pack'&#xA;ppack_external.c:(.text+0x23c): undefined reference to `opal_class_initialize'&#xA;/usr/local/lib/libmpi.a(ppack_external_size.o): In function `PMPI_Pack_external_size':&#xA;ppack_external_size.c:(.text+0x7d): undefined reference to `opal_convertor_t_class'&#xA;ppack_external_size.c:(.text+0xf4): undefined reference to `opal_convertor_prepare_for_recv'&#xA;ppack_external_size.c:(.text+0x15c): undefined reference to `opal_class_initialize'&#xA;/usr/local/lib/libmpi.a(punpack_external.o): In function `PMPI_Unpack_external':&#xA;punpack_external.c:(.text+0xa2): undefined reference to `opal_convertor_t_class'&#xA;punpack_external.c:(.text+0x114): undefined reference to `opal_convertor_prepare_for_recv'&#xA;punpack_external.c:(.text+0x1d8): undefined reference to `opal_convertor_unpack'&#xA;punpack_external.c:(.text+0x22c): undefined reference to `opal_class_initialize'&#xA;/usr/local/lib/libmpi.a(pstatus_set_elements_x.o): In function `PMPI_Status_set_elements_x':&#xA;pstatus_set_elements_x.c:(.text+0xb2): undefined reference to `opal_datatype_set_element_count'&#xA;/usr/local/lib/libmpi.a(libdebuggers_la-ompi_debuggers.o): In function `check':&#xA;/home/snc/workspace/openmpi-2.0.1/ompi/debuggers/ompi_debuggers.c:146: undefined reference to `opal_argv_append_nosize'&#xA;/usr/local/lib/libmpi.a(libdebuggers_la-ompi_debuggers.o): In function `ompi_debugger_setup_dlls':&#xA;/home/snc/workspace/openmpi-2.0.1/ompi/debuggers/ompi_debuggers.c:171: undefined reference to `opal_install_dirs'&#xA;/home/snc/workspace/openmpi-2.0.1/ompi/debuggers/ompi_debuggers.c:172: undefined reference to `mca_base_var_register'&#xA;/home/snc/workspace/openmpi-2.0.1/ompi/debuggers/ompi_debuggers.c:181: undefined reference to `opal_argv_split'&#xA;/home/snc/workspace/openmpi-2.0.1/ompi/debuggers/ompi_debuggers.c:186: undefined reference to `opal_argv_free'&#xA;/usr/local/lib/libmpi.a(osc_rdma_frag.o):(.data.rel+0x8): undefined reference to `opal_free_list_item_t_class'&#xA;/usr/local/lib/libmpi.a(vprotocol_pessimist_event.o):(.data.rel+0x8): undefined reference to `opal_list_item_t_class'&#xA;collect2: error: ld returned 1 exit status&#xA;Makefile:76: recipe for target 'dexe.grd' failed&#xA;make[2]: *** [dexe.grd] Error 1&#xA;make[2]: Leaving directory '/home/mpiuser/cloud/hpl/testing/ptest/Linux_Intel64'&#xA;Make.top:64: recipe for target 'build_tst' failed&#xA;make[1]: *** [build_tst] Error 2&#xA;make[1]: Leaving directory '/home/mpiuser/cloud/hpl'&#xA;Makefile:72: recipe for target 'build' failed&#xA;make: *** [build] Error 2&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This is only the end part of the output of make.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;On the configuration file for HPL I have:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;MPdir        = /usr/local&#xA;MPinc        = $(MPdir)/include&#xA;MPlib        = $(MPdir)/lib/libmpi.a&#xA;...&#xA;LAdir        = /usr/lib/libblas&#xA;ifndef  LAinc&#xA;LAinc        = &#xA;endif&#xA;ifndef  LAlib&#xA;LAlib        = $libblas.a&#xA;endif&#xA;...&#xA;# ----------------------------------------------------------------------&#xA;# - Compilers / linkers - Optimization flags ---------------------------&#xA;# ----------------------------------------------------------------------&#xA;#&#xA;CC       = mpicc&#xA;CCNOOPT  = $(HPL_DEFS)&#xA;&#xA;CCFLAGS  = $(HPL_DEFS) -fomit-frame-pointer -O3 -funroll-loops -fopenmp&#xA;#&#xA;# On some platforms,  it is necessary  to use the Fortran linker to find&#xA;# the Fortran internals used in the BLAS library.&#xA;#&#xA;LINKER       = $(CC)&#xA;LINKFLAGS    = $(CCFLAGS)  &#xA;#&#xA;ARCHIVER     = ar&#xA;ARFLAGS      = r&#xA;RANLIB       = echo&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I tried different options there, from information that I found on several posts and forums, and I got over some other previous errors, but I can't find anything to fix this one. Can someone see what could be wrong? Thanks.&lt;/p&gt;&#xA;" OwnerUserId="4507769" LastActivityDate="2016-10-11T09:21:28.713" Title="Building HPL errors" Tags="&lt;build&gt;&lt;mpi&gt;&lt;openmpi&gt;&lt;hpc&gt;&lt;blas&gt;" AnswerCount="1" CommentCount="3" />
  <row Id="40012520" PostTypeId="1" AcceptedAnswerId="40014151" CreationDate="2016-10-13T04:50:51.913" Score="0" ViewCount="72" Body="&lt;p&gt;I'm having trouble with MFC when performing the BULK OUT it says that XferData is invalid&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Error&lt;/strong&gt;&#xA;&lt;a href=&quot;https://i.stack.imgur.com/nYEdY.png&quot; rel=&quot;nofollow&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/nYEdY.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;HEADER FILE is &lt;em&gt;CyAPI.H&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;//______________________________________________________________________________&#xA;//&#xA;// Copyright (c) Cypress Semiconductor, 2011&#xA;// All rights reserved.&#xA;//&#xA;//______________________________________________________________________________&#xA;&#xA;#ifndef CyUSBH&#xA;#define CyUSBH&#xA;&#xA;#ifndef   __USB200_H__&#xA;#define   __USB200_H__&#xA;#pragma pack(push,1)&#xA;typedef struct _USB_DEVICE_DESCRIPTOR {&#xA;    UCHAR bLength;&#xA;    UCHAR bDescriptorType;&#xA;    USHORT bcdUSB;&#xA;    UCHAR bDeviceClass;&#xA;    UCHAR bDeviceSubClass;&#xA;    UCHAR bDeviceProtocol;&#xA;    UCHAR bMaxPacketSize0;&#xA;    USHORT idVendor;&#xA;    USHORT idProduct;&#xA;    USHORT bcdDevice;&#xA;    UCHAR iManufacturer;&#xA;    UCHAR iProduct;&#xA;    UCHAR iSerialNumber;&#xA;    UCHAR bNumConfigurations;&#xA;} USB_DEVICE_DESCRIPTOR, *PUSB_DEVICE_DESCRIPTOR;&#xA;&#xA;typedef struct _USB_ENDPOINT_DESCRIPTOR {&#xA;    UCHAR bLength;&#xA;    UCHAR bDescriptorType;&#xA;    UCHAR bEndpointAddress;&#xA;    UCHAR bmAttributes;&#xA;    USHORT wMaxPacketSize;&#xA;    UCHAR bInterval;&#xA;} USB_ENDPOINT_DESCRIPTOR, *PUSB_ENDPOINT_DESCRIPTOR;&#xA;&#xA;typedef struct _USB_CONFIGURATION_DESCRIPTOR {&#xA;    UCHAR bLength;&#xA;    UCHAR bDescriptorType;&#xA;    USHORT wTotalLength;&#xA;    UCHAR bNumInterfaces;&#xA;    UCHAR bConfigurationValue;&#xA;    UCHAR iConfiguration;&#xA;    UCHAR bmAttributes;&#xA;    UCHAR MaxPower;&#xA;} USB_CONFIGURATION_DESCRIPTOR, *PUSB_CONFIGURATION_DESCRIPTOR;&#xA;&#xA;typedef struct _USB_INTERFACE_DESCRIPTOR {&#xA;    UCHAR bLength;&#xA;    UCHAR bDescriptorType;&#xA;    UCHAR bInterfaceNumber;&#xA;    UCHAR bAlternateSetting;&#xA;    UCHAR bNumEndpoints;&#xA;    UCHAR bInterfaceClass;&#xA;    UCHAR bInterfaceSubClass;&#xA;    UCHAR bInterfaceProtocol;&#xA;    UCHAR iInterface;&#xA;} USB_INTERFACE_DESCRIPTOR, *PUSB_INTERFACE_DESCRIPTOR;&#xA;&#xA;typedef struct _USB_STRING_DESCRIPTOR {&#xA;    UCHAR bLength;&#xA;    UCHAR bDescriptorType;&#xA;    WCHAR bString[1];&#xA;} USB_STRING_DESCRIPTOR, *PUSB_STRING_DESCRIPTOR;&#xA;&#xA;typedef struct _USB_COMMON_DESCRIPTOR {&#xA;    UCHAR bLength;&#xA;    UCHAR bDescriptorType;&#xA;} USB_COMMON_DESCRIPTOR, *PUSB_COMMON_DESCRIPTOR;&#xA;#pragma pack(pop)&#xA;#endif&#xA;//______________________________________________________________________________&#xA;&#xA;class CCyIsoPktInfo {&#xA;public:&#xA;    LONG Status;&#xA;    LONG Length;&#xA;};&#xA;&#xA;//______________________________________________________________________________&#xA;&#xA;&#xA;// {AE18AA60-7F6A-11d4-97DD-00010229B959}&#xA;static GUID CYUSBDRV_GUID = {0xae18aa60, 0x7f6a, 0x11d4, 0x97, 0xdd, 0x0, 0x1, 0x2, 0x29, 0xb9, 0x59};&#xA;&#xA;typedef enum {TGT_DEVICE, TGT_INTFC, TGT_ENDPT, TGT_OTHER } CTL_XFER_TGT_TYPE;&#xA;typedef enum {REQ_STD, REQ_CLASS, REQ_VENDOR } CTL_XFER_REQ_TYPE;&#xA;typedef enum {DIR_TO_DEVICE, DIR_FROM_DEVICE } CTL_XFER_DIR_TYPE;&#xA;typedef enum {XMODE_BUFFERED, XMODE_DIRECT } XFER_MODE_TYPE;&#xA;&#xA;const int MAX_ENDPTS = 16;&#xA;const int MAX_INTERFACES = 8;&#xA;const int USB_STRING_MAXLEN = 256;&#xA;&#xA;&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;//&#xA;// The CCyEndPoint ABSTRACT Class&#xA;//&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;class CCyUSBEndPoint&#xA;{&#xA;protected:&#xA;  bool WaitForIO(OVERLAPPED *ovLapStatus);&#xA;&#xA;  virtual PUCHAR BeginDirectXfer(PUCHAR buf, LONG bufLen, OVERLAPPED *ov);&#xA;  virtual PUCHAR BeginBufferedXfer(PUCHAR buf, LONG bufLen, OVERLAPPED *ov);&#xA;&#xA;&#xA;public:&#xA;&#xA;  CCyUSBEndPoint(void);&#xA;  CCyUSBEndPoint(CCyUSBEndPoint&amp;amp; ept);&#xA;  CCyUSBEndPoint(HANDLE h, PUSB_ENDPOINT_DESCRIPTOR pEndPtDescriptor);&#xA;&#xA;  HANDLE        hDevice;&#xA;&#xA;  // The fields of an EndPoint Descriptor&#xA;  UCHAR  DscLen;&#xA;  UCHAR  DscType;&#xA;  UCHAR  Address;&#xA;  UCHAR  Attributes;&#xA;  USHORT MaxPktSize;&#xA;  USHORT PktsPerFrame;&#xA;  UCHAR  Interval;&#xA;&#xA;  // Other fields&#xA;  ULONG  TimeOut;&#xA;  ULONG  UsbdStatus;&#xA;  ULONG  NtStatus;&#xA;&#xA;  DWORD  bytesWritten;&#xA;  DWORD  LastError;&#xA;  bool   bIn;&#xA;&#xA;  XFER_MODE_TYPE   XferMode;&#xA;&#xA;  bool    XferData(PUCHAR buf, LONG &amp;amp;len, CCyIsoPktInfo* pktInfos = NULL);&#xA;  bool    XferData(PUCHAR buf, LONG &amp;amp;bufLen, CCyIsoPktInfo* pktInfos, bool pktMode);&#xA;  virtual PUCHAR BeginDataXfer(PUCHAR buf, LONG len, OVERLAPPED *ov) = 0;&#xA;  virtual bool FinishDataXfer(PUCHAR buf, LONG &amp;amp;len, OVERLAPPED *ov, PUCHAR pXmitBuf, CCyIsoPktInfo* pktInfos = NULL);&#xA;  bool    WaitForXfer(OVERLAPPED *ov, ULONG tOut);&#xA;  ULONG   GetXferSize(void);&#xA;  void    SetXferSize(ULONG xfer);&#xA;&#xA;  bool Reset(void);&#xA;  bool Abort(void);&#xA;&#xA;private:&#xA;&#xA;&#xA;&#xA;};&#xA;&#xA;&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;//&#xA;// The Control Endpoint Class&#xA;//&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;class CCyControlEndPoint : public CCyUSBEndPoint&#xA;{&#xA;private:&#xA;&#xA;public:&#xA;  CCyControlEndPoint(void);&#xA;  CCyControlEndPoint(CCyControlEndPoint&amp;amp; ept);&#xA;  CCyControlEndPoint(HANDLE h, PUSB_ENDPOINT_DESCRIPTOR pEndPtDescriptor);&#xA;&#xA;  CTL_XFER_TGT_TYPE Target;&#xA;  CTL_XFER_REQ_TYPE ReqType;&#xA;  CTL_XFER_DIR_TYPE Direction;&#xA;&#xA;  UCHAR             ReqCode;&#xA;  WORD              Value;&#xA;  WORD              Index;&#xA;&#xA;  bool Read(PUCHAR buf, LONG &amp;amp;len);&#xA;  bool Write(PUCHAR buf, LONG &amp;amp;len);&#xA;  PUCHAR BeginDataXfer(PUCHAR buf, LONG len, OVERLAPPED *ov);&#xA;};&#xA;&#xA;&#xA;&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;//&#xA;// The Isoc Endpoint Class&#xA;//&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;class CCyIsocEndPoint : public CCyUSBEndPoint&#xA;{&#xA;&#xA;protected:&#xA;  virtual PUCHAR BeginDirectXfer(PUCHAR buf, LONG bufLen, OVERLAPPED *ov);&#xA;  virtual PUCHAR BeginBufferedXfer(PUCHAR buf, LONG bufLen, OVERLAPPED *ov);&#xA;&#xA;public:&#xA;  CCyIsocEndPoint(void);&#xA;  CCyIsocEndPoint(HANDLE h, PUSB_ENDPOINT_DESCRIPTOR pEndPtDescriptor);&#xA;&#xA;  PUCHAR BeginDataXfer(PUCHAR buf, LONG len, OVERLAPPED *ov);&#xA;  CCyIsoPktInfo* CreatePktInfos(LONG bufLen, int &amp;amp;packets);&#xA;&#xA;};&#xA;&#xA;&#xA;&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;//&#xA;// The Bulk Endpoint Class&#xA;//&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;class CCyBulkEndPoint : public CCyUSBEndPoint&#xA;{&#xA;public:&#xA;  CCyBulkEndPoint(void);&#xA;  CCyBulkEndPoint(HANDLE h, PUSB_ENDPOINT_DESCRIPTOR pEndPtDescriptor);&#xA;&#xA;  PUCHAR BeginDataXfer(PUCHAR buf, LONG len, OVERLAPPED *ov);&#xA;};&#xA;&#xA;&#xA;&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;//&#xA;// The Interrupt Endpoint Class&#xA;//&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;class CCyInterruptEndPoint : public CCyUSBEndPoint&#xA;{&#xA;public:&#xA;  CCyInterruptEndPoint(void);&#xA;  CCyInterruptEndPoint(HANDLE h, PUSB_ENDPOINT_DESCRIPTOR pEndPtDescriptor);&#xA;&#xA;  PUCHAR BeginDataXfer(PUCHAR buf, LONG len, OVERLAPPED *ov);&#xA;};&#xA;&#xA;&#xA;&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;//&#xA;// The Interface Class&#xA;//&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;&#xA;class CCyUSBInterface&#xA;{&#xA;private:&#xA;protected:&#xA;public:&#xA;  CCyUSBEndPoint *EndPoints[MAX_ENDPTS];  // Holds pointers to all the interface's endpoints, plus a pointer to the Control endpoint zero&#xA;&#xA;  UCHAR bLength;&#xA;  UCHAR bDescriptorType;&#xA;  UCHAR bInterfaceNumber;&#xA;  UCHAR bAlternateSetting;&#xA;  UCHAR bNumEndpoints;           // Not counting the control endpoint&#xA;  UCHAR bInterfaceClass;&#xA;  UCHAR bInterfaceSubClass;&#xA;  UCHAR bInterfaceProtocol;&#xA;  UCHAR iInterface;&#xA;&#xA;  UCHAR bAltSettings;&#xA;  USHORT wTotalLength;          // Needed in case Intfc has additional (non-endpt) descriptors&#xA;&#xA;&#xA;  CCyUSBInterface(HANDLE h, PUSB_INTERFACE_DESCRIPTOR pIntfcDescriptor);&#xA;  CCyUSBInterface(CCyUSBInterface&amp;amp; ifc);  // Copy Constructor&#xA;  ~CCyUSBInterface(void);&#xA;&#xA;};&#xA;&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;//&#xA;// The Config Class&#xA;//&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;&#xA;class CCyUSBConfig&#xA;{&#xA;private:&#xA;&#xA;protected:&#xA;public:&#xA;  CCyUSBInterface *Interfaces[MAX_INTERFACES];&#xA;&#xA;  UCHAR bLength;&#xA;  UCHAR bDescriptorType;&#xA;  USHORT wTotalLength;&#xA;  UCHAR bNumInterfaces;&#xA;  UCHAR bConfigurationValue;&#xA;  UCHAR iConfiguration;&#xA;  UCHAR bmAttributes;&#xA;  UCHAR MaxPower;&#xA;&#xA;  UCHAR AltInterfaces;&#xA;&#xA;&#xA;  CCyUSBConfig(void);&#xA;  CCyUSBConfig(CCyUSBConfig&amp;amp; cfg);  // Copy Constructor&#xA;  CCyUSBConfig(HANDLE h, PUSB_CONFIGURATION_DESCRIPTOR pConfigDescr);&#xA;  ~CCyUSBConfig(void);&#xA;&#xA;&#xA;&#xA;};&#xA;&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;//&#xA;// The USB Device Class - This is the main class that contains members of all the&#xA;// other classes.&#xA;//&#xA;// To use the library, create an instance of this Class and call it's Open method&#xA;//&#xA;////////////////////////////////////////////////////////////////////////////////&#xA;&#xA;class CCyUSBDevice&#xA;{&#xA;// The public members are accessible (i.e. corruptible) by the user of the library&#xA;// Algorithms of the class don't rely on any public members.  Instead, they use the&#xA;// private members of the class for their calculations.&#xA;&#xA;public:&#xA;&#xA;  CCyUSBDevice(HANDLE hnd = NULL, GUID guid = CYUSBDRV_GUID, BOOL bOpen = true);&#xA;  ~CCyUSBDevice(void);&#xA;&#xA;  CCyUSBEndPoint      **EndPoints;     // Shortcut to USBCfgs[CfgNum]-&amp;gt;Interfaces[IntfcIndex]-&amp;gt;Endpoints&#xA;  CCyUSBEndPoint       *EndPointOf(UCHAR addr);&#xA;&#xA;  CCyControlEndPoint   *ControlEndPt;&#xA;  CCyIsocEndPoint      *IsocInEndPt;&#xA;  CCyIsocEndPoint      *IsocOutEndPt;&#xA;  CCyBulkEndPoint      *BulkInEndPt;&#xA;  CCyBulkEndPoint      *BulkOutEndPt;&#xA;  CCyInterruptEndPoint *InterruptInEndPt;&#xA;  CCyInterruptEndPoint *InterruptOutEndPt;&#xA;&#xA;  USHORT                StrLangID;&#xA;  ULONG                 UsbdStatus;&#xA;  ULONG                 NtStatus;&#xA;  ULONG                 DriverVersion;&#xA;  ULONG                 USBDIVersion;&#xA;  char                  DeviceName[USB_STRING_MAXLEN];&#xA;  char                  FriendlyName[USB_STRING_MAXLEN];&#xA;  wchar_t               Manufacturer[USB_STRING_MAXLEN];&#xA;  wchar_t               Product[USB_STRING_MAXLEN];&#xA;  wchar_t               SerialNumber[USB_STRING_MAXLEN];&#xA;&#xA;  CHAR                  DevPath[USB_STRING_MAXLEN];&#xA;&#xA;  USHORT                BcdUSB;&#xA;  USHORT                VendorID;&#xA;  USHORT                ProductID;&#xA;  UCHAR                 USBAddress;&#xA;  UCHAR                 DevClass;&#xA;  UCHAR                 DevSubClass;&#xA;  UCHAR                 DevProtocol;&#xA;  UCHAR                 MaxPacketSize;&#xA;  USHORT                BcdDevice;&#xA;&#xA;  UCHAR                 ConfigValue;&#xA;  UCHAR                 ConfigAttrib;&#xA;  UCHAR                 MaxPower;&#xA;&#xA;  UCHAR                 IntfcClass;&#xA;  UCHAR                 IntfcSubClass;&#xA;  UCHAR                 IntfcProtocol;&#xA;  bool                  bHighSpeed;&#xA;&#xA;  DWORD                 BytesXfered;&#xA;&#xA;&#xA;  UCHAR                 DeviceCount(void);&#xA;  UCHAR                 ConfigCount(void);&#xA;  UCHAR                 IntfcCount(void);&#xA;  UCHAR                 AltIntfcCount(void);&#xA;  UCHAR                 EndPointCount(void);&#xA;&#xA;  UCHAR                 Config(void)     { return CfgNum; }    // Normally 0&#xA;  void                  SetConfig(UCHAR cfg);&#xA;&#xA;  UCHAR                 Interface(void)  { return IntfcNum; }  // Usually 0&#xA;                        // No SetInterface method since only 1 intfc per device (per Windows)&#xA;&#xA;  UCHAR                 AltIntfc(void);&#xA;  bool                  SetAltIntfc(UCHAR alt);&#xA;&#xA;  GUID                  DriverGUID(void) { return DrvGuid; }&#xA;  HANDLE                DeviceHandle(void) { return hDevice; }&#xA;  void                  UsbdStatusString(ULONG stat, PCHAR s);&#xA;  bool                  CreateHandle(UCHAR dev);&#xA;  void                  DestroyHandle();&#xA;&#xA;&#xA;  bool                  Open(UCHAR dev);&#xA;  void                  Close(void);&#xA;  bool                  Reset(void);&#xA;  bool                  ReConnect(void);&#xA;  bool                  Suspend(void);&#xA;  bool                  Resume(void);&#xA;  bool                  IsOpen(void)      { return (hDevice != INVALID_HANDLE_VALUE); }&#xA;&#xA;  UCHAR                 PowerState(void);&#xA;&#xA;&#xA;  void                  GetDeviceDescriptor(PUSB_DEVICE_DESCRIPTOR descr);&#xA;  void                  GetConfigDescriptor(PUSB_CONFIGURATION_DESCRIPTOR descr);&#xA;  void                  GetIntfcDescriptor(PUSB_INTERFACE_DESCRIPTOR descr);&#xA;  CCyUSBConfig          GetUSBConfig(int index);&#xA;&#xA;&#xA;private:&#xA;&#xA;  USB_DEVICE_DESCRIPTOR         USBDeviceDescriptor;&#xA;  PUSB_CONFIGURATION_DESCRIPTOR USBConfigDescriptors[2];&#xA;&#xA;  CCyUSBConfig                 *USBCfgs[2];&#xA;&#xA;  HANDLE                        hWnd;&#xA;  HANDLE                        hDevice;&#xA;  HANDLE                        hDevNotification;&#xA;  HANDLE                        hHndNotification;&#xA;&#xA;  GUID                          DrvGuid;&#xA;&#xA;  UCHAR                         Devices;&#xA;  UCHAR                         Interfaces;&#xA;  UCHAR                         AltInterfaces;&#xA;  UCHAR                         Configs;&#xA;&#xA;  UCHAR                         DevNum;&#xA;  UCHAR                         CfgNum;&#xA;  UCHAR                         IntfcNum;     // The current selected interface's bInterfaceNumber&#xA;  UCHAR                         IntfcIndex;   // The entry in the Config's interfaces table matching to IntfcNum and AltSetting&#xA;&#xA;  void                          GetDevDescriptor(void);&#xA;  void                          GetCfgDescriptor(int descIndex);&#xA;  void                          GetString(wchar_t *s, UCHAR sIndex);&#xA;  void                          SetStringDescrLanguage(void);&#xA;  void                          SetAltIntfcParams(UCHAR alt);&#xA;  bool                          IoControl(ULONG cmd, PUCHAR buf, ULONG len);&#xA;&#xA;  void                          SetEndPointPtrs(void);&#xA;  void                          GetDeviceName(void);&#xA;  void                          GetFriendlyName(void);&#xA;  void                          GetDriverVer(void);&#xA;  void                          GetUSBDIVer(void);&#xA;  void                          GetSpeed(void);&#xA;  void                          GetUSBAddress(void);&#xA;  //void                          CloseEndPtHandles(void);&#xA;&#xA;  bool                          RegisterForPnpEvents(HANDLE h);&#xA;};&#xA;&#xA;//---------------------------------------------------------------------------&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;CODE&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;// MFCApplication2Dlg.cpp : implementation file&#xA;//&#xA;&#xA;#include &quot;stdafx.h&quot;&#xA;#include &quot;MFCApplication2.h&quot;&#xA;#include &quot;MFCApplication2Dlg.h&quot;&#xA;#include &quot;afxdialogex.h&quot;&#xA;#include &quot;afxwin.h&quot;&#xA;#include &quot;CyAPI.h&quot;&#xA;#include &quot;Periph.h&quot;&#xA;#include &quot;Resource.h&quot;&#xA;#include &quot;UART.h&quot;&#xA;&#xA;&#xA;&#xA;#ifdef _DEBUG&#xA;#define new DEBUG_NEW&#xA;#endif&#xA;&#xA;bool IsConnect = false;&#xA;// CAboutDlg dialog used for App About&#xA;&#xA;class CAboutDlg : public CDialogEx&#xA;{&#xA;public:&#xA;    CAboutDlg();&#xA;&#xA;// Dialog Data&#xA;    enum { IDD = IDD_ABOUTBOX };&#xA;&#xA;    protected:&#xA;    virtual void DoDataExchange(CDataExchange* pDX);    // DDX/DDV support&#xA;&#xA;// Implementation&#xA;protected:&#xA;    DECLARE_MESSAGE_MAP()&#xA;};&#xA;&#xA;CAboutDlg::CAboutDlg() : CDialogEx(CAboutDlg::IDD)&#xA;{&#xA;}&#xA;&#xA;void CAboutDlg::DoDataExchange(CDataExchange* pDX)&#xA;{&#xA;    CDialogEx::DoDataExchange(pDX);&#xA;}&#xA;&#xA;BEGIN_MESSAGE_MAP(CAboutDlg, CDialogEx)&#xA;END_MESSAGE_MAP()&#xA;&#xA;&#xA;// CMFCApplication2Dlg dialog&#xA;&#xA;&#xA;&#xA;CMFCApplication2Dlg::CMFCApplication2Dlg(CWnd* pParent /*=NULL*/)&#xA;    : CDialogEx(CMFCApplication2Dlg::IDD, pParent)&#xA;{&#xA;    m_hIcon = AfxGetApp()-&amp;gt;LoadIcon(IDR_MAINFRAME);&#xA;}&#xA;&#xA;void CMFCApplication2Dlg::DoDataExchange(CDataExchange* pDX)&#xA;{&#xA;    CDialogEx::DoDataExchange(pDX);&#xA;}&#xA;&#xA;BEGIN_MESSAGE_MAP(CMFCApplication2Dlg, CDialogEx)&#xA;    ON_WM_SYSCOMMAND()&#xA;    ON_WM_PAINT()&#xA;    ON_WM_QUERYDRAGICON()&#xA;    ON_BN_CLICKED(IDC_BUTTON1, &amp;amp;CMFCApplication2Dlg::OnBnClickedButton1)&#xA;    ON_BN_CLICKED(IDC_BUTTON2, &amp;amp;CMFCApplication2Dlg::OnBnClickedButton2)&#xA;    ON_BN_CLICKED(IDC_BUTTON3, &amp;amp;CMFCApplication2Dlg::OnBnClickedButton3)&#xA;END_MESSAGE_MAP()&#xA;&#xA;&#xA;// CMFCApplication2Dlg message handlers&#xA;&#xA;BOOL CMFCApplication2Dlg::OnInitDialog()&#xA;{&#xA;    CDialogEx::OnInitDialog();&#xA;&#xA;    // Add &quot;About...&quot; menu item to system menu.&#xA;&#xA;    // IDM_ABOUTBOX must be in the system command range.&#xA;    ASSERT((IDM_ABOUTBOX &amp;amp; 0xFFF0) == IDM_ABOUTBOX);&#xA;    ASSERT(IDM_ABOUTBOX &amp;lt; 0xF000);&#xA;&#xA;    CMenu* pSysMenu = GetSystemMenu(FALSE);&#xA;    if (pSysMenu != NULL)&#xA;    {&#xA;        BOOL bNameValid;&#xA;        CString strAboutMenu;&#xA;        bNameValid = strAboutMenu.LoadString(IDS_ABOUTBOX);&#xA;        ASSERT(bNameValid);&#xA;        if (!strAboutMenu.IsEmpty())&#xA;        {&#xA;            pSysMenu-&amp;gt;AppendMenu(MF_SEPARATOR);&#xA;            pSysMenu-&amp;gt;AppendMenu(MF_STRING, IDM_ABOUTBOX, strAboutMenu);&#xA;        }&#xA;    }&#xA;&#xA;    // Set the icon for this dialog.  The framework does this automatically&#xA;    //  when the application's main window is not a dialog&#xA;    SetIcon(m_hIcon, TRUE);         // Set big icon&#xA;    SetIcon(m_hIcon, FALSE);        // Set small icon&#xA;&#xA;    // TODO: Add extra initialization here&#xA;&#xA;    return TRUE;  // return TRUE  unless you set the focus to a control&#xA;}&#xA;&#xA;void CMFCApplication2Dlg::OnSysCommand(UINT nID, LPARAM lParam)&#xA;{&#xA;    if ((nID &amp;amp; 0xFFF0) == IDM_ABOUTBOX)&#xA;    {&#xA;        CAboutDlg dlgAbout;&#xA;        dlgAbout.DoModal();&#xA;    }&#xA;    else&#xA;    {&#xA;        CDialogEx::OnSysCommand(nID, lParam);&#xA;    }&#xA;}&#xA;&#xA;// If you add a minimize button to your dialog, you will need the code below&#xA;//  to draw the icon.  For MFC applications using the document/view model,&#xA;//  this is automatically done for you by the framework.&#xA;&#xA;void CMFCApplication2Dlg::OnPaint()&#xA;{&#xA;    if (IsIconic())&#xA;    {&#xA;        CPaintDC dc(this); // device context for painting&#xA;&#xA;        SendMessage(WM_ICONERASEBKGND, reinterpret_cast&amp;lt;WPARAM&amp;gt;(dc.GetSafeHdc()), 0);&#xA;&#xA;        // Center icon in client rectangle&#xA;        int cxIcon = GetSystemMetrics(SM_CXICON);&#xA;        int cyIcon = GetSystemMetrics(SM_CYICON);&#xA;        CRect rect;&#xA;        GetClientRect(&amp;amp;rect);&#xA;        int x = (rect.Width() - cxIcon + 1) / 2;&#xA;        int y = (rect.Height() - cyIcon + 1) / 2;&#xA;&#xA;        // Draw the icon&#xA;        dc.DrawIcon(x, y, m_hIcon);&#xA;    }&#xA;    else&#xA;    {&#xA;        CDialogEx::OnPaint();&#xA;    }&#xA;}&#xA;&#xA;// The system calls this function to obtain the cursor to display while the user drags&#xA;//  the minimized window.&#xA;HCURSOR CMFCApplication2Dlg::OnQueryDragIcon()&#xA;{&#xA;    return static_cast&amp;lt;HCURSOR&amp;gt;(m_hIcon);&#xA;}&#xA;&#xA;&#xA;void CMFCApplication2Dlg::OnBnClickedButton1()&#xA;{&#xA;&#xA;    USBDevice-&amp;gt;Open(0);&#xA;&#xA;    if (USBDevice-&amp;gt;IsOpen() != TRUE)&#xA;    {&#xA;        AfxMessageBox(_T(&quot;Failed to Open Device&quot;));&#xA;    }&#xA;    else&#xA;    {&#xA;        IsConnect = true;&#xA;    }&#xA;}&#xA;&#xA;&#xA;void CMFCApplication2Dlg::OnBnClickedButton3()&#xA;{&#xA;    USBDevice-&amp;gt;Close();&#xA;    IsConnect = false;&#xA;}&#xA;&#xA;void CMFCApplication2Dlg::OnBnClickedButton2()&#xA;{&#xA;    TCHAR tmpUart[60];&#xA;    long OutPacketSize;&#xA;    OutPacketSize = sizeof(sUart);&#xA;&#xA;    LPTSTR pBuffer;&#xA;    CString sBuffer;&#xA;&#xA;    int i;&#xA;&#xA;    if (IsConnect == false)&#xA;    {&#xA;        AfxMessageBox(_T(&quot;USB Connect Fail&quot;));&#xA;        return;&#xA;    }&#xA;&#xA;    CEdit *OutValue = (CEdit*)GetDlgItem(IDC_OUT_VALUE);&#xA;&#xA;    pBuffer = sBuffer.GetBuffer(60);&#xA;    OutValue-&amp;gt;GetWindowText(pBuffer, 60);&#xA;&#xA;    _tcscpy(tmpUart, pBuffer);&#xA;&#xA;    OutPacketSize = _tcslen(tmpUart);&#xA;&#xA;    for (i = 0; i&amp;lt;OutPacketSize; i++) sUart[i] = tmpUart[i];&#xA;&#xA;    sUart[OutPacketSize + 1] = 0;&#xA;    OutPacketSize = OutPacketSize + 1;&#xA;&#xA;    // Perform the BULK OUT&#xA;&#xA;    if (USBDevice-&amp;gt;BulkOutEndPt)&#xA;    {&#xA;        USBDevice-&amp;gt;BulkOutEndPt-&amp;gt;XferData(sUart, OutPacketSize);&#xA;    }&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This function here will perform the bulk out event. But there seems to be a problem in the XferData(bool) in checking the &lt;code&gt;int[60]&lt;/code&gt; to &lt;code&gt;PUCHAR&lt;/code&gt;. What is the right declaration of the &lt;code&gt;sUart&lt;/code&gt; variable to match with the &lt;code&gt;long OutPacketSize&lt;/code&gt; I think &lt;code&gt;int sUart[60]&lt;/code&gt; is incorrect. Please help me with this one, I'm new to &lt;em&gt;Microsoft Foundation Classes&lt;/em&gt; (MFC)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;void CMFCApplication2Dlg::OnBnClickedButton2()&#xA;{&#xA;    int sUart[60];&#xA;&#xA;    TCHAR tmpUart[60];&#xA;    long OutPacketSize;&#xA;    OutPacketSize = sizeof(sUart);&#xA;&#xA;    LPTSTR pBuffer;&#xA;    CString sBuffer;&#xA;&#xA;    int i;&#xA;&#xA;    if (IsConnect == false)&#xA;    {&#xA;        AfxMessageBox(_T(&quot;USB Connect Fail&quot;));&#xA;        return;&#xA;    }&#xA;&#xA;    CEdit *OutValue = (CEdit*)GetDlgItem(IDC_OUT_VALUE);&#xA;&#xA;    pBuffer = sBuffer.GetBuffer(60);&#xA;    OutValue-&amp;gt;GetWindowText(pBuffer, 60);&#xA;&#xA;    wcscpy_s(tmpUart, pBuffer);&#xA;&#xA;    OutPacketSize = _tcslen(tmpUart);&#xA;&#xA;    for (i = 0; i&amp;lt;OutPacketSize; i++) sUart[i] = tmpUart[i];&#xA;&#xA;    sUart[OutPacketSize + 1] = 0;&#xA;    OutPacketSize = OutPacketSize + 1;&#xA;&#xA;    // Perform the BULK OUT&#xA;&#xA;    if (USBDevice-&amp;gt;BulkOutEndPt)&#xA;    {&#xA;        USBDevice-&amp;gt;BulkOutEndPt-&amp;gt;XferData(sUart, OutPacketSize);&#xA;    }&#xA;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="3144998" LastActivityDate="2016-10-13T06:51:06.163" Title="How to fix cannot convert argument 1 from `int to `PUCHAR`?" Tags="&lt;c++&gt;&lt;mfc&gt;" AnswerCount="1" CommentCount="3" />
  <row Id="40073142" PostTypeId="1" CreationDate="2016-10-16T17:20:13.403" Score="-1" ViewCount="59" Body="&lt;p&gt;Trying to apply a default value in my code when compiling the file.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I need to set a defined key word to a certain value in my code.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So when I compile the code and it doesn't receive any definition in the arguments of the compiler it will use my default value.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm not to sure on how to do this, but I got a little idea:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef MAXWORKLOAD&#xA;#define MAXWORKLOAD 10&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;So if I put this in the code and I use this command line in the argument:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;gcc -W -Wall &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It will use 10 has default?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;And if I use this command line on the compilation: &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;gcc -W -Wall -DMAXWORKLOAD=5&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;It will use the 5 as its new setting?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm not too clear from reading the documentation on this.&lt;/p&gt;&#xA;" OwnerUserId="3464772" LastEditorUserId="4370109" LastEditDate="2016-10-18T08:34:50.517" LastActivityDate="2016-10-18T08:34:50.517" Title="Preprocessor arguments and compiling #ifndef #ifdef in C" Tags="&lt;c&gt;&lt;c-preprocessor&gt;&lt;conditional-compilation&gt;&lt;ifndef&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="40294204" PostTypeId="1" CreationDate="2016-10-27T21:07:08.803" Score="0" ViewCount="9" Body="&lt;p&gt;To protect against multiple definitions, I have an include file with this structure:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef foo_h&#xA;#define foo_h&#xA;&#xA;// all sorts of stuff&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This file might get included multiple times compiling just one .cpp file, as it is included by several other .h files.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;In the eclipse editor (Neon), this whole file is flagged as inactive.  I find it useful to have the editor show active/inactive code as an additional sanity check, but this is not useful.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Is there a workaround for this?&lt;/p&gt;&#xA;" OwnerUserId="1236547" LastActivityDate="2016-10-27T21:07:08.803" Title="Eclipse marks code as inactive due to #ifndef / #define and multiple inclusions?" Tags="&lt;eclipse&gt;" AnswerCount="0" CommentCount="0" />
  <row Id="40615961" PostTypeId="1" CreationDate="2016-11-15T17:20:18.653" Score="0" ViewCount="27" Body="&lt;p&gt;I'm trying to write my own basic libraries to program the Arduino in pure C++. I've tried using a variadic function to implement something similar to Linux's &lt;code&gt;ioctl()&lt;/code&gt; to control the SPI module but it just won't work and I have no idea why. I don't pin 13 (Arduino SCK) light up as expected during SPI transactions indicating that SPI is not operating. All the other functions in my library work properly.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The following is my SPI library:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*&#xA;    spi.h:  SPI driver for Atmega328p&#xA;*/&#xA;&#xA;#ifndef     _SPI_H&#xA;#define     _SPI_H&#xA;&#xA;#include &amp;lt;avr/io.h&amp;gt;&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;stdbool.h&amp;gt;&#xA;#include &amp;lt;stdarg.h&amp;gt;&#xA;#include &amp;lt;inttypes.h&amp;gt;&#xA;&#xA;// SPI bus pin mapping ///////////////////////////////////&#xA;&#xA;#define PORT_SPI    PORTB           // Port register containing SPI pins&#xA;#define DDR_SPI     DDRB            // Data direction register containing SPI pins&#xA;&#xA;#define DDR_SCK     DDB5            // Data direction bit of SPI SCK pin&#xA;#define DDR_MISO    DDB4            // Data direction bit of SPI MISO pin&#xA;#define DDR_MOSI    DDB3            // Data direction bit of SPI MOSI pin&#xA;#define DDR_HWCS    DDB2            // Data direction bit of SPI hardware chip select pin&#xA;&#xA;#define PIN_SCK     PB5             // Port register bit of SPI SCK pin&#xA;#define PIN_MISO    PB4             // Port register bit of SPI MISO pin&#xA;#define PIN_MOSI    PB3             // Port register bit of SPI MOSI pin&#xA;#define PIN_HWCS    PB2             // Port register bit of SPI hardware chip select pin&#xA;&#xA;// SPI ioctl commands ////////////////////////////////////&#xA;&#xA;#define SPIIOCCONF          0       // Configure SPI command&#xA;#define SPIIOCDECONF        1       // Deconfigure SPI command&#xA;#define SPIIOCTRANSMIT      2       // SPI byte exchange command&#xA;&#xA;// Clock frequency settings //////////////////////////////&#xA;&#xA;#define SCK_DIV2    2               // Divide source pulse by 2&#xA;#define SCK_DIV4    4               // Divide source pulse by 4&#xA;#define SCK_DIV8    8               // Divide source pulse by 8&#xA;#define SCK_DIV16   16              // Divide source pulse by 16&#xA;#define SCK_DIV32   32              // Divide source pulse by 32&#xA;#define SCK_DIV64   64              // Divide source pulse by 64&#xA;#define SCK_DIV128  128             // Divide source pulse by 128&#xA;&#xA;// SPI modes /////////////////////////////////////////////&#xA;&#xA;#define SPI_MODE0   0&#xA;#define SPI_MODE1   1&#xA;#define SPI_MODE2   2&#xA;#define SPI_MODE3   3&#xA;&#xA;// SPI transaction data orders ///////////////////////////&#xA;&#xA;#define LSBFIRST    0&#xA;#define MSBFIRST    1&#xA;&#xA;// The SPI module ////////////////////////////////////////&#xA;&#xA;class spiModule {&#xA;&#xA;    private:&#xA;            bool    configured;                             // Indicates whether SPI is operating with a valid configuration&#xA;&#xA;            uint8_t ddrOld, portOld;                        // Value of DDR_SPI and PORT_SPI just before an SPI configuration was called for&#xA;                                                            // ( These variables are used to restore the state of the&#xA;                                                            // SPI pins when SPI is deconfigured )&#xA;&#xA;            /* ioctls used to operate the SPI module */&#xA;&#xA;            void    spiiocconf(int, int, int);              // Configure SPI with a valid clock frequency, data order and SPI mode&#xA;            void    spiiocdeconf(void);                     // Deconfigure SPI and restore SPI pins to their original states&#xA;            void    spiioctransmit(uint8_t, uint8_t *);     // Exchange a byte of data over SPI&#xA;&#xA;            /* ioctl handlers */&#xA;            /* These routines check the validity of the arguments and call the ioctls (above) only if all arguments make sense */&#xA;            /* I've tested these functions by making them public and found that they work perfectly */&#xA;&#xA;            int     conf(int, int, int);                    // call spiiocconf() if arguments are valid and SPI is configured&#xA;            int     deconf(void);                           // call spiiocdeconf() if all arguments are valid and SPI is configured&#xA;            int     transmit(uint8_t, uint8_t *);           // call spiioctransmit() if all arguments are valid and SPI is configured&#xA;&#xA;    public:&#xA;                    spiModule(void);                        // Initialize this class&#xA;            int     ioctl(int action, ... );                // Core ioctl handler (supposed to work like the Linux ioctl() system call). But this one just won't work.&#xA;};&#xA;&#xA;spiModule spi;                                              // Object of class spiModule for using SPI&#xA;&#xA;// Constructor ///////////////////////////////////////////&#xA;&#xA;spiModule::spiModule(void) {&#xA;&#xA;    configured = false;&#xA;}&#xA;&#xA;// Private routines //////////////////////////////////////&#xA;&#xA;/* Ioctls */&#xA;&#xA;void        spiModule::spiiocconf(int clkDiv, int dataOrder, int mode) {&#xA;&#xA;    // Store the values of DDR_SPI and PORT_SPI so they may be recovered when SPI is deconfigured&#xA;&#xA;    ddrOld = DDR_SPI;&#xA;    portOld = PORT_SPI;&#xA;&#xA;    // Configure SCK, MOSI and HWCS as output pins and MISO as an input pin&#xA;&#xA;    DDR_SPI |= (_BV(DDR_HWCS) | _BV(DDR_SCK) | _BV(DDR_MOSI));&#xA;    DDR_SPI &amp;amp;= ~_BV(DDR_MISO);&#xA;&#xA;    // Power up the SPI module&#xA;&#xA;    PRR &amp;amp;= ~_BV(PRSPI);&#xA;&#xA;    // Enable SPI and configure it as master&#xA;&#xA;    SPCR = 0x00;&#xA;    SPCR |= (_BV(SPE) | _BV(MSTR));&#xA;&#xA;    // Set data order&#xA;&#xA;    switch(dataOrder)&#xA;    {&#xA;            case    LSBFIRST:&#xA;                    SPCR |= _BV(DORD);&#xA;                    break;&#xA;&#xA;            case    MSBFIRST:&#xA;                    SPCR &amp;amp;= ~_BV(DORD);&#xA;                    break;&#xA;    }&#xA;&#xA;    // Set SPI mode&#xA;&#xA;    switch(mode)&#xA;    {&#xA;            case    SPI_MODE0:&#xA;                    SPCR &amp;amp;= ~(_BV(CPOL) | _BV(CPHA));&#xA;                    break;&#xA;&#xA;            case    SPI_MODE1:&#xA;                    SPCR |= _BV(CPHA);&#xA;                    SPCR &amp;amp;= ~_BV(CPOL);&#xA;                    break;&#xA;&#xA;            case    SPI_MODE2:&#xA;                    SPCR &amp;amp;= ~_BV(CPHA);&#xA;                    SPCR |= _BV(CPOL);&#xA;                    break;&#xA;&#xA;            case    SPI_MODE3:&#xA;                    SPCR |= (_BV(CPOL) | _BV(CPHA));&#xA;                    break;&#xA;    }&#xA;&#xA;    // Set SPI clock frequency&#xA;&#xA;    switch(clkDiv)&#xA;    {&#xA;            case    SCK_DIV2:&#xA;                    SPCR &amp;amp;= ~(_BV(SPR0) | _BV(SPR1));&#xA;                    SPSR |= _BV(SPI2X);&#xA;                    break;&#xA;&#xA;            case    SCK_DIV4:&#xA;                    SPCR &amp;amp;= ~(_BV(SPR0) | _BV(SPR1));&#xA;                    SPSR &amp;amp;= ~_BV(SPI2X);&#xA;                    break;&#xA;&#xA;            case    SCK_DIV8:&#xA;                    SPCR |= _BV(SPR0);&#xA;                    SPCR &amp;amp;= ~_BV(SPR1);&#xA;                    SPSR |= _BV(SPI2X);&#xA;                    break;&#xA;&#xA;            case    SCK_DIV16:&#xA;                    SPCR |= _BV(SPR0);&#xA;                    SPCR &amp;amp;= ~_BV(SPR1);&#xA;                    SPSR &amp;amp;= ~_BV(SPI2X);&#xA;                    break;&#xA;&#xA;            case    SCK_DIV32:&#xA;                    SPCR &amp;amp;= ~_BV(SPR0);&#xA;                    SPCR |= _BV(SPR1);&#xA;                    SPSR |= _BV(SPI2X);&#xA;                    break;&#xA;&#xA;            case    SCK_DIV64:&#xA;                    SPCR |= _BV(SPR0);&#xA;                    SPCR |= _BV(SPR1);&#xA;                    SPSR |= _BV(SPI2X);&#xA;                    break;&#xA;&#xA;            case    SCK_DIV128:&#xA;                    SPCR |= _BV(SPR0);&#xA;                    SPCR |= _BV(SPR1);&#xA;                    SPSR &amp;amp;= ~_BV(SPI2X);&#xA;                    break;&#xA;    }&#xA;&#xA;    // SPI is now configured&#xA;&#xA;    configured = true;&#xA;    return;&#xA;}&#xA;&#xA;void        spiModule::spiiocdeconf(void) {&#xA;&#xA;    // Clear SPI configuration, power down the SPI module and restore the values of DDR_SPI and PORT_SPI&#xA;&#xA;    SPCR = 0x00;&#xA;    PRR |= _BV(PRSPI);&#xA;&#xA;    DDR_SPI = ddrOld;&#xA;    PORT_SPI = portOld; &#xA;&#xA;    // SPI is no longer configured&#xA;&#xA;    configured = false;&#xA;&#xA;    return;&#xA;}&#xA;&#xA;void        spiModule::spiioctransmit(uint8_t txbyte, uint8_t * rxbyte) {&#xA;&#xA;    // Write TX byte to data register&#xA;&#xA;    SPDR = txbyte;&#xA;    while(!(SPSR &amp;amp; _BV(SPIF)))&#xA;    {&#xA;            /* wait for data transmission to complete */&#xA;    }&#xA;    SPSR &amp;amp;= ~_BV(SPIF);&#xA;&#xA;    // Return RX byte by storing it at the specified location&#xA;&#xA;    if(rxbyte != NULL)&#xA;    {&#xA;            *rxbyte = SPDR;&#xA;    }&#xA;&#xA;    return;&#xA;}&#xA;&#xA;/* Ioctl handlers (verify that all arguments are appropriate and only then proceed with the ioctl) */&#xA;&#xA;int         spiModule::conf(int clkDiv, int dataOrder, int mode) {&#xA;&#xA;    // Return with error of SPI is not configured&#xA;&#xA;    if(!configured)&#xA;    {&#xA;            return -1;&#xA;    }&#xA;&#xA;    // Verify validity of clkDiv (clock pulse division factor)&#xA;&#xA;    switch(clkDiv)&#xA;    {&#xA;            case    SCK_DIV2:&#xA;                    break;&#xA;            case    SCK_DIV4:&#xA;                    break;&#xA;            case    SCK_DIV8:&#xA;                    break;&#xA;            case    SCK_DIV16:&#xA;                    break;&#xA;            case    SCK_DIV32:&#xA;                    break;&#xA;            case    SCK_DIV64:&#xA;                    break;&#xA;            case    SCK_DIV128:&#xA;                    break;&#xA;            default:&#xA;                    return -1;&#xA;    }&#xA;&#xA;    // Verify validity of dataOrder (order of byte transfer)&#xA;&#xA;    switch(dataOrder)&#xA;    {&#xA;            case    LSBFIRST:&#xA;                    break;&#xA;            case    MSBFIRST:&#xA;                    break;&#xA;            default:&#xA;                    return -1;&#xA;    }&#xA;&#xA;    // Check validity of mode (SPI mode)&#xA;&#xA;    switch(mode)&#xA;    {&#xA;            case    SPI_MODE0:&#xA;                    break;&#xA;            case    SPI_MODE1:&#xA;                    break;&#xA;            case    SPI_MODE2:&#xA;                    break;&#xA;            case    SPI_MODE3:&#xA;                    break;&#xA;            default:&#xA;                    return -1;&#xA;    }&#xA;&#xA;    // If all goes well, execute the ioctl&#xA;&#xA;    spiiocconf(clkDiv, dataOrder, mode);&#xA;&#xA;    return 0;&#xA;}&#xA;&#xA;int         spiModule::deconf(void) {&#xA;&#xA;    // If SPI is configured, deconfigure it&#xA;&#xA;    if(!configured)&#xA;    {&#xA;            return -1;&#xA;    }&#xA;&#xA;    spiiocdeconf();&#xA;&#xA;    return 0;&#xA;}&#xA;&#xA;int         spiModule::transmit(uint8_t tx, uint8_t * rx) {&#xA;&#xA;    // If SPI is configured, make a byte exchange&#xA;&#xA;    if(!configured)&#xA;    {&#xA;            return -1;&#xA;    }&#xA;&#xA;    spiioctransmit(tx, rx);&#xA;&#xA;    return 0;&#xA;}&#xA;&#xA;// Public routines ///////////////////////////////////////&#xA;&#xA;int         spiModule::ioctl(int action, ... ) {&#xA;&#xA;    // This routine checks the value of action and executes the respective ioctl&#xA;    // It returns with error if the value of action is not valid&#xA;&#xA;    va_list ap;&#xA;&#xA;    int     clkDiv, dataOrder, mode;&#xA;    uint8_t txbyte;&#xA;    uint8_t * rxbyte;&#xA;&#xA;    int     retVal;&#xA;&#xA;    switch(action)&#xA;    {&#xA;            case    SPIIOCCONF:&#xA;&#xA;                    va_start(ap, action);&#xA;&#xA;                    clkDiv = va_arg(ap, int);&#xA;                    dataOrder = va_arg(ap, int);&#xA;                    mode = va_arg(ap, int);&#xA;&#xA;                    va_end(ap);&#xA;&#xA;                    retVal = conf(clkDiv, dataOrder, mode);&#xA;                    return retVal;&#xA;&#xA;            case    SPIIOCDECONF:&#xA;&#xA;                    retVal = deconf();&#xA;                    return retVal;&#xA;&#xA;            case    SPIIOCTRANSMIT:&#xA;&#xA;                    va_start(ap, action);&#xA;&#xA;                    txbyte = va_arg(ap, uint8_t);&#xA;                    rxbyte = va_arg(ap, uint8_t*);&#xA;&#xA;                    va_end(ap);&#xA;&#xA;                    retVal = transmit(txbyte, rxbyte);&#xA;                    return retVal;&#xA;&#xA;            default:&#xA;                    return -1;&#xA;    }&#xA;}&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'm compiling and uploading my code to the Arduino using the following commands (&lt;code&gt;spiTest.cpp&lt;/code&gt; is a code that I used to test this library)&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;COMPILER=~/Softwares/arduino-1.6.8/hardware/tools/avr/bin/avr-g++&#xA;HEXGENERATOR=~/Softwares/arduino-1.6.8/hardware/tools/avr/bin/avr-objcopy&#xA;UPLOADER=~/Softwares/arduino-1.6.8/hardware/tools/avr/bin/avrdude&#xA;&#xA;AVRDUDE_CFG=~/Softwares/arduino-1.6.8/hardware/tools/avr/etc/avrdude.conf&#xA;&#xA;$COMPILER -c -g -w -D F_CPU=16000000UL -mmcu=atmega328p -std=gnu++11 -o spiTest.o spiTest.cpp&#xA;$COMPILER -mmcu=atmega328p spiTest.o -o spiTest&#xA;&#xA;$HEXGENERATOR -O ihex -R .eeprom spiTest spiTest.hex&#xA;&#xA;$UPLOADER -C $AVRDUDE_CFG -v -p atmega328p -c arduino -P /dev/ttyACM0 -b 115200 -D -U flash:w:spiTest.hex:i&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I've used variadic functions to implement &lt;code&gt;ioctl()&lt;/code&gt; before and it worked when I used the Arduino IDE to compile and upload my program. I don't understand what's preventing variadic functions from working properly in this code.&lt;/p&gt;&#xA;" OwnerUserId="6367862" LastActivityDate="2016-11-15T18:15:42.690" Title="Variadic functions not working on arduino" Tags="&lt;arduino&gt;&lt;variadic-functions&gt;&lt;avr-gcc&gt;&lt;avrdude&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="40629479" PostTypeId="1" AcceptedAnswerId="40629530" CreationDate="2016-11-16T10:16:29.793" Score="-2" ViewCount="93" Body="&lt;p&gt;I'm trying to figure out, how to use C headers with #ifndef and #include.&#xA;Lets say I have these two header files:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;headerA.h:&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef HEADERA_H&#xA;#define HEADERA_H&#xA;&#xA;#include &quot;headerB.h&quot;&#xA;&#xA;typedef int MyInt;&#xA;TFoo foo;&#xA;... some other structures from headerB.h ...&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;headerB.h&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef HEADERB_H&#xA;#define HEADERB_H&#xA;&#xA;#include &quot;headerA.h&quot;&#xA;&#xA;typedef struct foo{&#xA;    MyInt x;&#xA;} TFoo;&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;headerA.c&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;headerA.h&quot;&#xA;&#xA;... some code ...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;headerB.c&lt;/strong&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &quot;headerB.h&quot;&#xA;&#xA;... some code ...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When compiling headerB.c, it says &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;In file included from headerB.h,&#xA;                 from headerB.c:&#xA;headerA.h: error: unknown type name ‘MyInt’&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I think, it's becouse when &lt;strong&gt;headerB.h&lt;/strong&gt; is compiling, it defines &lt;strong&gt;HEADERB_H&lt;/strong&gt; and then, when &lt;strong&gt;headerA.h&lt;/strong&gt; wants to include &lt;strong&gt;headerB.h&lt;/strong&gt;, the &lt;code&gt;#ifndef HEADERA_H&lt;/code&gt; is false = skips including.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;What is the best practice here? I just read, that best practice is to do all &lt;code&gt;#include&lt;/code&gt; directives in header files, but in this situation it looks like a problem.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;EDIT: Ok, sorry for misleading you. This is just and example from bigger project with more files.&lt;/p&gt;&#xA;" OwnerUserId="3035795" LastEditorUserId="3035795" LastEditDate="2016-11-16T10:23:59.987" LastActivityDate="2016-11-16T10:37:41.440" Title="C header file #ifndef #include error" Tags="&lt;c&gt;&lt;header&gt;&lt;include&gt;&lt;typedef&gt;&lt;ifndef&gt;" AnswerCount="2" CommentCount="0" />
  <row Id="40659357" PostTypeId="1" AcceptedAnswerId="41862208" CreationDate="2016-11-17T15:52:48.590" Score="0" ViewCount="32" Body="&lt;p&gt;all!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm configuring exim mail-server and I'm a newbie to it. It is not my first mail server configuration, but first of exim.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So far, I have read different config docs (e.g. &lt;a href=&quot;http://marc.merlins.org/linux/exim/&quot; rel=&quot;nofollow noreferrer&quot;&gt;this one&lt;/a&gt;) in the Internet and an exim's configuration manual, as well. And now it is more clear to me. But one issue is not clear yet - it is concerned &lt;code&gt; .ifdef, .ifndef &lt;/code&gt; directives.&lt;br/&gt;&#xA;For example,&#xA;&lt;pre&gt;&lt;code&gt;.ifdef CHECK_MAIL_HELO_ISSUED&#xA;  deny&#xA;    message = no HELO given before MAIL command&#xA;    condition = ${if def:sender_helo_name {no}{yes}}&#xA;.endif&#xA;&lt;/pre&gt;&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;br/&gt;&#xA;As far as I saw from the &lt;a href=&quot;http://exim.org/exim-html-current/doc/html/spec_html/ch-the_exim_run_time_configuration_file.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;manual&lt;/a&gt;, this clause means if the macros CHECK_MAIL_HELO_ISSUED is declared, then followed actions will be applied. But if it is not present anywhere, the actions will not be applied.&lt;br/&gt;&#xA;And if I want to apply that acl (it is a part of acl), it is better to use that without &lt;code&gt;.ifdef&lt;/code&gt; directive.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;So, please, correct me if I'm wrong,&lt;/p&gt;&#xA;" OwnerUserId="6301042" LastActivityDate="2017-01-25T21:45:49.607" Title="EXIM4 configuration directives: .ifdef, ifndef" Tags="&lt;configuration&gt;&lt;exim&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="40819253" PostTypeId="1" CreationDate="2016-11-26T14:15:39.580" Score="0" ViewCount="49" Body="&lt;p&gt;I have the following &lt;code&gt;makefile&lt;/code&gt;:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;SHELL += -eu&#xA;GREEN=$(shell echo -e &quot;\033[0;32m&quot;)&#xA;RED=$(shell echo -e &quot;\033[0;31m&quot;)&#xA;&#xA;AWS=$(shell command aws --version 2&amp;gt; /dev/null)&#xA;all: prereqs&#xA;    @echo &quot;${GREEN} ✓ Testing our local environment for dependencies.&quot;&#xA;&#xA;prereqs:&#xA;    ifndef &quot;${AWS}&quot;&#xA;        $(error &quot;${RED} AWS is not available please install aws-cli&quot;)&#xA;    endif&#xA;        &quot;${AWS}&quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;How do I change it so that if there is dependancy missing to show a more appropriate error and continue with the check?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I tried:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;prereqs:&#xA;    aws --version || $(error &quot;${RED} AWS is not available please install aws-cli&quot;)&#xA;    @echo&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;But it does not seem to be working, what am I missing as &lt;code&gt;aws&lt;/code&gt; exists!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any advice is much appreciated.&lt;/p&gt;&#xA;" OwnerUserId="477340" LastEditorUserId="3776858" LastEditDate="2016-11-26T15:36:37.153" LastActivityDate="2016-11-26T19:18:47.737" Title="bash to test if command can run" Tags="&lt;bash&gt;&lt;makefile&gt;" AnswerCount="1" CommentCount="3" FavoriteCount="0" />
  <row Id="40963792" PostTypeId="1" AcceptedAnswerId="40964069" CreationDate="2016-12-04T21:20:17.380" Score="0" ViewCount="51" Body="&lt;p&gt;My question is rather direct, is this code portable?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include  &amp;lt;cstdint&amp;gt;&#xA;&#xA;#ifndef  ECS_INT&#xA;  #define  ECS_INT  uint32_t&#xA;#endif&#xA;&#xA;#ifndef  ECS_MAX_NB_COMPONENTS&#xA;  #define  ECS_MAX_NB_COMPONENTS  255&#xA;#endif&#xA;&#xA;static constexpr uint8_t  FIND_MAX_NUMBER_OF_BITS(uint64_t base) {&#xA;&#xA;  //! Round to upper pow2&#xA;  base--;&#xA;  base |= base &amp;gt;&amp;gt; 1;&#xA;  base |= base &amp;gt;&amp;gt; 2;&#xA;  base |= base &amp;gt;&amp;gt; 4;&#xA;  base |= base &amp;gt;&amp;gt; 8;&#xA;  base |= base &amp;gt;&amp;gt; 16;&#xA;  base |= base &amp;gt;&amp;gt; 32;&#xA;  base++;&#xA;&#xA;  //! Check bits number&#xA;  uint8_t  counter = 0;&#xA;  while (!(base &amp;amp; (1 &amp;lt;&amp;lt; counter)))&#xA;    ++counter;&#xA;  return counter;&#xA;}&#xA;&#xA;static constexpr const ECS_INT  INVALID_INDEX           = ((ECS_INT) - 1);&#xA;static constexpr const uint8_t  ECS_INT_MAX_BITS        = FIND_MAX_NUMBER_OF_BITS(INVALID_INDEX) + 1;&#xA;static constexpr const uint8_t  ECS_COMPONENT_MAX_BITS  = FIND_MAX_NUMBER_OF_BITS(ECS_MAX_NB_COMPONENTS);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I'm not an expert about bits but I think the language allow this to be portable. Or maybe I should use something like &lt;code&gt;std::bitset&lt;/code&gt; ?&lt;/p&gt;&#xA;" OwnerUserId="5890258" LastActivityDate="2016-12-04T21:47:04.540" Title="Bit shift portability" Tags="&lt;c++&gt;&lt;bit-manipulation&gt;&lt;portability&gt;" AnswerCount="1" CommentCount="0" />
  <row Id="41300922" PostTypeId="1" AcceptedAnswerId="41301364" CreationDate="2016-12-23T11:47:29.220" Score="0" ViewCount="63" Body="&lt;p&gt;I've upgraded my C++ project from VS 2010 to 2015 and have some problems compiling it. Method header looks like following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;void CCodeGenerator::GenerateCode(const MachineExArray &amp;amp; AMachineExArray,&#xA;    const MachineArrays &amp;amp; AMachineArrays,&#xA;    std::ofstream &amp;amp; HeaderFile,&#xA;    std::ofstream &amp;amp; SourceFile)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;There's a line:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;std::string HeaderDefine = path(OutputFilename).filename().generic_string();&#xA;&#xA;for (std::string::iterator Iter = HeaderDefine.begin(); Iter != HeaderDefine.end(); Iter++)&#xA;    *Iter = toupper((unsigned char)*Iter);&#xA;&#xA;HeaderDefine = &quot;__&quot; + HeaderDefine + &quot;_H__&quot;;&#xA;&#xA;HeaderFile &amp;lt;&amp;lt; &quot;#ifndef &quot; &amp;lt;&amp;lt; HeaderDefine &amp;lt;&amp;lt; &quot;\n&quot;; // &amp;lt;-- This one&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Compiler stops here and says: &lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;No operator &quot;&amp;lt;&amp;lt;&quot; matches these operands. Operand types are:&#xA;  std::ofstream &amp;lt;&amp;lt; const char[9]&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;I wrote in C++ long ago, but from what I remember, &lt;code&gt;std::ofstream&lt;/code&gt; is quite liberal and should accept most of simple types as input. Where's the problem?&lt;/p&gt;&#xA;&#xA;&lt;hr /&gt;&#xA;&#xA;&lt;p&gt;When, at the beginning I write &lt;code&gt;HeaderFile.&lt;/code&gt;, It is immediately marked as error (red underline) and comment says, &quot;Incomplete types are not allowed&quot;.&lt;/p&gt;&#xA;" OwnerUserId="453803" LastEditorUserId="453803" LastEditDate="2016-12-23T12:03:05.473" LastActivityDate="2016-12-23T12:15:12.197" Title="std::ofstream does not accept const char * for &lt;&lt; operator" Tags="&lt;c++&gt;&lt;visual-studio-2015&gt;&lt;ofstream&gt;" AnswerCount="1" CommentCount="11" FavoriteCount="1" />
  <row Id="41660558" PostTypeId="1" AcceptedAnswerId="41660716" CreationDate="2017-01-15T11:26:02.593" Score="0" ViewCount="70" Body="&lt;p&gt;I'm looking for an atom package that generates C++ include guards in .h/.hpp header files. The package should do something like taking an existing C++ header file and surround its contents with appropriate #ifndef #define #endif lines.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If the plugin offers some additional features, like auto-generating cpp and h files from a given class name, that would be great, too.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I'm suprised I couldn't find a sensible plugin by googling for it. Are there any plugins around that match this description?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;em&gt;Note: This is not a question seeking for opinions (/out-of-topic), but for material to base my further research for such a plugin on.&lt;/em&gt;&lt;/p&gt;&#xA;" OwnerUserId="7009068" LastActivityDate="2017-01-15T11:45:35.840" Title="generate c++ include header guards in atom?" Tags="&lt;c++&gt;&lt;header-files&gt;&lt;atom-editor&gt;&lt;auto-generate&gt;&lt;include-guards&gt;" AnswerCount="1" CommentCount="1" ClosedDate="2017-01-16T01:06:44.087" />
  <row Id="41674162" PostTypeId="1" CreationDate="2017-01-16T10:23:13.303" Score="1" ViewCount="55" Body="&lt;p&gt;I fount the below code in QT header file named &quot;mywidget.h&quot;.&#xA;Could any one please clarify the below questions: &lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;What the code does ?&lt;/li&gt;&#xA;&lt;li&gt;Is it a good practice ?&lt;/li&gt;&#xA;&lt;li&gt;Where can I find similar kind of code snippets to enhance my knowledge?&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&lt;pre class=&quot;lang-c prettyprint-override&quot;&gt;&lt;code&gt;     #ifndef %PRE_DEF%&#xA;     #define %PRE_DEF%&#xA;&#xA;        #include &amp;lt;%BASECLASS%&amp;gt;&#xA;&#xA;        class %CLASS% : public %BASECLASS%&#xA;        {&#xA;            Q_OBJECT&#xA;&#xA;        public:&#xA;            %CLASS%(QWidget *parent = 0);&#xA;            ~%CLASS%();&#xA;        };&#xA;&#xA;        #endif // %PRE_DEF%&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="5591286" LastEditorUserId="995714" LastEditDate="2017-01-16T10:56:11.740" LastActivityDate="2017-01-16T10:56:11.740" Title="What does the code does and how can i use it in my custom projects?" Tags="&lt;c++&gt;&lt;qt&gt;" AnswerCount="1" CommentCount="2" />
  <row Id="41837421" PostTypeId="1" CreationDate="2017-01-24T19:32:33.813" Score="1" ViewCount="29" Body="&lt;p&gt;I'm completely new to c++ and I've been handed a data analysis program that I want to run. I essentially only have one error to get through (after having eliminated hundreds) but I can't seem to crack what this one means. This code runs perfectly fine on a Mac but mine is Windows. I'm also using Visual Studio.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the script where the error occurs. The error is at the line that reads:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;typedef char WORD[NWORD];&#xA;&#xA;/***********************************************&#xA;&#xA; Header file with generally useful Macros&#xA;&#xA; Version for  C++&#xA;&#xA; As written here, can be included &quot;indescriminantly&quot;&#xA; without danger of multiple definitions.  Nothing will&#xA; be inserted if content has already been included.&#xA;&#xA; Program must also include stdio.h and stdlib.h, but these&#xA; are almost universal.&#xA;&#xA; *********************************************************/&#xA;&#xA;#ifndef  MCRO&#xA;&#xA;#define MCRO&#xA;&#xA;#define PI  3.14159265358979&#xA;&#xA;#define AND     &amp;amp;&amp;amp;&#xA;#define OR      ||&#xA;#define IS      ==&#xA;&#xA;#include &amp;lt;cstring&amp;gt;&#xA;&#xA;&#xA;#define STRCHK(x,y) if(strlen(x) &amp;gt;= (y)) {printf(&quot;String %s too long\n&quot;,x);exit(0);}&#xA;&#xA;// This is a macro for checking reads for overrunning memory allocation&#xA;// It is a function  void STRCHK( char* x, int y) that quits program if&#xA;//  string is filled beyond its capacity y.&#xA;//  NOTE:  No ';' is needed to end line with this Macro.&#xA;&#xA;&#xA;#define SKIPLINE(x)   fscanf(x,&quot;%*s%*[^\n\r][\n\r]&quot;)&#xA;// This macro skips a line in reading the file (pointer) x&#xA;// It works regardless of whether \n or\r is used for new lines&#xA;&#xA;#define NWORD   20&#xA;#define NPHRASE 200&#xA;&#xA;typedef char WORD[NWORD];       // Utilities for construction of arrays of strings&#xA;typedef char PHRASE[NPHRASE];&#xA;&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="7465621" LastEditorUserId="472495" LastEditDate="2017-01-24T23:26:35.433" LastActivityDate="2017-01-24T23:26:35.433" Title="'WORD': 'char [20]' differs in levels of indirection from 'unsigned short'" Tags="&lt;c++&gt;&lt;visual-studio&gt;" AnswerCount="1" CommentCount="5" />
  <row Id="42139302" PostTypeId="1" AcceptedAnswerId="42139587" CreationDate="2017-02-09T14:28:57.980" Score="-1" ViewCount="49" Body="&lt;p&gt;I have to filter out from a huge amount of cpp files all the macros defined, excluding the guards, for example:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#if &amp;lt;NAME&amp;gt;&#xA;#ifdef &amp;lt;NAME&amp;gt;&#xA;#ifndef &amp;lt;NAME&amp;gt;&#xA;#if defined(&amp;lt;NAME&amp;gt;)&#xA;#if defined &amp;lt;NAME&amp;gt;&#xA;!defined(&amp;lt;NAME&amp;gt;)&#xA;!defined &amp;lt;NAME&amp;gt;&#xA;#else if &amp;lt;NAME&amp;gt;&#xA;#elif &amp;lt;NAME&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I have to retrieve all the NAMEs, but they are not all in the form &lt;em&gt;XXX&lt;/em&gt;, due to different programmers working on the project, there are a lot of definitions, so I am facing problems in define a regex that can extrapolate only &lt;code&gt;&amp;lt;NAME&amp;gt;&lt;/code&gt; from each of the situations just described. &lt;/p&gt;&#xA;&#xA;&lt;p&gt;Any advice is appreciated!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;&#xA;As someone pointed out, my NAME (with surrondings &amp;lt; ) is only a placeholder, where in reality it can be &lt;em&gt;XXXX&lt;/em&gt;, XXXX, _XX_Y_, _XXX , _XXX_Y, XXYY where X and Y could be uppercase letters or digits, with no regularity in the name! they are directives to the preprocessor and I have to filter them out&lt;/p&gt;&#xA;" OwnerUserId="2648463" LastEditorUserId="2648463" LastEditDate="2017-02-09T14:39:30.197" LastActivityDate="2017-02-09T14:47:51.777" Title="Using regex to filter for preprocessor directives?" Tags="&lt;c++&gt;&lt;regex&gt;&lt;c-preprocessor&gt;&lt;preprocessor-directive&gt;&lt;ifdefine&gt;" AnswerCount="1" CommentCount="1" />
  <row Id="42194320" PostTypeId="1" AcceptedAnswerId="42196868" CreationDate="2017-02-12T23:04:34.013" Score="9" ViewCount="165" Body="&lt;p&gt;The &lt;code&gt;IDeveloperConsoleMessageReceiver&lt;/code&gt; interface in the &lt;code&gt;MSHTML.pas&lt;/code&gt; unit doesn't exists in Delphi 2010, but (probably) exists in more recent versions, because it's a recent feature.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I want to manually declare this interface, but only if it doesn't already exist.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How can I test if this interface is declared?&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Something like the &quot;fake&quot; code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;{$IFNDEF &quot;IDeveloperConsoleMessageReceiver&quot;}&#xA;type&#xA;  IDeveloperConsoleMessageReceiver = interface ...&#xA;{$ENDIF}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="1426921" LastEditorUserId="65863" LastEditDate="2017-02-13T06:37:57.407" LastActivityDate="2017-02-13T06:37:57.407" Title="How test if interface exists in compile-time?" Tags="&lt;delphi&gt;" AnswerCount="2" CommentCount="3" />
  <row Id="42450594" PostTypeId="1" CreationDate="2017-02-25T00:43:50.110" Score="-2" ViewCount="12" Body="&lt;p&gt;I am trying to print the contents of the vector but I am running into issues.  I don't want to use a member in the class because I do not yet understand how it works.  &lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;/*&#xA;@Logan Kilpatrick&#xA;@Program #2...Expense Manager Plus&#xA;@Due on Monday, February 27, 2017&#xA;@V2.0.0&#xA;&#xA;*/&#xA;&#xA;&#xA;&#xA;#include &amp;lt;iostream&amp;gt;&#xA;#include &amp;lt;fstream&amp;gt;&#xA; #include &amp;lt;ostream&amp;gt;&#xA; #include &amp;lt;vector&amp;gt;&#xA; #include &amp;lt;string&amp;gt;&#xA; #include &amp;lt;sstream&amp;gt;&#xA; #include &quot;Expense.h&quot;&#xA; #include &amp;lt;iterator&amp;gt;&#xA; #include &amp;lt;algorithm&amp;gt;&#xA; using namespace std;&#xA;&#xA; class menu&#xA; {&#xA; private:&#xA;&#xA;double userMenuInput;&#xA;string userExitInput;&#xA;double mainMenuValue = 1;&#xA;int m_i = 0;&#xA;string m_searchExpenses;&#xA;string m_spendingDescription;&#xA;double m_spendingAmount;//string right now but might have to be a double&#xA;&#xA; public:&#xA;&#xA;&#xA;void menuSelectionProcess(vector&amp;lt;Expense *&amp;gt; &amp;amp; expenses)&#xA;{&#xA;&#xA;    while (mainMenuValue = 1)&#xA;    {&#xA;        cout &amp;lt;&amp;lt; &quot;1. Show All\n&quot; &amp;lt;&amp;lt; &quot;2. Spend\n&quot; &amp;lt;&amp;lt; &quot;3. Search expenses containing this string\n&quot; &amp;lt;&amp;lt; &quot;4. Search expenses with greater than or equal to this amount\n&quot; &amp;lt;&amp;lt; &quot;5. Exit\n&quot; &amp;lt;&amp;lt; &quot; Enter your option\n&quot; &amp;lt;&amp;lt; endl;&#xA;&#xA;        userMenuInput = 0;&#xA;        cin &amp;gt;&amp;gt; userMenuInput;&#xA;&#xA;        if (userMenuInput == 1)//Show All Variable &#xA;        {&#xA;&#xA;            for (int i = 0; i &amp;lt; expenses.size(); i++)&#xA;            {&#xA;                cout &amp;lt;&amp;lt; (expenses)[i] &amp;lt;&amp;lt; endl;&#xA;&#xA;            }&#xA;&#xA;        }&#xA;        else if (userMenuInput == 2)//Spending Varibale&#xA;        {&#xA;            cout &amp;lt;&amp;lt; &quot;Please enter the description for the spending: &quot;;&#xA;            getline(cin, m_spendingDescription);&#xA;            cin.get();&#xA;            cout &amp;lt;&amp;lt; endl;&#xA;&#xA;            cout &amp;lt;&amp;lt; &quot;Please enter the amount spent: &quot;;&#xA;            cin &amp;gt;&amp;gt; m_spendingAmount;&#xA;            cout &amp;lt;&amp;lt; endl;&#xA;&#xA;                while (cin.fail()) //while loop to validate that it is a number being entered.&#xA;            {&#xA;                cin.clear();&#xA;                cin.ignore(numeric_limits&amp;lt;streamsize&amp;gt;::max(), '\n');&#xA;                cout &amp;lt;&amp;lt; &quot;Invalid entery.  Please enter a NUMBER: &quot;;&#xA;                cin &amp;gt;&amp;gt; m_spendingAmount;&#xA;                cout &amp;lt;&amp;lt; endl;&#xA;&#xA;            }&#xA;                /////might not work//////////////////&#xA;                Expense *pEx1 = new Expense(m_spendingAmount, m_spendingDescription);&#xA;                expenses.push_back(pEx1);&#xA;&#xA;                ////////////////////&#xA;&#xA;                cout &amp;lt;&amp;lt; m_spendingDescription &amp;lt;&amp;lt; &quot; &quot; &amp;lt;&amp;lt; m_spendingAmount &amp;lt;&amp;lt; endl;&#xA;&#xA;&#xA;        }&#xA;        else if (userMenuInput == 3)// search for a string&#xA;        {&#xA;            cout &amp;lt;&amp;lt; &quot;Please enter the expense to search for: &quot;;&#xA;            getline(cin, m_searchExpenses);&#xA;&#xA;&#xA;            for (int count = 0; count &amp;lt; expenses.size(); count++)&#xA;            {&#xA;                if (expenses[count]-&amp;gt;contains(m_searchExpenses))&#xA;                {&#xA;                    cout &amp;lt;&amp;lt; expenses[count] &amp;lt;&amp;lt; endl;&#xA;                    cout &amp;lt;&amp;lt; expenses[count]-&amp;gt;contains(m_searchExpenses) &amp;lt;&amp;lt; endl;&#xA;                }&#xA;            }&#xA;            userMenuInput = 0;&#xA;&#xA;        }&#xA;        else if (userMenuInput == 4)//search for numbers greator than or equal too.  &#xA;        {&#xA;&#xA;&#xA;&#xA;        }&#xA;        else if (userMenuInput == 5)// Exit Varibale &#xA;        {&#xA;            cout &amp;lt;&amp;lt; &quot;Are you sure you want to exit? [Y/N]&quot;;&#xA;            cin &amp;gt;&amp;gt; userExitInput;&#xA;&#xA;            if ((userExitInput == &quot;Y&quot;) || (userExitInput == &quot;y&quot;))&#xA;            {&#xA;                mainMenuValue == 2;&#xA;                cout &amp;lt;&amp;lt; &quot;Thank you for using the program&quot; &amp;lt;&amp;lt; endl;&#xA;                while ((userExitInput == &quot;Y&quot;) || (userExitInput == &quot;y&quot;))&#xA;                {&#xA;&#xA;                }&#xA;            }&#xA;            else if ((userExitInput == &quot;N&quot;) || (userExitInput == &quot;n&quot;))&#xA;            {&#xA;                cout &amp;lt;&amp;lt; &quot;Welcome back to the program&quot; &amp;lt;&amp;lt; endl;&#xA;                cout &amp;lt;&amp;lt; endl;&#xA;            }&#xA;            else if (userMenuInput != 1, 2, 3, 4)&#xA;            {&#xA;&#xA;                cout &amp;lt;&amp;lt; &quot;Invalid input.  Please try again&quot; &amp;lt;&amp;lt; endl;&#xA;                cout &amp;lt;&amp;lt; endl;&#xA;            }&#xA;&#xA;        }&#xA;        else&#xA;        {&#xA;            cin.clear(1024, '\n');&#xA;            cout &amp;lt;&amp;lt; &quot;Please enter a valid input&quot; &amp;lt;&amp;lt; endl;&#xA;        }&#xA;&#xA;        cin.get();&#xA;&#xA;    }&#xA;&#xA;}&#xA;&#xA; };&#xA;      void display(string &amp;amp;fileName, vector&amp;lt;Expense *&amp;gt; &amp;amp; expenses)&#xA; {&#xA;double expenseAmount;&#xA;string expenseName;&#xA;&#xA;stringstream expenseHolder;&#xA;string tempOutput;&#xA;&#xA;ifstream file(fileName);&#xA;&#xA;if (file.is_open())&#xA;{&#xA;    while (!file.eof())&#xA;    {&#xA;&#xA;        getline(file, tempOutput);//saves the line into a temp output string &#xA;&#xA;        cout &amp;lt;&amp;lt; &quot;DEBUG: &quot; &amp;lt;&amp;lt; tempOutput &amp;lt;&amp;lt; endl;&#xA;&#xA;        int length = tempOutput.length();&#xA;        if (length &amp;gt; 0)&#xA;        {&#xA;            stringstream expenseHolder(tempOutput);//sends string to stringstream&#xA;&#xA;            expenseAmount = -1;&#xA;            expenseHolder &amp;gt;&amp;gt; expenseAmount;//This is my attemp to parse the info. It does not work&#xA;            cout &amp;lt;&amp;lt; &quot;DEBUG: &quot; &amp;lt;&amp;lt; expenseAmount &amp;lt;&amp;lt; endl;&#xA;&#xA;            expenseName = &quot;TEMP&quot;;&#xA;            getline(expenseHolder, expenseName);//This also does not work&#xA;            cout &amp;lt;&amp;lt; &quot;DEBUG: &quot; &amp;lt;&amp;lt; expenseName &amp;lt;&amp;lt; endl;&#xA;&#xA;            cout &amp;lt;&amp;lt; expenseAmount &amp;lt;&amp;lt; expenseName &amp;lt;&amp;lt; endl;&#xA;&#xA;            Expense *pEx1 = new Expense(expenseAmount, expenseName);&#xA;            expenses.push_back(pEx1);&#xA;&#xA;            cout &amp;lt;&amp;lt; endl;&#xA;        }&#xA;    }&#xA;}&#xA;else cout &amp;lt;&amp;lt; &quot;File is not found. &quot; &amp;lt;&amp;lt; endl;&#xA; }&#xA;&#xA;&#xA; int main(int argc, char *argv[])&#xA; {&#xA;cout &amp;lt;&amp;lt; &quot;Welcome to Expense Manager Plus&quot; &amp;lt;&amp;lt; endl;&#xA;&#xA;menu runFunction;&#xA;vector&amp;lt;Expense *&amp;gt;  expenses;&#xA;&#xA;&#xA;if (argc &amp;lt; 2)&#xA;    cout &amp;lt;&amp;lt; &quot;Please specify the file name.&quot; &amp;lt;&amp;lt; endl;&#xA;else&#xA;{&#xA;    string fileName = argv[1];&#xA;    display(fileName, expenses);&#xA;}&#xA;&#xA;runFunction.menuSelectionProcess(expenses);&#xA;&#xA;&#xA;&#xA;&#xA;cin.get();&#xA;cin.get();&#xA;return 0;&#xA; }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;I also have a header file which I am including below:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifndef  EXPENSE_H&#xA; #define  EXPENSE_H&#xA; #include &amp;lt;string&amp;gt;&#xA; class Expense&#xA; {&#xA; private:&#xA;std::string  m_desc;&#xA;double       m_amount;&#xA; public:&#xA;Expense(double amount, std::string desc) : m_amount(amount), m_desc(desc)&#xA;{&#xA;    m_desc = desc;&#xA;    m_amount = amount;&#xA;}&#xA;std::string getDesc()&#xA;{&#xA;    return m_desc;&#xA;}&#xA;double getAmount()&#xA;{&#xA;    return m_amount;&#xA;}&#xA;std::string toString()&#xA;{&#xA;    //return &quot;AMOUNT($&quot; + m_amount + &quot;)     DESC(&quot; + m_desc + &quot;)&quot;;&#xA;}&#xA;bool contains(std::string &amp;amp; s)&#xA;{&#xA;&#xA;    return false;&#xA;}&#xA;bool hasAmountGreater(double amount)&#xA;{&#xA;    return false;&#xA;}&#xA;&#xA; };&#xA; #endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="7619808" LastActivityDate="2017-02-25T00:43:50.110" Title="How do I print the contents of a pointer to a vector class without using a method in that class?" Tags="&lt;pointers&gt;&lt;vector&gt;" AnswerCount="0" CommentCount="9" FavoriteCount="1" />
  <row Id="42677950" PostTypeId="1" AcceptedAnswerId="42678965" CreationDate="2017-03-08T17:26:24.823" Score="1" ViewCount="20" Body="&lt;p&gt;I'm having some trouble getting a GNU Makefile macro to work the way I would like it to. Here's my test:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;TEST1 = defined&#xA;#TEST2 = defined&#xA;&#xA;define add_ext&#xA;ifndef $(1)&#xA;    $(error $(1) not defined)&#xA;endif&#xA;&#xA;$(1)_EXT = $(1).extended&#xA;endef&#xA;&#xA;TESTS = TEST1 TESTS2&#xA;&#xA;$(foreach test,$(TESTS),$(eval $(call add_ext,$(test))))&#xA;&#xA;all:&#xA;    @echo TEST1: $(TEST1), $(TEST1_EXT)&#xA;    @echo TEST2: $(TEST2), $(TEST2_EXT)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;The macro is supposed to accept the name of a variable and the macro first checks that it is already defined, then creates an associated variable.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Given that I have commented out &lt;code&gt;TEST2&lt;/code&gt;, I was expecting this to fail on &lt;code&gt;TEST2&lt;/code&gt;. But this is the error message:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;Makefile:15: *** TEST1 not defined.  Stop.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;This is very similar to what Buildroot does in their Makefiles:&#xA;&lt;a href=&quot;https://git.buildroot.net/buildroot/tree/package/pkg-generic.mk#n409&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://git.buildroot.net/buildroot/tree/package/pkg-generic.mk#n409&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Anyone know where my trouble is?&lt;/p&gt;&#xA;" OwnerUserId="1327774" LastActivityDate="2017-03-08T18:21:07.373" Title="Checking for defined variables in makefile macros" Tags="&lt;makefile&gt;&lt;macros&gt;&lt;gnu-make&gt;" AnswerCount="1" CommentCount="0" FavoriteCount="0" />
</rows>
